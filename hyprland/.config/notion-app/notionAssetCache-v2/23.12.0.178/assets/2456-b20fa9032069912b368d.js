"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2456],{2456:(e,t,r)=>{r.d(t,{pH:()=>_,SX:()=>F,KX:()=>z,Tl:()=>D,ZD:()=>A,xP:()=>L,Hq:()=>W,SP:()=>K,ZP:()=>O});var i=r(23174),o=r.n(i),l=r(67294),n=r(83355),s=r(13991),a=r(24405),d=r(17215),c=r(41432),p=r(99036),h=r(80951),u=r(83212),m=r(39068),g=r(6695),v=r(42875),y=r(53397),b=r(22808),f=r(55384),k=r(98459),S=r(21202),B=r(6287),T=r(97880),x=r(82990),P=r(5366),w=r(42130),C=r(33929),R=r(77505),M=r(30874),Z=r(81865),E=r(31278),I=r(63867);const V=(0,P.defineMessages)({[c.Ti.quote]:{defaultMessage:"Quote",id:"edit.quoteBlock.label"},[c.Ti.callout]:{defaultMessage:"Callout",id:"edit.calloutBlock.label"},[c.Ti.button]:{defaultMessage:"Button",id:"edit.buttonBlock.label"},[c.Ti.factory]:{defaultMessage:"Template Button",id:"edit.templateButtonBlock.label"},[c.Ti.bookmark]:{defaultMessage:"Bookmark",id:"edit.bookmarkBlockProperty.label"},[c.Ti.equation]:{defaultMessage:"Equation",id:"edit.equationBlock.label"}});function _(e){return V[e]&&C.default.formatMessage(V[e])}function F(e,t){return f.kk.fromBlock(e).getProperties()[t]||[]}class H extends n.Z{constructor(){super(...arguments),this.inCommentsSidebar=()=>"comments_sidebar"===this.props.blockPreviewLocation,this.getRecordValue=this.props.rootStore.getRecordValue,this.getRecordModel=f.om.fromGetRecordValueFn(this.getRecordValue)}renderComponent(){const{blockValue:e}=this.props;switch(e.type){case c.Ti.text:return this.renderTextBlock(e);case c.Ti.header:return this.renderHeaderBlock(e);case c.Ti.subHeader:return this.renderSubHeaderBlock(e);case c.Ti.subSubHeader:return this.renderSubSubHeaderBlock(e);case c.Ti.toggle:return this.renderToggleBlock(e);case c.Ti.bulletedList:return this.renderBulletedListBlock(e);case c.Ti.numberedList:return this.renderNumberedListBlock(e);case c.Ti.quote:return this.renderQuoteBlock(e);case c.Ti.factory:return this.renderFactoryBlock(e);case c.Ti.button:{const t=f.kk.fromBlock(e).getAutomationPointer();if(t){const e=this.getRecordModel(t);if(e)return this.renderButtonBlock(e)}break}case c.Ti.equation:return this.renderEquationBlock(e);case c.Ti.toDo:return this.renderTodoBlock(e);case c.Ti.code:return this.renderCodeBlock(e);case c.Ti.bookmark:return this.renderBookmarkBlock(e);case c.Ti.page:return this.renderPageBlock(f.kk.fromBlock(e));case c.Ti.collectionView:case c.Ti.collectionViewPage:{const t=f.kk.fromBlock(e).getCollectionPointer();if(t){const e=this.getRecordModel(t);if(e)return this.renderCollectionBlock(e)}break}case c.Ti.image:return this.renderImageBlock(e);case c.Ti.embed:return this.renderEmbedBlock(e,"embed");case c.Ti.framer:return this.renderEmbedBlock(e,"framer");case c.Ti.tweet:return this.renderEmbedBlock(e,"tweet");case c.Ti.gist:return this.renderEmbedBlock(e,"gist");case c.Ti.drive:return this.renderDriveBlock(e);case c.Ti.maps:return this.renderEmbedBlock(e,"maps");case c.Ti.invision:return this.renderEmbedBlock(e,"invision");case c.Ti.video:return this.renderEmbedBlock(e,"video");case c.Ti.audio:return this.renderEmbedBlock(e,"audio");case c.Ti.file:return this.renderEmbedBlock(e,"file");case c.Ti.callout:return this.renderCalloutBlock(e);case c.Ti.whimsical:return this.renderEmbedBlock(e,"whimsical");case c.Ti.miro:return this.renderEmbedBlock(e,"miro");case c.Ti.abstract:return this.renderEmbedBlock(e,"abstract");case c.Ti.mixpanel:return this.renderEmbedBlock(e,"mixpanel");case c.Ti.sketch:return this.renderEmbedBlock(e,"sketch");case c.Ti.excalidraw:return this.renderEmbedBlock(e,"excalidraw");case c.Ti.replit:return this.renderEmbedBlock(e,"replit");case c.Ti.pdf:return this.renderEmbedBlock(e,"pdf");case c.Ti.table:return this.renderSimpleTableBlock(e);case c.Ti.tableRow:return this.renderSimpleTableRowBlock(e);case c.Ti.externalObjectInstance:return this.renderExternalObjectInstanceBlock(e);case c.Ti.linkToPage:case c.Ti.personalHomePage:case c.Ti.linkToCollection:case c.Ti.divider:case c.Ti.columnList:case c.Ti.column:case c.Ti.copyIndicator:case c.Ti.breadcrumb:case c.Ti.figma:case c.Ti.loom:case c.Ti.typeform:case c.Ti.codepen:case c.Ti.tableOfContents:case c.Ti.alias:case c.Ti.transclusionContainer:case c.Ti.transclusionReference:case c.Ti.hex:case c.Ti.tab:case c.Ti.deepnote:case c.Ti.externalObjectInstancePage:case c.Ti.aiBlock:case c.Ti.drawing:return;default:(0,T.t1)(e)}}getEditBoxStyle(){return this.inCommentsSidebar()?{marginTop:0,marginBottom:0}:void 0}renderBlockProperty(e,t,r,i){return o()(D,{blockValue:e,prop:t,labeled:r,schema:i,intl:this.props.intl,rootStore:this.props.rootStore})}renderBlockTitle(e){return this.renderBlockProperty(e,"title",!1)}renderCheckbox(e){return o()("div",{style:{marginRight:6,marginTop:3}},void 0,this.renderBlockProperty(e,"checked",!1))}renderTextBlock(e){return this.renderBlockTitle(e)}renderCalloutBlock(e){return o()(u.Z,{title:_(c.Ti.callout),theme:this.theme,created:this.props.created,style:this.getEditBoxStyle(),deleted:this.props.deleted},void 0,this.renderBlockTitle(e))}renderHeaderBlock(e){return o()("div",{style:w.v.headerStyle},void 0,this.renderBlockTitle(e))}renderSubHeaderBlock(e){return o()("div",{style:w.v.subHeaderStyle},void 0,this.renderBlockTitle(e))}renderSubSubHeaderBlock(e){return o()("div",{style:w.v.subSubHeaderStyle},void 0,this.renderBlockTitle(e))}renderToggleBlock(e){return o()(A,{},void 0,this.renderBlockTitle(e))}renderBulletedListBlock(e){return o()("ul",{style:{margin:0,paddingLeft:28}},void 0,o()("li",{},void 0,this.renderBlockTitle(e)))}renderNumberedListBlock(e){return o()("ol",{style:{margin:0,paddingLeft:28}},void 0,o()("li",{},void 0,this.renderBlockTitle(e)))}renderQuoteBlock(e){return o()(u.Z,{title:_(c.Ti.quote),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted},void 0,this.renderBlockTitle(e))}renderFactoryBlock(e){return o()(u.Z,{title:_(c.Ti.factory),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:!0},void 0,this.renderBlockTitle(e))}renderButtonBlock(e){var t;return l.createElement(l.Fragment,null,o()(u.Z,{title:_(c.Ti.button),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted},void 0,(null===(t=e.getProperties())||void 0===t?void 0:t.name)??o()(P.FormattedMessage,{defaultMessage:"Untitled",id:"edit.buttonBlock.defaultTitle"})),o()(P.FormattedMessage,{defaultMessage:"{numberOfActions, plural, one {{numberOfActions} workflow step} other {{numberOfActions} workflow steps}}",id:"edit.buttonBlock.actionCount",values:{numberOfActions:(e.getActionIds()||[]).length}}))}renderEquationBlock(e){return o()(u.Z,{title:_(c.Ti.equation),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted},void 0,this.renderBlockTitle(e))}renderTodoBlock(e){return o()("div",{style:{display:"inline-flex"}},void 0,this.renderCheckbox(e),this.renderBlockTitle(e))}renderCodeBlock(e){return o()(u.Z,{title:K(e),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted},void 0,o()("span",{style:{fontFamily:x.Z.getCompositeFontFamily(s.SP).mono,fontSize:12,tabSize:2}},void 0,this.renderBlockTitle(e)))}renderCaption(e){return this.hasProperty(e,"caption")&&this.renderBlockProperty(e,"caption",!1)}renderEmbedBlock(e,t){const{intl:r}=this.props;return o()(l.Fragment,{},void 0,o()(u.Z,{title:d.xg(r,t),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created,deleted:this.props.deleted},void 0,this.renderSource(e)),o()("div",{style:{marginBottom:4}},void 0,this.renderCaption(e)))}renderImageBlock(e){const t=this.getSource(e);if(t){const r=this.renderCaption(e);return"comments_sidebar"===this.props.blockPreviewLocation?o()(l.Fragment,{},void 0,o()("div",{style:{display:"flex",flexDirection:"column"}},void 0,o()(L,{src:t,permissionRecord:{table:S.iU,id:e.id}}),r&&o()("div",{style:{marginBottom:4}},void 0,r))):o()(l.Fragment,{},void 0,o()("div",{style:{display:"flex"}},void 0,o()("div",{style:{marginTop:4,marginBottom:4}},void 0,o()(L,{src:t,permissionRecord:{table:S.iU,id:e.id}}))),r&&o()("div",{style:{marginBottom:4}},void 0,r))}}renderBookmarkBlock(e){const t=this.hasProperty(e,"title")&&o()(u.Z,{title:_(c.Ti.bookmark),theme:this.theme,style:this.getEditBoxStyle(),created:this.props.created},void 0,this.renderBlockTitle(e));return o()(l.Fragment,{},void 0,t,this.hasProperty(e,"caption")&&o()("div",{style:{marginBottom:t?4:0}},void 0,this.renderCaption(e)))}renderDriveBlock(e){const t=(0,g.v0)(e);return t&&t.title?o()("div",{},void 0,o()(u.Z,{title:o()(P.FormattedMessage,{defaultMessage:"Google Drive file",id:"edit.googleDriveFile.label"}),created:!this.props.deleted,deleted:this.props.deleted,theme:this.theme,style:this.getEditBoxStyle()},void 0,t.title)):e.content?this.renderEmbedBlock(e,"drive"):void 0}renderPageBlock(e){var t;const r=this.getRecordModel({table:S.iU,id:e.id})||e,i=r.getRenderTitle({getRecordModel:this.getRecordModel,userTimeZone:(0,v.r)(),intl:this.props.intl})||o()(P.FormattedMessage,{defaultMessage:"Untitled",id:"edit.pageBlock.untitled"});return o()("div",{style:{display:"flex",alignItems:"center",overflow:"hidden"}},void 0,o()("div",{style:{paddingRight:6}},void 0,o()(U,{icon:null==r||null===(t=r.getFormat())||void 0===t?void 0:t.page_icon,rootStore:this.props.rootStore,blockValue:this.props.blockValue})),o()("div",{className:"notranslate",style:{flex:1,textOverflow:"ellipsis",overflow:"hidden"}},void 0,i))}renderCollectionBlock(e){const t=this.getRecordModel({table:B.v,id:e.id})||e,r=t.getRenderTitle({intl:this.props.intl,getRecordModel:this.getRecordModel,userTimeZone:(0,v.r)()})||o()(P.FormattedMessage,{defaultMessage:"Untitled",id:"edit.collectionBlock.untitled"});return o()("div",{style:{display:"flex",alignItems:"center"}},void 0,o()("div",{style:{paddingRight:4}},void 0,o()(U,{icon:t.icon,rootStore:this.props.rootStore,blockValue:this.props.blockValue})),o()("div",{style:{flex:1}},void 0,r))}renderSimpleTableBlock(e){var t,r,i;const l=(null===(t=e.content)||void 0===t?void 0:t.length)||0,n=(null===(r=e.format)||void 0===r||null===(r=r.table_block_column_order)||void 0===r?void 0:r.length)||0;if(!l||!n)return;const s=e.content?e.content.map((t=>this.getRecordModel({table:e.parent_table,id:t,spaceId:e.space_id}))):[],a=null===(i=e.format)||void 0===i?void 0:i.table_block_column_order;return o()("div",{style:{overflow:"scroll"}},void 0,o()("table",{},void 0,o()("tbody",{},void 0,s.map((e=>e?o()("tr",{},void 0,null==a?void 0:a.map((t=>this.renderSimpleTableCell(e,t)))):void 0)))))}renderSimpleTableRowBlock(e){var t;if(!e.properties||0===(0,T.Yd)(e.properties).length)return;const r=this.getRecordModel({table:e.parent_table,id:e.parent_id,spaceId:e.space_id});if(!r)return;const i=null===(t=r.getFormat())||void 0===t?void 0:t.table_block_column_order;return o()("div",{style:{display:"flex",alignItems:"stretch",margin:4}},void 0,o()("table",{},void 0,o()("tr",{},void 0,null==i?void 0:i.map((t=>this.renderSimpleTableCell(f.kk.fromBlock(e),t))))))}renderExternalObjectInstanceBlock(e){const t=f.kk.fromBlock(e);return o()(u.Z,{title:l.createElement(P.FormattedMessage,d.V1.editLabel),theme:this.theme,created:this.props.created,style:this.getEditBoxStyle(),deleted:this.props.deleted},void 0,d.$F(C.default.getIntl(),t,f.om.fromRecordMap(M.Z.getIntegrationsAsRecordMap())))}renderSimpleTableCell(e,t){const r=F(e,t),i=r&&r.length>0?R.f7({environment:this.environment,cellValue:r,spaceId:e.space_id,parentStore:this.props.rootStore,theme:this.theme}):o()("span",{},void 0," ");return o()("td",{style:{border:`1px solid ${this.theme.tableDividerColor}`,height:"100%"}},void 0,o()("div",{style:{overflowWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",width:"max-content",maxWidth:120,verticalAlign:"top",lineHeight:x.Z.lineHeight.UIRegular.desktop,padding:4}},void 0,i))}renderSource(e){const t=this.getSource(e);return o()("div",{style:{overflow:"hidden",textOverflow:"ellipsis"}},void 0,o()("span",{style:{wordBreak:"break-word"}},void 0,t))}getSource(e){const t=e&&e.properties&&e.properties.source;return h.zB(t)}hasProperty(e,t){return Boolean(e&&e.properties&&e.properties[t])}}function z(e){let{value:t,propertySchema:r,labeled:i,rootStore:l,disableStyleAnnotations:n,disableDateStyleAnnotations:s}=e;return o()(W,{labeled:i,type:r.type,icon:r.icon,name:r.name},void 0,o()(I.Z,{propertySchema:r,value:t,rootStore:l,disableStyleAnnotations:n,disableDateStyleAnnotations:s}))}function D(e){let{blockValue:t,prop:r,labeled:i,schema:l,intl:n,rootStore:s}=e;const a=(l||p.Kc(n))[r];if(a){const e=F(t,r);return o()(z,{value:{value:e,spaceId:(0,k.CG)(t.space_id)},propertySchema:a,labeled:i,rootStore:s})}return null}function A(e){let{children:t}=e;const r=o()("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6}},void 0,y.Z.triangle({width:"0.6875em",height:"0.6875em",transform:"rotateZ(90deg)"}));return o()("div",{style:{display:"inline-flex",alignItems:"center"}},void 0,r,o()("span",{},void 0,t))}function L(e){let{src:t,permissionRecord:r}=e;window.__c={n:"BlockPreviewImage"};const i=(0,a.Fg)();return t?o()(Z.Z,{url:t,isAuthenticated:!0,permissionRecord:r,width:170,render:(e,t)=>{if(t)return o()("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):o()("div",{style:{backgroundColor:i.lightTextColor,height:170,width:170}})}function U(e){let{icon:t,rootStore:r,blockValue:i}=e;if(t){if((0,b.Z)(t))return o()("div",{style:{fontSize:16.2,display:"inline-block"}},void 0,t);{const e=f.kk.fromBlock(i).getRenderIcon({getRecordModel:r.getRecordModel});return o()(E.Z,{disabled:!0,icon:e,isEmptyPage:!1,size:18,style:{marginTop:6,marginBottom:6}})}}return y.Z.page({height:18,width:18})}function W(e){let{children:t,type:r,icon:i,name:l,labeled:n,style:s}=e;window.__c={n:"BlockPreviewPropertyLabel"};const d=(0,a.Fg)();return n?o()("div",{style:s},void 0,o()("div",{style:{display:"flex",color:d.lightTextColor,paddingTop:7,fontSize:12,lineHeight:1,marginBottom:2}},void 0,o()(m.ZP,{type:r,icon:i,size:14,theme:d}),o()("div",{style:{marginLeft:6}},void 0,l)),o()("div",{style:{display:"flex",alignItems:"center",minHeight:24}},void 0,t)):o()("div",{style:s},void 0,t)}function K(e){const t=e&&e.properties&&e.properties.language;if(!t)return o()(P.FormattedMessage,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const r=h.Sj(t,p.fG);return o()(P.FormattedMessage,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:r},id:"edit.codeBlockWithLanguageChanged.label"})}H.displayName="BlockPreview";const O=(0,P.injectIntl)(H)},63867:(e,t,r)=>{r.d(t,{Z:()=>H});var i=r(10434),o=r.n(i),l=r(23174),n=r.n(l),s=(r(57658),r(96486)),a=r.n(s),d=r(67294),c=r(83355),p=r(80951),h=r(8848),u=r(40506),m=r(53397),g=r(74446),v=r(98459),y=r(21202),b=r(77420),f=r(19889),k=r(97880),S=r(82990),B=r(5366),T=r(14976),x=r(17731),P=r(68216),w=r(39111),C=r(29302),R=r(89845),M=r(75561),Z=r(81954),E=r(54368),I=r(70693),V=r(4308);function _(e){window.__c={n:"EditVerificationProperty"};const{textValue:t,rootStore:r}=e,i=(0,B.useIntl)(),o=(0,d.useMemo)((()=>{const e=p._w(t);return e?V.WN(e):{type:"none"}}),[t]),l=(0,Z.VK)((()=>{if("none"!==o.type)return P.t1.createChildStore(r,o.actorPointer)}),[o,r]);if("none"===o.type)return n()("span",{},void 0,i.formatMessage(V.X3.none));let s;return void 0===l?s=n()(C.Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):l.table===f.KJ?s=n()(C.Z,{userStore:l,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):l.table===b.cZ?s=n()(w.Z,{botStore:l,style:{display:"inline-flex",alignItems:"baseline"}}):l.table===E.y?s=n()(C.Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):(0,k.t1)(l),"verified"===o.type&&o.isIndefinite?n()("div",{},void 0,i.formatMessage(V.X3.verifiedIndefinitely,{actor:s})):n()("div",{},void 0,i.formatMessage(V.X3.verifiedUntil,{actor:s,datetime:I.nK({dateTime:o.dateTimeRange.end,intl:i,displayInUserTimezone:!0})}))}class F extends c.Z{constructor(){super(...arguments),this.renderRelation=(e,t)=>{const r=this.getPageTitle(e),{disableStyleAnnotations:i=!1,disableDateStyleAnnotations:o=!1}=this.props;return n()("div",{style:{maxWidth:180,...S.Z.textOverflowStyle}},t,T.IY({environment:this.environment,textValue:{value:r,spaceId:(0,v.CG)(e.spaceId)},parentStore:this.props.rootStore,disableHover:!0,disableStyleAnnotations:i,disableDateStyleAnnotations:o,disabled:!0,theme:this.theme,emojiType:(0,x.e_)(this.environment),katex:this.environment.KatexStore.getKatex(),formulaValueTypes:[]}))},this.getUserValue=e=>P.U6.createChildStore(this.props.rootStore,{table:f.KJ,id:e}).getValue(),this.getRecordValue=g.mF.fromMonomorphicFunctionUnsafe((e=>this.getBlockStore(e.id).getRecordValue(e))),this.getRenderableTextValue=()=>{const{value:e,propertySchema:t}=this.props;if("text"===t.type||"title"===t.type)return e.value;if("relation"===t.type){const e=this.getRelationValue();if(!e)return;const t=e.map(this.getPageTitle);return a().flatten(t)}},this.getPageTitle=e=>{const t=this.getBlockValue(e.id);return t&&(0,p.wS)(t,"title")||[]}}willMountOrUpdate(){const{propertySchema:e}=this.props;"text"!==e.type&&"title"!==e.type&&"relation"!==e.type||this.environment.KatexStore.loadIfNeeded(this.getRenderableTextValue)}renderComponent(){const{value:e}=this.props,t=this.props.propertySchema.type;return"checkbox"!==t&&0===e.value.length?this.renderEmptyProperty():"text"===t?this.renderTextProperty():"checkbox"===t?this.renderCheckboxProperty():"multi_select"===t?this.renderMultiSelectProperty():"select"===t?this.renderSelectProperty():"status"===t?this.renderStatusProperty():"person"===t?this.renderPersonProperty():"number"===t?this.renderNumberProperty():"date"===t?this.renderDateProperty():"url"===t?this.renderUrlProperty():"file"===t?this.renderFileProperty():"email"===t?this.renderEmailProperty():"phone_number"===t?this.renderPhoneNumberProperty():"title"===t?this.renderTextProperty():"created_time"===t?this.renderDateProperty():"created_by"===t?this.renderPersonProperty():"relation"===t?this.renderRelationProperty():"auto_increment_id"===t?this.renderNumberProperty():"verification"===t?this.renderVerificationProperty():"formula"===t||"rollup"===t||"last_edited_by"===t||"last_edited_time"===t||"last_visited_time"===t||"button"===t||"location"===t?null:void(0,k.t1)(t)}renderEmptyProperty(){return n()("div",{style:{color:this.theme.mediumTextColor,fontSize:12}},void 0,n()(B.FormattedMessage,{defaultMessage:"Empty",id:"editProperty.emptyProperty.label"}))}renderTextProperty(){const{value:e,disableStyleAnnotations:t=!1,disableDateStyleAnnotations:r=!1}=this.props,i=T.IY({environment:this.environment,textValue:e,parentStore:this.props.rootStore,disableStyleAnnotations:t,disableDateStyleAnnotations:r,disableHover:!0,disabled:!0,theme:this.theme,emojiType:(0,x.e_)(this.environment),katex:this.environment.KatexStore.getKatex(),formulaValueTypes:[]});return n()("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},void 0,i)}renderCheckboxProperty(){const e=p.Ml(this.props.value.value);return n()("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:e?h.ZP.blue:h.ZP.transparent}},void 0,e?this.getCheckedIcon():this.getUncheckedIcon())}renderMultiSelectProperty(){const e=this.props.propertySchema.options||[],t=p.Ak(this.props.value.value);return n()("div",{style:{display:"inline-flex"}},void 0,t.map(((t,r,i)=>{const l=e.find((e=>e.value===t)),n=i.length-1===r,s=(0,h.KR)(this.theme,null==l?void 0:l.color),a=t??T.Xh(this.props.value.value,this.props.rootStore);return d.createElement(M.Z,o()({},s,{key:r,rightMargin:!n}),a)})))}renderSelectProperty(){const e=this.props.propertySchema.options||[],t=p.Sj(this.props.value.value,e),r=t??T.Xh(this.props.value.value,this.props.rootStore),i=e.find((e=>e.value===t)),o=(0,h.KR)(this.theme,null==i?void 0:i.color);return n()("div",{style:{display:"inline-flex"}},void 0,d.createElement(M.Z,o,r))}renderStatusProperty(){const e=this.props.propertySchema,t=p.yp(this.props.value.value,e),r=t??T.Xh(this.props.value.value,this.props.rootStore),i=(e.options??[]).find((e=>e.value===t)),o=(0,h.KR)(this.theme,null==i?void 0:i.color);return n()("div",{style:{display:"inline-flex"}},void 0,d.createElement(M.Z,o,r))}renderPersonProperty(){const e=p.DW({textValue:this.props.value.value,propertySchema:this.props.propertySchema}),t=[];return e.forEach(((r,i)=>{const o=e.length-1===i;if(r.table===f.KJ){const e=r.id,l=this.getUserValue(e);t.push(n()("div",{style:{marginTop:4,marginRight:o?0:8}},i,n()(C.Z,{userValue:l,inline:!0,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})))}else{const e=r.id,l=this.getBotStore(e);t.push(n()("div",{style:{marginTop:4,marginRight:o?0:8}},i,n()(w.Z,{botStore:l})))}})),n()("div",{style:{display:"inline-flex"}},void 0,t)}renderNumberProperty(){const e=p.VY(this.props.value.value);return n()("div",{},void 0,e)}renderDateProperty(){const e=this.props.propertySchema,t=p.Gl(this.props.value.value);return n()(R.Z,{value:t,dateFormat:e.date_format||u.sF,timeFormat:e.time_format||u.c_})}renderUrlProperty(){return p.zB(this.props.value.value)}renderFileProperty(){const e=p.g(this.props.value.value);return n()("div",{style:{display:"inline-flex"}},void 0,e.map(((e,t,r)=>{const i=r.length-1===t;return n()(M.Z,{rightMargin:!i},t,e.url)})))}renderEmailProperty(){const e=p.zB(this.props.value.value);return n()("div",{},void 0,e)}renderPhoneNumberProperty(){const e=p.zB(this.props.value.value);return n()("div",{},void 0,e)}renderRelationProperty(){let e=this.getRelationValue();if(!e)return;if(e.length>5){const t=e.slice(5).length;return e=e.slice(0,5),n()("div",{},void 0,e.map(this.renderRelation),n()("div",{style:{maxWidth:180,color:this.theme.mediumTextColor}},void 0,n()(B.FormattedMessage,{defaultMessage:"{leftoverCountNumber} more",id:"editProperty.relationEditedProperties.moreCount.label",values:{leftoverCountNumber:t}})))}return n()("div",{},void 0,e.map(this.renderRelation))}renderVerificationProperty(){return n()(_,{textValue:this.props.value.value,rootStore:this.props.rootStore})}getBotStore(e){return P.Qx.createChildStore(this.props.rootStore,{table:b.cZ,id:e})}getBlockStore(e){return P.G.createChildStore(this.props.rootStore,{table:y.iU,id:e})}getBlockValue(e){return this.getBlockStore(e).getValue()}getRelationValue(){if("relation"===this.props.propertySchema.type)return p.j$({relationValue:p.rq(this.props.value.value),getRecordValue:this.getRecordValue,propertySchema:this.props.propertySchema})}getCheckedIcon(){return m.Z.check({fill:h.ZP.white,width:12,height:12})}getUncheckedIcon(){return m.Z.checkboxSquare()}}F.displayName="EditProperty";const H=F},75561:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(23174),o=r.n(i),l=(r(67294),r(82990));function n(e){const{children:t,textColor:r,backgroundColor:i,rightMargin:n,strikethrough:s}=e;return o()("div",{style:{backgroundColor:i,color:r,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:3,marginRight:n?4:0,textDecoration:s?"line-through":void 0}},void 0,o()("span",{style:{...l.Z.textOverflowStyle}},void 0,t))}},42130:(e,t,r)=>{r.d(t,{v:()=>l});var i=r(8848),o=r(82990);class l{static getLabelStyle(e){return{fontSize:12,lineHeight:1,paddingTop:8,color:e.lightTextColor}}static getUserHeaderStyle(e){return{fontSize:12,color:e.mediumTextColor}}static getRoleStyle(){return{fontSize:14,whiteSpace:"nowrap"}}}l.wrapStyle={display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},l.headerStyle={fontWeight:o.Z.fontWeight.semibold},l.subHeaderStyle={fontWeight:o.Z.fontWeight.semibold},l.subSubHeaderStyle={fontWeight:o.Z.fontWeight.semibold},l.permissionStyle={display:"flex",flexDirection:"column",minHeight:28,paddingTop:4,paddingBottom:4},l.groupStyle={display:"flex",alignItems:"center",minHeight:28,fontSize:14,paddingTop:4,paddingBottom:4},l.permissionTypeWrapStyle={display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},l.diffWrapStyle={display:"flex",alignItems:"center"},l.addedStyle={color:i.ZP.blue,backgroundColor:i.ZP.blueWithAlpha(.14)},l.deletedStyle={opacity:.4,marginBottom:6,textDecoration:"line-through"}},83212:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(23174),o=r.n(i),l=r(67294),n=r(8848);class s extends l.PureComponent{render(){const{created:e,deleted:t}=this.props;return o()("div",{style:this.getStyle(Boolean(e))},void 0,o()("div",{style:this.getLabelStyle()},void 0,this.props.title),o()("div",{style:{...t&&{opacity:.4,marginBottom:6,textDecoration:"line-through"}}},void 0,this.props.children))}getStyle(e){return{boxShadow:`inset 0 0 0 1px ${this.props.theme.regularDividerColor}`,borderRadius:3,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4,...e&&{color:n.ZP.diffTextColor,backgroundColor:n.ZP.diffBackground},...this.props.style}}getLabelStyle(){return{fontSize:12,lineHeight:1,marginTop:2,marginBottom:4,color:this.props.theme.regularTextColor}}}const a=s}}]);