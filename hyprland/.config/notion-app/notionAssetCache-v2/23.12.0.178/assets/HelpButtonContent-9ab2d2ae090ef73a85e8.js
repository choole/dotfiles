"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3060],{22312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>he});var o=n(10434),a=n.n(o),i=n(23174),s=n.n(i),r=n(96486),d=n.n(r),l=n(67294),c=n(480),u=n(81954),m=n(24405),p=n(29450),g=n(53397),v=n(89101),f=n(73409),h=n(5366),M=n(50906),b=n(84908),k=n(5978),y=n(39634),T=n(95477),E=n(44819),U=n(33929),w=n(87279),F=n(98742),I=n(33665),Z=n(21115),S=(n(47046),n(58455)),V=n(79315),C=n(10161),_=n(73796),B=n(5188),x=n(475),N=n(83355),R=n(13991),A=n(7057),j=n(11342),H=n(43132),P=n(57491),L=n(49085);class D extends L.default{getInitialState(){return{showUpdateInfo:!1}}}const O=D;var G=n(64921),W=n(28992),Y=n(58032);class K extends N.Z{constructor(){super(...arguments),this.storeTypes={store:O},this.copyVersionInformationToClipboard=e=>{H.Pm(this.environment,e)},this.renderUpdateInfo=()=>{const{AppUpdateStore:e}=this.environment,t=e.state.appUpdate?this.renderUpdateState("App.js - ",e.state.appUpdate):s()(h.FormattedMessage,{defaultMessage:"App.js - Waiting…",id:"appVersionMenuItem.waitingForAppJsUpdate.message"}),n=e.state.electronUpdate&&this.renderUpdateState("Electron - ",e.state.electronUpdate);return s()("div",{},void 0,t,n)},this.handleResetCache=()=>{const{AppUpdateStore:e,mobileNative:t}=this.environment;e.setState({appUpdate:void 0,electronUpdate:e.state.electronUpdate}),t&&t.resetAssetCache()},this.handleShowUpdateInfo=()=>{this.stores.store.setState({showUpdateInfo:!0})}}renderComponent(){const{device:e}=this.environment,t=`Notion 2.32.${T.default.version}`,n=s()(h.FormattedMessage,{id:"appVersionMenuItem.lastUpdatedTime.menuItem",defaultMessage:"Updated {lastUpdatedTime}",values:{lastUpdatedTime:(0,A.tv)(T.default.lastUpdatedTime,R.SP)}});let o=s()(l.Fragment,{},void 0,t,s()("br",{}),n);if(e.isMobileNative){const e=P.getMobileVersion(this.environment),a=s()(h.FormattedMessage,{defaultMessage:"Mobile {reactNativeVersionFormatted}",values:{reactNativeVersionFormatted:(0,j.formatVersion)(e)},id:"appVersionMenuItem.lastUpdatedReactNativeVersion.menuItem"});o=s()(l.Fragment,{},void 0,t,s()("br",{}),a,s()("br",{}),n)}if(e.isElectron){const e=b.getDesktopVersion(),a=s()(h.FormattedMessage,{defaultMessage:"Desktop {desktopVersionFormatted}",values:{desktopVersionFormatted:(0,j.formatVersion)(e)},id:"appVersionMenuItem.desktopVersion.menuItem"});o=s()(l.Fragment,{},void 0,t,s()("br",{}),a,s()("br",{}),n)}const i=T.default.isLocalhost||!1;if(e.isMobile){const e=i&&this.stores.store.state.showUpdateInfo&&s()("div",{},void 0,this.renderUpdateInfo(),s()(G.Z,{style:{paddingTop:4},onClick:this.handleResetCache},void 0,s()(h.FormattedMessage,{defaultMessage:"Clear cache",id:"appVersionMenuItem.mobile.clearCache.message"})));return s()(W.Z,{caption:s()("div",{style:{color:this.theme.lightTextColor}},void 0,s()("div",{style:{userSelect:"none",WebkitUserSelect:"none"}},void 0,o),e),onClick:i?this.handleShowUpdateInfo:void 0})}return i?s()(Y.Z,{renderTooltip:this.renderUpdateInfo,placement:Y.Z.Placement.Left,render:e=>l.createElement(W.Z,a()({onClick:()=>this.copyVersionInformationToClipboard(t),caption:s()("div",{style:{color:this.theme.lightTextColor}},void 0,o)},e))}):s()(W.Z,{onClick:()=>this.copyVersionInformationToClipboard(t),caption:s()("div",{style:{color:this.theme.lightTextColor}},void 0,o)})}renderUpdateState(e,t){return"checking"===t.state?s()("div",{},void 0,e," ",s()(h.FormattedMessage,{defaultMessage:"Checking for updates…",id:"appVersionMenuItem.updateStateForApp.checking.message"})):"no-update"===t.state?s()("div",{},void 0,e," ",s()(h.FormattedMessage,{defaultMessage:"No update {timeFromNow}",id:"appVersionMenuItem.noUpdatesForApp.message",values:{timeFromNow:(0,A.tv)(t.timestamp,R.SP)}})):"downloading"===t.state?s()("div",{},void 0,e," ",s()(h.FormattedMessage,{defaultMessage:"Downloading {version} {percentComplete}",id:"appVersionMenuItem.downloadingUpdate.message",values:{percentComplete:this.props.intl.formatNumber(t.progress,{style:"percent",maximumFractionDigits:0}),version:(0,j.formatVersion)(t.version)}})):"ready"===t.state?s()("div",{},void 0,e," ",s()(h.FormattedMessage,{defaultMessage:"Update ready {version}",id:"appVersionMenuItem.updateReady.message",values:{version:(0,j.formatVersion)(t.version)}})):"error"===t.state?s()("div",{},void 0,e," ",s()(h.FormattedMessage,{defaultMessage:"Update error {errorMessage}",id:"appVersionMenuitem.updateError.message",values:{errorMessage:t.error&&t.error.message}})):void 0}}K.displayName="AppVersionMenuItem";const J=(0,h.injectIntl)(K);var Q=n(52275),q=n(78140),z=n(32163),X=n(72495);const $=function(e){const{locale:t,children:n}=e;return t===R.SP?s()(l.Fragment,{},void 0,n):null};function ee(e){return l.createElement(Q.Z,a()({},e,{isTokenTitle:!0,icon:s()(me,{iconFunc:g.Z.helpButtonSales}),title:s()(h.FormattedMessage,{defaultMessage:"Contact sales",id:"helpButton.salesChat.menuItem"})}))}function te(e){return l.createElement(Q.Z,a()({},e,{isTokenTitle:!0,icon:s()(me,{iconFunc:g.Z.helpButtonGuide}),title:s()(h.FormattedMessage,{defaultMessage:"Help & documentation",id:"helpButton.helpSupportGuide.menuItem"})}))}function ne(e){return l.createElement(Q.Z,a()({},e,{isTokenTitle:!0,icon:s()(me,{iconFunc:g.Z.feedback}),title:s()(h.FormattedMessage,{defaultMessage:"Give feedback",id:"helpButton.giveFeedback.menuItem"})}))}function oe(e){return s()($,{locale:"en-US"},void 0,l.createElement(Q.Z,a()({},e,{title:s()(h.FormattedMessage,{defaultMessage:"Join us",id:"helpButton.joinUs.menuItem"})})))}function ae(e){return l.createElement(Q.Z,a()({},e,{title:s()(h.FormattedMessage,{defaultMessage:"Keyboard shortcuts",id:"helpButton.keyboardShortcuts.menuItem"})}))}function ie(e){return l.createElement(Q.Z,a()({},e,{title:s()(h.FormattedMessage,{defaultMessage:"What's new?",id:"helpButton.whatsNew.menuItem"})}))}function se(e){window.__c={n:"TermsItem"};return(0,c.O7)().device.isMobile?l.createElement(Q.Z,a()({},e,{title:"Terms & privacy"})):l.createElement(Q.Z,a()({},e,{caption:"Terms & privacy"}))}function re(e){window.__c={n:"TwitterItem"};return(0,c.O7)().device.isMobile?l.createElement(Q.Z,a()({},e,{title:s()(h.FormattedMessage,{defaultMessage:"Twitter – @{notionHandle}",id:"helpButton.mobileTwitter.menuItem",values:{notionHandle:"NotionHQ"}})})):l.createElement(Q.Z,a()({},e,{caption:s()(h.FormattedMessage,{defaultMessage:"Twitter – @{notionHandle}",id:"helpButton.twitter.menuItem",values:{notionHandle:"NotionHQ"}})}))}function de(e){window.__c={n:"StatusItem"};return(0,c.O7)().device.isMobile?l.createElement(Q.Z,a()({},e,{title:"Status"})):l.createElement(Q.Z,a()({},e,{caption:"Status"}))}function le(){return s()("span",{},void 0,s()(h.FormattedMessage,{defaultMessage:"To enable messaging, please make sure you have accepted functional cookies.{br}You can update your cookies in your Notion settings.{br}You can also contact us via email at team@makenotion.com.",values:{br:s()("br",{})},id:"helpButton.sendUsAMessage.tooltip.intercom.disabled"}))}function ce(e){window.__c={n:"MessageItem"};const t=(0,c.O7)(),n=(o=t.device,!(0,p.hasPermissionForTrackingTypeBrowser)("preference")&&!o.isMobileNative);var o;return t.device.isElectron?l.createElement(ue,a()({disabled:n},e)):s()(Y.Z,{renderTooltip:()=>s()(le,{}),delayThreshold:0,disableTooltip:!n,placement:Y.Z.Placement.Right,render:t=>l.createElement(ue,a()({disabled:n},(0,F.Z)(e,t)))},e.key)}function ue(e){let{disabled:t,...n}=e;return l.createElement(Q.Z,a()({},n,{isTokenTitle:!0,icon:s()(me,{iconFunc:g.Z.helpButtonMessage}),title:s()(h.FormattedMessage,{defaultMessage:"Message support",id:"helpButton.sendMessage.menuItem"}),disabled:t}))}function me(e){let{size:t,iconFunc:n}=e;window.__c={n:"HelpCenterIcon"};const{iconStyle:o}=(0,m.yK)((e=>{const n=t??16,o=16-n;return{iconStyle:{width:n,height:n,color:e.regularTextColor,fill:e.regularTextColor,marginRight:o}}}),[t]);return n(o)}function pe(e,t){M.Vaw(e,{item:t})}function ge(e){ve(e)||fe()}function ve(e){const{mobileNative:t}=e;return(null==t?void 0:t.supportsNativeHomeOnPhone())||!1}function fe(){x.Z.setState({...x.Z.state,open:!1})}const he=function(e){let{shouldRenderAsStaticModal:t}=e;window.__c={n:"HelpButtonContent"};const n=(0,c.O7)(),o=(0,u.VK)((()=>function(e){const t=(0,Z.qX)()>1,n=!S.default.state.isIntercomEnabled,o="on"===C.default.getGroup("csat")&&!e.device.isMobile;return d().compact([{key:"guide",render:e=>l.createElement(X.Z,e),items:d().compact([{key:"guide",action:()=>function(e){pe(e,"guides"),k.navigateToExternalURL({environment:e,url:(0,I.UY)("guides.guides")}),ge(e)}(e),render:e=>l.createElement(te,e)},n?void 0:{key:"message",action:()=>function(e){pe(e,"help_feedback"),y.j({environment:e,from:"help_button"}),fe()}(e),render:e=>l.createElement(ce,e)},t?{key:"sales",action:()=>function(e){pe(e,"sales_chat");const{currentUserStore:t}=V.default.state,n=U.default.getIntl();if(null==t||!t.isDefined())return;_.Z.setState({open:!0,email:null==t?void 0:t.getEmail(),name:t.getFullName(n)}),fe()}(e),render:e=>l.createElement(ee,e)}:void 0,o?{key:"csat",action:()=>function(e){pe(e,"csat"),B.Z.setState({open:!0,type:f.og}),fe()}(e),render:e=>l.createElement(ne,e)}:void 0])},{key:"middle section",render:e=>l.createElement(X.Z,a()({},e,{topBorder:!0})),items:d().compact([{key:"keyboardshortcut",action:()=>function(e){pe(e,"keyboard_shortcuts"),k.navigateToExternalURL({environment:e,url:(0,I.UY)("guides.keyboardShortcuts")}),ge(e)}(e),render:e=>l.createElement(ae,e)},{key:"news",action:()=>function(e){const t=(0,E.Us)(v._j.releases);k.navigateToExternalURL({environment:e,url:t}),pe(e,"whats_new"),ge(e)}(e),render:e=>l.createElement(ie,e)},{key:"join-us",action:()=>function(e){pe(e,"join_us"),k.navigateToExternalURL({environment:e,url:v._j.careers}),ge(e)}(e),render:e=>l.createElement(oe,e)}])},{key:"botttom section",render:e=>l.createElement(X.Z,a()({},e,{topBorder:!0})),items:d().compact([{key:"twitter",action:()=>function(e){pe(e,"twitter"),k.navigateToExternalURL({environment:e,url:v._j.notionTwitter}),ge(e)}(e),render:e=>l.createElement(re,e)},{key:"terms",action:()=>function(e){k.navigateToExternalURL({environment:e,url:v._j.termsAndPrivacy}),pe(e,"terms"),ge(e)}(e),render:e=>l.createElement(se,e)},{key:"status",action:()=>function(e){pe(e,"status"),k.navigateToExternalURL({environment:e,url:v._j.statusPage}),ge(e)}(e),render:e=>l.createElement(de,e)},void 0,(e.device.isElectron,void 0)])},{key:"version",render:e=>l.createElement(X.Z,a()({},e,{topBorder:!0})),items:d().compact([{key:"version",action:()=>{},render:e=>l.createElement(J,e)}])}])}(n)),[n]);let i;return i=n.device.isMobile?t?{menuType:w.og.Modal,title:s()(h.FormattedMessage,{defaultMessage:"Help & feedback",id:"helpButton.mobile.title"}),right:s()(h.FormattedMessage,{defaultMessage:"Done",id:"helpButton.mobile.rightActionButton.done"}),onClickRight:()=>function(e){ve(e)?k.navigateToHomeTab(e,fe):fe()}(n),whiteBackground:!0}:{menuType:w.og.ActionSheet}:{menuType:w.og.Popup,minWidth:208},l.createElement(q.Z,i,s()(z.Z,{type:z.i.Vertical,initialFocus:void 0,sections:o}))}},47046:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(49085);class a extends o.default{getInitialState(){return{open:!1}}}const i=new a},5188:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(49085);class a extends o.default{getInitialState(){return{open:!1}}}const i=new a}}]);