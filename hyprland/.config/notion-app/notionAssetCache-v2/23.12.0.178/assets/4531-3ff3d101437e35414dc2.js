"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4531],{36360:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(83355);class n extends i.Z{willMount(e){document.title=e.title}willUpdate(e){document.title=e.title}renderComponent(){return this.props.children}}n.displayName="DocumentTitle";const s=n},34986:(e,t,o)=>{o.d(t,{Z:()=>I});var i=o(23174),n=o.n(i),s=o(67294),a=o(83355),r=o(13991),l=o(49271),d=o(8848),u=o(57422),c=o(61045),g=o(43250),m=o(34859),p=o(96486),h=o.n(p),y=o(73935),S=o(50906),w=o(73744);class v extends a.Z{constructor(){super(...arguments),this.node=void 0,this.sessionNamesMap={},this.handleScroll=()=>{if(this.node){const e=Array.from(this.node.querySelectorAll(`.${g.Quo}`)),t=e.map((e=>e.getBoundingClientRect())).findIndex((e=>e.top>window.innerHeight));let o;if(o=t>=0?t-1:e.length-1,void 0!==o){const t=e[o];if(t&&t.id){const e=t.id;this.sessionNamesMap[e]||(this.sessionNamesMap[e]=!0,S.QZR(this.environment,{from:this.props.analyticsName,scroll_name:e,index:o}))}}}},this.handleScrollThrottled=h().throttle(this.handleScroll,500)}didMount(){super.didMount(),this.node=y.findDOMNode(this),w.lj(window,"scroll",this.handleScrollThrottled),this.handleScroll()}willUnmount(){super.willUnmount(),w.ZV(window,"scroll",this.handleScrollThrottled)}renderComponent(){return this.props.render()}}v.displayName="FrontAnalyticsScrollListener";const b=v;var f=o(17803);class k extends a.Z{didMount(){const e=document.documentElement;e&&e.classList.add(g.gug)}willMountOrUpdate(){c.Q7(this.environment)!==m.Z.None?document.body.classList.contains("disable-scroll")||document.body.classList.add("disable-scroll"):document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll")}willUnmount(){document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll");const e=document.documentElement;e&&e.classList.contains(g.gug)&&e.classList.remove(g.gug)}renderComponent(){return n()(s.Fragment,{},void 0,n()(b,{analyticsName:this.props.analyticsName,render:()=>n()("div",{style:this.props.showAIVersion?{backgroundColor:"black",minHeight:"100vh"}:{}},void 0,n()(f.Z,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideNotificationBanner:this.props.hideNotificationBanner,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth,showAIVersion:this.props.showAIVersion}),n()("main",{style:this.mainStyle({showAIVersion:this.props.showAIVersion})},void 0,this.props.children))}))}mainStyle(e){let t={};return e.showAIVersion&&(t={background:"none",color:"white"}),{...l.N7(r.SP),fontFamily:u.Z.fontFamily.sans,background:d.ZP.frontCreamBackground,color:d.ZP.frontText,fontSize:u.Z.fontSize.body.m,lineHeight:1.5,WebkitFontSmoothing:"antialiased",...t}}}k.displayName="FrontBase";const I=k},25476:(e,t,o)=>{o.d(t,{P:()=>a,Z:()=>l});var i=o(23174),n=o.n(i),s=(o(67294),o(83355));const a={s:620,m:960,l:1260};class r extends s.Z{renderComponent(){return n()("div",{style:this.limitStyle()},void 0,this.props.children)}limitStyle(){const e={width:"100%",maxWidth:a[this.props.size],margin:"0 auto"};return this.props.style?{...e,...this.props.style}:e}}r.displayName="FrontLimit";const l=r},7458:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(23174),n=o.n(i),s=(o(67294),o(83355)),a=o(53397),r=o(89101),l=o(82990),d=o(50906),u=o(27821),c=o(16354);class g extends s.Z{renderComponent(){const e=(0,u.z)(this.environment,"maxWidth","large");return n()("div",{style:{flexShrink:0}},void 0,n()(c.Z,{href:r._j.product,onMouseDown:()=>d._g0(this.environment,{from:this.props.analyticsName,name:"notion_logo",href:r._j.product}),style:{cursor:"pointer"}},void 0,n()("div",{style:{display:"flex",alignItems:"center"}},void 0,a.Z.notionLogo({width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0}),n()("div",{style:{fontWeight:l.Z.fontWeight.medium,fontSize:16}},void 0,"Notion"))))}}g.displayName="FrontLogo";const m=g},17803:(e,t,o)=>{o.d(t,{Z:()=>L});var i=o(23174),n=o.n(i),s=o(96486),a=o.n(s),r=o(67294),l=o(83355),d=o(57422),u=o(51454),c=o(27821),g=o(45589),m=o(480),p=o(81954),h=o(8848);const y={fontSize:15,whiteSpace:"nowrap",top:0,width:"100%",background:h.ZP.frontCreamBackground,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},S=`0 1px 0 ${h.ZP.frontBorder}`;var w=o(25476),v=o(7458);function b(e){window.__c={n:"FrontTopbarDesktop"};const t=(0,m.O7)(),o=(0,p.VK)((()=>(0,c.z)(t,"maxWidth","large")),[t]),i={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",maxWidth:w.P.l+40,paddingLeft:20,paddingRight:20,transition:"height 250ms",height:e.pageHasScrolled?L.desktopHeaderScrolledHeight:L.desktopHeaderHeight,position:"relative",overflow:"hidden",boxShadow:e.pageHasScrolled?S:"none"};return n()("div",{style:{...y,...e.outerStyle}},void 0,n()("nav",{style:i},void 0,!e.hideLogo&&n()(v.Z,{analyticsName:"front_header"}),n()("div",{style:{flex:"1",display:"flex",justifyContent:o?"flex-end":"center"}})))}class f extends l.Z{constructor(){super(...arguments),this.innerStyle={display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:L.mobileHeaderHeight}}renderComponent(){return n()(r.Fragment,{},void 0,n()("div",{style:this.getOuterStyle()},void 0,n()("nav",{style:this.innerStyle},void 0,!this.props.hideLogo&&n()(v.Z,{analyticsName:"front_header"}))))}getOuterStyle(){return{...y,boxShadow:this.props.pageHasScrolled?S:"none",paddingLeft:20,paddingRight:20,...this.props.outerStyle}}}f.displayName="FrontTopbarMobile";const k=f;class I extends l.Z{constructor(){super(...arguments),this.storeTypes={scrollerStore:g.Z},this.headerRef=r.createRef(),this.handleScrolled=e=>{this.stores.scrollerStore.setState({...this.stores.scrollerStore.state,scrollTop:window.scrollY})},this.handleScrolledThrottled=a().throttle(this.handleScrolled,15)}willMountOrUpdate(e){super.willMountOrUpdate(e),window.addEventListener("scroll",this.handleScrolledThrottled)}willUnmount(){window.removeEventListener("scroll",this.handleScrolledThrottled),super.willUnmount()}renderComponent(){const e=(0,c.z)(this.environment,"maxWidth","large");return n()(r.Fragment,{},void 0,n()("div",{style:I.headerStyle},void 0,e&&n()(k,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth,pageHasScrolled:this.pageHasScrolled(e),outerStyle:this.props.showAIVersion?{background:"none"}:{}}),!e&&n()(b,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth,pageHasScrolled:this.pageHasScrolled(e),outerStyle:this.props.showAIVersion?{background:"none"}:{}})),n()("div",{style:this.getSpacerStyle(e,!1)}))}pageHasScrolled(e){const t=e?I.mobilePageHasScrolledDistance:I.desktopPageHasScrolledDistance;return this.stores.scrollerStore.state.scrollTop>t}getSpacerHeight(e,t){const o=e?I.mobileHeaderHeight:I.desktopHeaderHeight,i=e?0:I.desktopNotificationBannerHeight;return t?o+i:o}getSpacerStyle(e,t){return{width:"100%",height:this.getSpacerHeight(e,t)}}}I.displayName="FrontTopbar",I.desktopNotificationBannerHeight=45,I.mobileHeaderHeight=54,I.mobilePageHasScrolledDistance=0,I.desktopHeaderHeight=80,I.desktopHeaderScrolledHeight=60,I.desktopPageHasScrolledDistance=60,I.headerStyle={position:"fixed",zIndex:u.Y6,fontFamily:d.Z.fontFamily.sans,width:"100%"};const L=I},98205:(e,t,o)=>{o.d(t,{Z:()=>le});var i=o(23174),n=o.n(i),s=(o(21703),o(96486)),a=o.n(s),r=o(67294),l=o(480),d=o(81954),u=o(24405),c=o(8848),g=o(65917),m=o(2911);function p(e){try{var t;const o=null===(t=window)||void 0===t?void 0:t.google;o?e(o):g.log({level:"warning",from:"googleOneTapLogin",type:"googleOneTapLibraryNotFound",error:{message:"Please make sure you have the google onetap library installed"}})}catch(o){g.log({level:"error",from:"googleOneTapLogin",type:"googleOneTapLibraryLoadError",error:(0,m.Ui)(o)})}}function h(e){window.__c={n:"GoogleOneTapLogin"};const{onCancel:t,onSuccess:o,googleAccountConfigs:i,containerStyle:s}=e;if((0,r.useEffect)((()=>(p((e=>{e.accounts.id.initialize({...i,prompt_parent_id:"g_id_onload"}),e.accounts.id.prompt((e=>{e.isSkippedMoment()&&["user_cancel","tap_outside"].includes(e.getSkippedReason())?t():e.isDismissedMoment()&&("credential_returned"===e.getDismissedReason()?o():t())}))})),()=>p((e=>{e.accounts.id.cancel()})))),[]),s){const t={position:"absolute",...e.containerStyle};return n()("div",{id:"g_id_onload","data-prompt_parent_id":"g_id_onload","data-cancel_on_tap_outside":"false",style:t})}return null}var y=o(53397),S=o(62965),w=o(65454);function v(){return`https://challenges.cloudflare.com/turnstile/v0/api.js?${new URLSearchParams({render:"explicit"})}`}const b=(0,r.createContext)({executeTurnstile:void 0,ready:!1,initTimeout:!1}),{Consumer:f}=b;function k(e){let{enabled:t,renderProps:o,children:i,initTimeoutMs:s}=e;window.__c={n:"TurnstileProvider"};const[a,l]=(0,r.useState)(null),d=(0,r.useRef)(null),[u,c]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!t||a)return;const e=setTimeout((()=>{c(!0),g.log({level:"error",from:"turnstileProvider",type:"turnstileInitTimeout"})}),s);return function(e){let{onLoad:t,onFailure:o}=e;const i=v();(0,w.ZP)(i,{resourceType:w._g.Javascript,id:"cf-turnstile-script",async:!1}).then(t).catch(o)}({onLoad:()=>{if(!window||!window.turnstile)throw new Error("<TurnstileProvider/> Turnstile script is not available");const t=window.turnstile;t.ready((()=>{l(t),clearTimeout(e)}))},onFailure:t=>{g.log({level:"error",from:"turnstileProvider",type:"turnstileInjectScriptError",error:(0,m.Ui)(t)}),c(!0),clearTimeout(e)}}),()=>{!function(){delete window.turnstile;const e=v();(0,w.td)(e)}()}}),[t,a]);const p=(0,r.useCallback)((async e=>{if(!a||!a.render)throw new Error("<TurnstileProvider/> Turnstile has not been loaded");if(!d.current)throw new Error("Turnstile container has not been loaded yet");return await new Promise(((t,i)=>{a.render(d.current,{action:e,callback:t,"error-callback":i,...o})}))}),[a,o,d]),h=(0,r.useMemo)((()=>({executeTurnstile:a?p:void 0,ready:!!a,initTimeout:u})),[p,a,u]);return n()(b.Provider,{value:h},void 0,i,t&&r.createElement("div",{ref:d,style:{width:0,height:0,overflow:"hidden"}}))}const I=()=>(0,r.useContext)(b);var L=o(82990),A=o(5366);function C(e){const{buttonsStore:t,buttonName:o,buttonState:i}=e;t.setState({buttons:{...t.state.buttons,[o]:i}})}var F=o(35979),M=o(58985),T=o(95477),P=o(43250),V=o(77907),x=o(49085);class B extends x.default{getInitialState(){return{buttons:{}}}}const Z=B;var W=o(89403),_=o(30278),E=o(85974),N=o(61519),H=o(74194),R=o(63296),O=o(53834),K=o(42402),U=o(13490),z=o(64921);const j=function(e){window.__c={n:"SignInWithAppleButton"};const t=(0,u.yK)((t=>({base:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:36,borderRadius:4,color:c.ZP.regularTextColor,fill:c.ZP.regularTextColor,background:c.ZP.white,fontSize:14,lineHeight:1,paddingLeft:12,paddingRight:12,fontWeight:L.Z.fontWeight.medium,border:"1px solid rgba(15, 15, 15, 0.15)",width:"100%",boxShadow:"0 1px 2px rgba(15, 15, 15, 0.05)",...e.style},hovered:{background:e.showAIVersion?"#C592DD":"light"===t.mode?t.buttonHoveredBackground:c.ZP.whiteWithAlpha(.8)}})),[e.showAIVersion,e.style]);return n()(z.Z,{onClick:e.onClick,style:t.base,hoveredStyle:t.hovered,pressedStyle:e.showAIVersion?{background:"#C592DD"}:{}},void 0,y.Z.appleLogo({width:16,height:16,marginRight:6,marginBottom:2}),e.showInvitationVersion?n()(A.FormattedMessage,{id:"loginForm.loginWithAppleButton.label.verify",defaultMessage:"Verify with Apple"}):n()(A.FormattedMessage,{id:"loginForm.loginWithAppleButton.label",defaultMessage:"Continue with Apple"}))};var D=o(43116);function G(e){window.__c={n:"LoginWithAppleButton"};const{showAIVersion:t,showInvitationVersion:o}=e,i=(0,l.O7)(),s=(0,r.useCallback)((()=>{M.requestLoginWithApple({environment:i,store:e.loginStore})}),[i,e.loginStore]);return T.default.isAdminMode?null:n()(j,{showAIVersion:t,showInvitationVersion:o,style:{marginTop:10},onClick:s})}function q(e){window.__c={n:"LoginWithGoogleButton"};const{isSignup:t,showAIVersion:o,showInvitationVersion:i,loginStore:s,buttonsStore:a,loginPermissionsStore:r}=e,u=(0,l.Fy)(),c=(0,l.O7)(),g=(0,d.VK)((()=>"loading"===a.state.buttons.loginWithGoogleButton),[a]);return u.isBannedGoogleSSOUserAgent?null:n()("div",{style:{width:"100%"}},void 0,n()(V.DependencyConsumer,{dependency:V.deps.googleOneTap},void 0,(()=>n()(h,{onCancel:()=>{F.TR(c,{actionType:"close",isSignup:t})},onSuccess:()=>{F.TR(c,{actionType:"success",isSignup:t})},googleAccountConfigs:{client_id:T.default.google.clientId,cancel_on_tap_outside:!1,context:t?"signup":"login",callback:e=>{F.TR(c,{actionType:"click",isSignup:t}),M.requestLoginWithGoogleOneTap({environment:c,store:s,idToken:e.credential})}}}))),n()(O.Z,{variant:o?"aiTertiary":"tertiary",style:{marginBottom:4,width:"100%"},onClick:async e=>{C({buttonsStore:a,buttonName:"loginWithGoogleButton",buttonState:"loading"}),await M.requestLoginWithGoogle({environment:c,store:s,permissionsStore:r}),C({buttonsStore:a,buttonName:"loginWithGoogleButton",buttonState:"idle"})},isLoading:g,disabledFeedback:!0},void 0,y.Z.googleLogo({width:14,height:14,marginRight:6}),n()(A.FormattedMessage,i?{id:"loginForm.verifyWithGoogleButton.label",defaultMessage:"Verify with Google"}:{id:"loginForm.loginWithGoogleButton.label",defaultMessage:"Continue with Google"})))}function Y(e){window.__c={n:"LoginForgotPassword"};const{showAIVersion:t,styles:o,loginStore:i}=e,s=(0,d.VK)((()=>i.isPassword()||i.isEmail()),[i]),a=(0,r.useCallback)((()=>{i.setState({...i.state,loginType:"forgot",password:"",alert:void 0})}),[i]);return s?n()("div",{style:o.caption},void 0,n()(K.Z,{showAIVersion:t,onClick:a},void 0,n()(A.FormattedMessage,{id:"loginForm.forgotPasswordLink",defaultMessage:"Forgot password?"}))):null}function Q(e){const{showAIVersion:t,handleOnEmailClick:o,handleOnSamlClick:i}=e;return n()(A.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithEmailOrSAML",defaultMessage:"You can also <emailloginlink>continue with email</emailloginlink> or <samlloginlink>continue with SAML SSO</samlloginlink>",values:{emailloginlink:e=>n()(K.Z,{showAIVersion:t,onClick:o},void 0,e),samlloginlink:e=>n()(K.Z,{showAIVersion:t,onClick:i},void 0,e)}})}function $(e){const{showAIVersion:t,handleOnClick:o}=e;return n()(A.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithEmail",defaultMessage:"You can also <emailloginlink>continue with email</emailloginlink>",values:{emailloginlink:e=>n()(K.Z,{showAIVersion:t,onClick:o},void 0,e)}})}function J(e){const{showAIVersion:t,showInvitationVersion:o,handleOnClick:i}=e,s=e=>n()(K.Z,{showAIVersion:t,onClick:i},void 0,e);return n()(A.FormattedMessage,o?{id:"loginForm.otherLoginOptions.verifyWithSAML",defaultMessage:"You can also <samlloginlink>verify with SAML SSO</samlloginlink>",values:{samlloginlink:s}}:{id:"loginForm.otherLoginOptions.continueWithSAML",defaultMessage:"You can also <samlloginlink>continue with SAML SSO</samlloginlink>",values:{samlloginlink:s}})}function X(e){window.__c={n:"LoginOptions"};const{showAIVersion:t,showInvitationVersion:o,styles:i,loginStore:s}=e,a=(0,d.VK)((()=>!(s.isEmail()||s.isTemporaryPasscode()||s.isPassword()||s.isReverifying())),[s]),l=(0,d.VK)((()=>!s.isSaml()),[s]),u=(0,r.useCallback)((()=>{s.setState({...s.state,loginType:"email",alert:void 0})}),[s]),c=(0,r.useCallback)((()=>{s.setState({...s.state,loginType:"saml",alert:void 0})}),[s]);return a||l?n()("div",{style:i.caption},void 0,a&&l?n()(Q,{showAIVersion:t,handleOnEmailClick:u,handleOnSamlClick:c}):a?n()($,{showAIVersion:t,handleOnClick:u}):n()(J,{showAIVersion:t,showInvitationVersion:o,handleOnClick:c})):null}function ee(e){window.__c={n:"LoginAlert"};const t=(0,d.VK)((()=>e.loginStore.state.alert),[e.loginStore]),o=t&&t.split("User:")[1]||t;return n()("div",{style:{fontSize:14,color:c.ZP.redWithAlpha(1),textAlign:"center",display:o?"block":"none",width:"100%"}},void 0,o)}function te(e){e.preventDefault()}async function oe(e){const{environment:t,loginStore:o,buttonsStore:i}=e;C({buttonsStore:i,buttonName:"continueWithEmailButton",buttonState:"loading"}),await M.requestLoginWithEmail({environment:t,loginStore:o}),o.state.needsSendTemporaryPasswordReason||C({buttonsStore:i,buttonName:"continueWithEmailButton",buttonState:"idle"})}function ie(e,t){return"turnstile"!==e||(t.ready||t.initTimeout)}function ne(e){window.__c={n:"LoginEmailInput"};const{email:t,emailLabelType:o,emailInputAutoFocus:i,styles:s,onSubmit:u,autoComplete:c,showAIVersion:g,loginStore:m,buttonsStore:p}=e,h=(0,l.O7)(),y=(0,A.useIntl)(),S=(0,r.useMemo)((()=>a().uniqueId("notion-email-input-")),[]),w=n()(A.FormattedMessage,"email"===o?{id:"loginForm.emailInput.label",defaultMessage:"Email"}:{id:"loginForm.workEmailInput.label",defaultMessage:"Work email"}),v=y.formatMessage({id:"loginForm.emailInput.placeholder",defaultMessage:"Enter your email address..."}),b=(0,d.VK)((()=>"loading"===p.state.buttons.continueWithEmailButton||"loading"===p.state.buttons.continueWithPasswordButton),[p]),f=(0,r.useCallback)((e=>{F.WA(h,e.target.value);const t={...m.state,email:e.target.value,alert:void 0};m.isPassword()||m.isTemporaryPasscode()||m.isReverifying()?m.setState({...t,loginType:"email",password:""}):m.setState(t)}),[h,m]);return r.createElement(r.Fragment,null,n()(U.Z,{style:g?{color:"grey"}:{},forId:S},void 0,w),n()(H.Z,{id:S,value:t,type:"email",format:H.Z.Format.Large,style:s.input,placeholder:v,onSubmit:u,autoComplete:c,showClearButton:!0,autoFocus:i,onChange:f,disabled:b,inputElementAttributes:{"aria-label":v}}))}function se(e){window.__c={n:"LoginPasswordInput"};const{password:t,passwordInputId:o,inputType:i,placeholderType:s,onSubmit:a,icon:l,styles:u,onIconClick:c,autoFocus:g,showInvitationVersion:m,loginStore:p}=e;let h="";const y=(0,A.useIntl)(),S=(0,d.VK)((()=>p.state.hasAccount),[p]);switch(s){case"enter_password":h=y.formatMessage({id:"loginForm.passcodeInput.enterPasswordPlaceholder",defaultMessage:"Enter your password..."});break;case"enter_code":h=S?y.formatMessage({id:"loginForm.passcodeInput.enterCodePlaceholder",defaultMessage:"Enter login code"}):y.formatMessage({id:"loginForm.passcodeInput.enterSignupCodePlaceholder",defaultMessage:"Enter sign up code"});break;case"paste_code":h=S?m?y.formatMessage({id:"loginForm.passcodeInput.pasteCodePlaceholder.invitation",defaultMessage:"*****-******-******-******"}):y.formatMessage({id:"loginForm.passcodeInput.pasteCodePlaceholder",defaultMessage:"Paste login code"}):y.formatMessage({id:"loginForm.passcodeInput.pasteSignupCodePlaceholder",defaultMessage:"Paste sign up code"});break;case"reverify":h=y.formatMessage({id:"loginForm.passcodeInput.reverifyPlaceholder",defaultMessage:"Paste verification code"})}const w=(0,r.useCallback)((e=>{p.setState({...p.state,password:"text"===i?e.target.value.trim():e.target.value,alert:void 0})}),[p,i]);return n()(H.Z,{id:o,type:i,value:t,style:u.input,format:H.Z.Format.Large,placeholder:h,onSubmit:a,autoFocus:g,autoComplete:"text"===i?"one-time-code":"current-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:w,icon:l,onIconClick:c})}function ae(e){window.__c={n:"LoginForm"};const t=(0,l.O7)(),o=(0,l.Fy)(),{emailLabelType:i,emailInputAutoFocus:s,emailPasscodePlaceholderType:u,isSignup:c,redirectURL:g,showAIVersion:m,showInvitationVersion:p,styles:h,loginStore:S,buttonsStore:w}=e,v=(0,r.useMemo)((()=>a().uniqueId("notion-password-input-")),[]),{email:b,password:f,hasAccount:k}=(0,d.VK)((()=>S.state),[S]),F=(0,d.VK)((()=>"password"===S.state.loginType&&S.state.reverified),[S]),T=(0,d.VK)((()=>S.isEmail()),[S]),P=(0,d.VK)((()=>S.isPassword()),[S]),V=(0,d.VK)((()=>S.isPasswordResetSent()),[S]),x=(0,d.VK)((()=>S.isForgotPassword()),[S]),B=(0,d.VK)((()=>S.isReverifying()),[S]),Z=(0,d.VK)((()=>S.isExclusiveLoginLinkTemporaryPasscode()),[S]),W=(0,d.VK)((()=>S.isTemporaryPasscode()),[S]),_=(0,d.VK)((()=>S.isSaml()),[S]),E=I(),N=(0,d.VK)((()=>"loading"===w.state.buttons.continueWithEmailButton),[w]),K=(0,d.VK)((()=>"loading"===w.state.buttons.continueWithPasswordButton),[w]),z=(0,d.VK)((()=>"loading"===w.state.buttons.temporaryPasscodeLoginButton),[w]),j=(0,d.VK)((()=>"loading"===w.state.buttons.resetPasswordButton),[w]),D=(0,d.VK)((()=>"loading"===w.state.buttons.continueWithReverifyButton),[w]),G=(0,d.VK)((()=>"loading"===w.state.buttons.continueWithSAMLButton),[w]),q=(0,r.useCallback)((async()=>{N||await oe({environment:t,loginStore:S,buttonsStore:w})}),[t,S,w,N]),Y=(0,r.useCallback)((e=>{const t={...S.state,password:e.currentTarget.value,alert:void 0};S.setState(t)}),[S]),{needsLoginWithPassword:Q}=(0,d.VK)((()=>S.state),[S]);(0,r.useEffect)((()=>{if(Q&&ie(S.state.challengeProvider,E)){(async()=>{S.setState({...S.state,needsLoginWithPassword:!1});const{email:e,password:o}=S.state,i=await M.loginWithPassword({environment:t,email:e,password:o,redirectURL:g,turnstileProps:E,loginStore:S});S.setState({...S.state,alert:i}),C({buttonsStore:w,buttonName:"continueWithPasswordButton",buttonState:"idle"})})()}}),[t,Q,S,w,g,E]);const $=(0,r.useCallback)((()=>{C({buttonsStore:w,buttonName:"continueWithPasswordButton",buttonState:"loading"}),S.setState({...S.state,needsLoginWithPassword:!0})}),[S,w]),J=(0,r.useCallback)((async()=>{C({buttonsStore:w,buttonName:"resetPasswordButton",buttonState:"loading"}),await M.sendPasswordResetLink({environment:t,store:S}),C({buttonsStore:w,buttonName:"resetPasswordButton",buttonState:"idle"})}),[t,S,w]),X=(0,r.useCallback)((async()=>{let e;if(S.isReverifying())e="continueWithReverifyButton";else{if(!S.isExclusiveLoginLinkTemporaryPasscode()&&!S.isTemporaryPasscode())throw Error("unknown button name");e="temporaryPasscodeLoginButton"}await async function(e){const{environment:t,buttonName:o,redirectURL:i,showInvitationVersion:n,loginStore:s,buttonsStore:a}=e;if(s.isReverifying()){C({buttonsStore:a,buttonName:o,buttonState:"loading"});const{password:e,sentEmailPasscodeState:i}=s.state,n=await M.verifyEmail({environment:t,state:i,password:e});n?s.setState({...s.state,alert:n}):s.setState({...s.state,loginType:"password",password:"",reverified:!0,alert:void 0}),C({buttonsStore:a,buttonName:o,buttonState:"idle"})}if(s.isTemporaryPasscode()){C({buttonsStore:a,buttonName:o,buttonState:"loading"});const{password:e,sentEmailPasscodeState:r}=s.state,l=await M.loginWithTemporaryPasscode({environment:t,state:r,password:e,redirectURL:i,passcodeEnterMethod:"manual_input",showInvitationVersion:n});l&&s.setState({...s.state,alert:l}),C({buttonsStore:a,buttonName:o,buttonState:"idle"})}}({environment:t,buttonName:e,redirectURL:g,showInvitationVersion:p,loginStore:S,buttonsStore:w})}),[t,g,p,S,w]),ee=(0,r.useCallback)((async()=>{C({buttonsStore:w,buttonName:"continueWithSAMLButton",buttonState:"loading"}),await M.requestLoginWithSaml({environment:t,loginStore:S}),C({buttonsStore:w,buttonName:"continueWithSAMLButton",buttonState:"idle"})}),[t,S,w]);return T?n()("form",{onSubmit:te},void 0,n()(ne,{email:b,emailLabelType:i,emailInputAutoFocus:s,styles:h,autoComplete:c?"email":"username",onSubmit:q,showAIVersion:m,loginStore:S,buttonsStore:w}),n()(H.Z,{type:"password",autoComplete:"current-password",style:{opacity:0,height:0,padding:0,pointerEvents:"none"},inputElementAttributes:{tabIndex:-1,"aria-hidden":!0},onChange:Y}),n()(O.Z,{variant:m?"aiPrimary":o.isBannedGoogleSSOUserAgent?"primary":"secondary",style:{marginTop:6,marginBottom:12,width:"100%"},onClick:q,isLoading:N,disabledFeedback:!0},void 0,n()(A.FormattedMessage,{id:"loginForm.continueWithEmailButton.label",defaultMessage:"Continue with email"}))):P?n()("form",{onSubmit:te},void 0,n()(ne,{email:b,emailLabelType:i,emailInputAutoFocus:s,styles:h,autoComplete:c?"email":"username",onSubmit:$,showAIVersion:m,loginStore:S,buttonsStore:w}),F&&n()("div",{style:h.emailSentCaption},void 0,n()("span",{style:{paddingRight:4}},void 0,y.Z.thinCheck(h.check)),n()(A.FormattedMessage,{id:"loginForm.reverifyPasswordLabel",defaultMessage:"<emailverifiedtext>Email verified</emailverifiedtext>. You can continue logging in with your password.",values:{emailverifiedtext:e=>n()("span",{style:h.emailVerifiedText},void 0,e)}})),n()(U.Z,{forId:v,style:m?{color:"grey"}:{}},void 0,n()(A.FormattedMessage,{id:"loginForm.passwordInput.label",defaultMessage:"Password"})),n()(se,{password:f,passwordInputId:v,inputType:"password",placeholderType:"enter_password",onSubmit:$,styles:h,autoFocus:!0,showInvitationVersion:p,loginStore:S}),n()(R.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},isLarge:!0,onClick:$,isLoading:K,disabledFeedback:!0},void 0,n()(A.FormattedMessage,{id:"loginForm.continueWithPasswordButton.label",defaultMessage:"Continue with password"}))):V?r.createElement(r.Fragment,null,n()("div",{style:h.emailSentCaption},void 0,n()(A.FormattedMessage,{id:"loginForm.passwordResetSentMessage",defaultMessage:"Check your inbox for the link to reset your password."}))):x?n()("form",{onSubmit:te},void 0,n()(ne,{email:b,emailLabelType:i,emailInputAutoFocus:s,styles:h,onSubmit:J,showAIVersion:m,loginStore:S,buttonsStore:w}),n()(O.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:"secondary",onClick:J,isLoading:j,disabledFeedback:!0},void 0,n()(A.FormattedMessage,{id:"loginForm.sendResetLink",defaultMessage:"Send reset link"}))):B?n()("form",{onSubmit:te},void 0,n()(ne,{email:b,emailLabelType:i,emailInputAutoFocus:s,styles:h,onSubmit:X,showAIVersion:m,loginStore:S,buttonsStore:w}),n()("div",{style:h.emailSentCaption},void 0,n()(A.FormattedMessage,{id:"loginForm.reverifySentMessage",defaultMessage:"This account requires email verification. Please check your inbox and paste in the verification code."})),n()(U.Z,{forId:v,style:m?{color:"grey"}:{}},void 0,n()(A.FormattedMessage,{id:"loginForm.verificationCodeInput.label",defaultMessage:"Verification code"})),n()(se,{password:f,passwordInputId:v,inputType:"text",placeholderType:"reverify",onSubmit:X,styles:h,autoFocus:!0,showInvitationVersion:p,loginStore:S}),n()(R.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},isLarge:!0,onClick:X,isLoading:D,disabledFeedback:!0},void 0,n()(A.FormattedMessage,{id:"loginForm.continueWithReverifyButton.label",defaultMessage:"Verify email"}))):Z?n()("form",{onSubmit:te},void 0,n()(ne,{email:b,emailLabelType:i,emailInputAutoFocus:s,styles:h,onSubmit:X,showAIVersion:m,loginStore:S,buttonsStore:w}),n()("div",{style:{...h.emailSentCaption,fontWeight:L.Z.fontWeight.medium}},void 0,n()(A.FormattedMessage,{id:"loginForm.loginLinkSentMessage",defaultMessage:"We just sent you a temporary login link.{br}Please check your inbox.",values:{br:n()("br",{})}}))):W?n()("form",{onSubmit:te},void 0,!p&&n()(ne,{email:b,emailLabelType:i,emailInputAutoFocus:s,styles:h,onSubmit:X,showAIVersion:m,loginStore:S,buttonsStore:w}),!p&&n()("div",{style:h.emailSentCaption},void 0,n()(A.FormattedMessage,k?{id:"loginForm.temporaryPasscodeSentMessage",defaultMessage:"We just sent you a temporary login code.{br}Please check your inbox.",values:{br:n()("br",{})}}:{id:"loginForm.temporaryPasscodeSentMessageNoAccount",defaultMessage:"We just sent you a temporary sign up code. Please check your inbox and paste the sign up code below."})),n()(U.Z,{forId:v,style:m?{color:"grey"}:{}},void 0,n()(A.FormattedMessage,k?{id:"loginForm.loginCodeInput.label",defaultMessage:"Login code"}:{id:"loginForm.signUpCodeInput.label",defaultMessage:"Sign up code"})),n()(se,{password:f,passwordInputId:v,inputType:"text",placeholderType:u,onSubmit:X,styles:h,autoFocus:!0,showInvitationVersion:p,loginStore:S}),n()(O.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:m?"aiPrimary":p?"quaternary":"secondary",onClick:X,isLoading:z,disabledFeedback:!0},void 0,n()(A.FormattedMessage,k?p?{id:"loginForm.continueWithLoginCodeButton.label.verify",defaultMessage:"Verify with login code"}:{id:"loginForm.continueWithLoginCodeButton.label",defaultMessage:"Continue with login code"}:{id:"loginForm.createNewAccountButton.label",defaultMessage:"Create new account"}))):_?n()("form",{onSubmit:te},void 0,n()(ne,{email:b,emailLabelType:i,emailInputAutoFocus:s,styles:h,onSubmit:ee,showAIVersion:m,loginStore:S,buttonsStore:w}),n()(O.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:m?"aiPrimary":"secondary",onClick:ee,isLoading:G,disabledFeedback:!0},void 0,n()(A.FormattedMessage,{id:"loginForm.continueWithSAMLButton.label",defaultMessage:"Continue with SAML"}))):null}function re(e){window.__c={n:"LoginAction"};const{emailLabelType:t,emailInputAutoFocus:o,emailPasscodePlaceholderType:i,isSignup:s,disableDisclaimer:a,disableLoginLink:c,redirectURL:g,showMobileLayout:m=!1,showAIVersion:p=!1,showInvitationVersion:h=!1}=e,y=(0,l.O7)(),S=(0,l.Fy)(),w=(0,d.qz)(e.loginStore,E.Z),v=(0,d.qz)(e.loginPermissionsStore,_.Z),b=(0,d.qz)(e.buttonsStore,Z),f=I();(0,r.useEffect)((()=>{F.nk(y,{isBannedGoogleSSOUserAgent:S.isBannedGoogleSSOUserAgent,isSignup:Boolean(s)})}),[y,S,s]),(0,r.useEffect)((()=>{const e=W.Z.getState().passcodeEmailSent;W.Z.getState().invitationVersionExpEnabled&&!e&&(W.Z.setState({...W.Z.getState(),passcodeEmailSent:!0}),oe({environment:y,loginStore:w,buttonsStore:b}))}),[]);const{needsSendTemporaryPasswordReason:k}=(0,d.VK)((()=>w.state),[w]);(0,r.useEffect)((()=>{k&&ie(w.state.challengeProvider,f)&&(w.setState({...w.state,needsSendTemporaryPasswordReason:void 0}),async function(e){const{environment:t,reverify:o,disableLoginLink:i,turnstileProps:n,loginStore:s,buttonsStore:a}=e;C({buttonsStore:a,buttonName:"continueWithEmailButton",buttonState:"loading"}),await M.requestSendTemporaryPassword({environment:t,loginStore:s,disableLoginLink:i,reverify:o,turnstileProps:n}),C({buttonsStore:a,buttonName:"continueWithEmailButton",buttonState:"idle"})}({environment:y,loginStore:w,disableLoginLink:c,reverify:"reverify"===k,turnstileProps:f,buttonsStore:b}))}),[y,k,c,f,w,b]);const L=function(e){const{showAIVersion:t,captionStyle:o,isSignup:i,emailPasswordSentPromptStyle:n}=e,s=(0,l.Fy)();return(0,u.yK)((e=>({wrap:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},formLayout:{display:"flex",width:"100%",flexDirection:!i||s.isMobile||s.isMobileBrowser?"column":"column-reverse"},input:{marginTop:4,marginBottom:8,boxShadow:e.inputBoxShadow,...s.isMobile&&{lineHeight:"30px"},...t&&{background:"white",color:"black"}},caption:{color:t?"#888783":e.mediumTextColor,fontSize:14,lineHeight:1.6,marginTop:8,marginBottom:8,textAlign:"center",...o},check:{display:"inline",height:12,width:12,color:e.regularTextColor},emailVerifiedText:{color:e.regularTextColor},emailSentCaption:{fontSize:14,textAlign:"center",marginTop:8,marginBottom:8,width:"100%",color:t?"grey":e.mediumTextColor,...n}})),[t,o,i,n,s])}(e),A=(0,d.VK)((()=>w.isExclusiveLoginLinkTemporaryPasscode()),[w]);return n()("div",{className:P.x4y,style:{...L.wrap,...e.style}},void 0,n()("div",{style:L.formLayout},void 0,!A&&r.createElement(r.Fragment,null,n()("div",{},void 0,n()(q,{isSignup:s,showAIVersion:p,showInvitationVersion:h,loginStore:w,buttonsStore:b,loginPermissionsStore:v}),n()(G,{loginStore:w,showAIVersion:p,showInvitationVersion:h}),n()("div",{style:{marginTop:24}},void 0,h&&n()(X,{showAIVersion:p,showInvitationVersion:h,styles:L,loginStore:w}))),n()(N.Z,{innerStyle:p?{borderColor:"grey"}:{},size:42})),n()("div",{},void 0,n()(ae,{emailLabelType:t,emailInputAutoFocus:o,emailPasscodePlaceholderType:i,isSignup:s,redirectURL:g,showAIVersion:p,showInvitationVersion:h,styles:L,loginStore:w,buttonsStore:b}),n()(ee,{loginStore:w}),!s&&n()(Y,{showAIVersion:p,styles:L,loginStore:w}),!T.default.isAdminMode&&!h&&n()(X,{showAIVersion:p,showInvitationVersion:h,styles:L,loginStore:w}))),n()(D.E,{disable:a,showMobileLayout:m,showAIVersion:p,showInvitationVersion:h}))}const le=r.memo((e=>{window.__c={n:"ChallengeWrappedLoginAction"};const t=(0,d.VK)((()=>e.loginStore.state.challengeProvider),[e.loginStore]);return n()(k,{enabled:"turnstile"===t,renderProps:{sitekey:T.default.turnstile.sitekey,retry:"never"},initTimeoutMs:5e3},void 0,r.createElement(re,e))}),S.Z)},43116:(e,t,o)=>{o.d(t,{E:()=>d});var i=o(23174),n=o.n(i),s=(o(67294),o(24405)),a=o(89101),r=o(5366),l=o(42402);function d(e){window.__c={n:"LoginDisclaimer"};const{disable:t,showMobileLayout:o,showAIVersion:i,showInvitationVersion:d}=e,u=(0,s.yK)((e=>({root:{width:o?"100%":500,marginTop:d?20:64,marginBottom:0,fontSize:12,color:i?"white":e.lightTextColor,textAlign:o?"left":"center"}})),[o,i,d]);return t?null:n()("div",{style:u.root},void 0,n()("p",{style:{marginBottom:0}},void 0,n()(r.FormattedMessage,d?{id:"loginForm.disclaimer.verify",defaultMessage:"By clicking “Verify with Apple/Google/Email/SAML” above, you acknowledge that you have read and understood, and agree to Notion's <termsandconditionslink>Terms & Conditions</termsandconditionslink> and <privacypolicylink>Privacy Policy</privacypolicylink>.",values:{termsandconditionslink:e=>n()(l.Z,{href:a._j.termsAndConditions,showAIVersion:i},void 0,e),privacypolicylink:e=>n()(l.Z,{href:a._j.privacyPolicy,showAIVersion:i},void 0,e)}}:{id:"loginForm.disclaimer",defaultMessage:"By clicking “Continue with Apple/Google/Email/SAML” above, you acknowledge that you have read and understood, and agree to Notion's <termsandconditionslink>Terms & Conditions</termsandconditionslink> and <privacypolicylink>Privacy Policy</privacypolicylink>.",values:{termsandconditionslink:e=>n()(l.Z,{href:a._j.termsAndConditions,showAIVersion:i},void 0,e),privacypolicylink:e=>n()(l.Z,{href:a._j.privacyPolicy,showAIVersion:i},void 0,e)}})))}},27821:(e,t,o)=>{o.d(t,{z:()=>n});const i={small:600,medium:800,large:1020,giant:1380};function n(e,t,o){const{WindowSizeStore:n}=e,s="number"==typeof o?o:i[o];return"minWidth"===t?n.state.width>=s:n.state.width<=s}},57422:(e,t,o)=>{o.d(t,{Z:()=>i});const i={fontSize:{ui:{s:14,m:15},body:{s:15,m:17,l:20},title:{s:22,m:30,l:38,xl:50,xxl:74}},fontFamily:{sans:'inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',handwriting:'permanent-marker, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',mono:"iawriter-mono, Nitti, Menlo, Courier, monospace"},fontWeight:{regular:400,medium:500,bold:700},styles:{paragraph:{fontSize:17,lineHeight:1.5},smallCaps:{textTransform:"uppercase",fontSize:11,letterSpacing:.5,fontWeight:500}}}}}]);