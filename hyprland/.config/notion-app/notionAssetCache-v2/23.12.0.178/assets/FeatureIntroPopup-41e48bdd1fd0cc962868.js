"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4843],{34947:(e,t,o)=>{o.r(t),o.d(t,{FeatureIntroPopup:()=>B,default:()=>k});var n=o(23174),i=o.n(n),a=o(67294),r=o(81954),l=o(24405),s=o(8848),d=o(66673),u=o(53397),g=o(5366),c=o(82990),p=o(79315),m=o(42922),h=o(73063),f=o(28451),y=o(89728),v=o(44532);const b=function(e){window.__c={n:"FeatureIntroContent"};const{imageSrc:t,imageStyles:o,title:n,subtitle:r}=e,s=(0,l.yK)((e=>({content:{padding:"0 24px",height:90},title:{fontSize:c.Z.fontSize.UIRegular.desktop,fontWeight:c.Z.fontWeight.semibold,marginBottom:5,marginTop:16},subtitle:{fontSize:c.Z.fontSize.UIRegular.desktop,color:e.mediumTextColor},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${e.lightDividerColor}`,display:"flex"}})),[]);return a.createElement(a.Fragment,null,i()("div",{style:s.imageWrapper},void 0,i()("img",{style:{...s.image,...o},src:t},t)),i()("div",{style:s.content},void 0,i()("div",{style:s.title},void 0,n),i()("div",{style:s.subtitle},void 0,r)))};const C=function(e){window.__c={n:"FeatureIntroInitialContent"};const t=(0,l.yK)((e=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,justifyContent:"center"},headerText:{fontWeight:c.Z.fontWeight.medium},iconContainer:{display:"flex",justifyContent:"center"},icon:{width:24,height:24,fill:e.mediumIconColor,marginTop:4},description:{fontSize:14,color:e.mediumTextColor,marginBottom:16,textAlign:"center"}})),[]);return a.createElement(a.Fragment,null,e.icon&&i()("div",{style:t.iconContainer},void 0,e.icon(e.iconStyle?e.iconStyle:t.icon)),i()("div",{style:t.headerContainer},void 0,i()("div",{style:t.headerText},void 0,e.header)),i()("div",{style:t.description},void 0,e.description))};function B(e){window.__c={n:"FeatureIntroPopup"};const{children:t,initialPromo:o,steps:n,isUserEligible:B=!0,placementToOrigin:k,alignmentToOrigin:x,seenFeatureUserSetting:S,userSettingsStore:I,allowExternalMouseEvents:F,onDismiss:w,onTryFeatureClick:M,onPopupSeen:T,onLearnMore:P,ctaMessage:Z,calloutId:W}=e,E=(0,g.useIntl)(),L=(0,l.yK)((e=>({popupContainer:{background:"light"===e.mode?e.contentBackground:e.sidebarBackground,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:e.mediumBoxShadow},button:{display:"flex",alignItems:"center",justifyContent:"center"},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:e.buttonHoveredBackground},closeButtonHoveredStyle:{backgroundColor:e.buttonPressedBackground},closeButtonIcon:{width:14,height:14,fill:"light"===e.mode?s.FN.light.gray[400]:s.FN.dark.translucentGray[600]},backButton:{marginRight:8,fontWeight:c.Z.fontWeight.medium},nextButton:{fontWeight:c.Z.fontWeight.medium},inactiveDot:{fill:e.lightIconColor},dot:{width:6,height:6,marginRight:8},footer:{marginLeft:24,marginRight:24,marginBottom:16,marginTop:8,alignItems:"center",height:28,display:"flex"}})),[]),[R,_]=(0,a.useState)(0),D=(0,a.useCallback)((()=>{const e=null==I?void 0:I.getSettings();return!e||Boolean(!0===e[S])}),[S,I]),z=(0,r.VK)((()=>!D()&&B&&p.default.state.inAppCalloutStore.canShow(W)||Boolean(e.forceShow)),[W,D,B,e.forceShow]),O=(0,a.useCallback)((()=>{_(R+1),null==P||P()}),[R,P]),G=(0,d.D9)(z);return(0,a.useEffect)((()=>{z&&!G&&(null==T||T())}),[z,T,G]),i()(v.ZP,{popupType:v.ZP.PopupType.Popup,open:z,origin:t,placementToOrigin:k,alignmentToOrigin:x,originGap:15,disableMouseCapture:F,render:()=>{const e=0===R,t=e?a.createElement(C,o):a.createElement(b,n[R-1]),r=e?a.createElement(a.Fragment,null,i()(m.Z,{style:L.button,onClick:O,isLarge:!0},void 0,Z||i()(g.FormattedMessage,{id:"FeatureIntroPopup.learnMore.text",defaultMessage:"Learn more"})),i()(y.Z,{onClick:w,isLightGray:!0,style:{...L.button,...L.dismissButton}},void 0,i()(g.FormattedMessage,{id:"FeatureIntroPopup.dismissButton.text",defaultMessage:"Dismiss"}))):i()("div",{style:L.footer},void 0,i()("div",{style:{display:"flex"}},void 0,[...Array(n.length)].map(((e,t)=>{let o=L.dot;return o=t===R-1?{...o}:{...o,...L.inactiveDot},t===n.length&&(o={...o,marginRight:0}),u.Z.dot(o)}))),i()("div",{style:{...L.button,marginLeft:"auto"}},void 0,R>1&&i()(y.Z,{onClick:()=>_(R-1),style:L.backButton,isGray:!0},void 0,i()(g.FormattedMessage,{id:"FeatureIntroPopup.backButton",defaultMessage:"Back"})),R<n.length&&i()(y.Z,{onClick:()=>_(R+1),style:L.nextButton,isBlue:!0},void 0,i()(g.FormattedMessage,{id:"FeatureIntroPopup.nextButton",defaultMessage:"Next"})),R===n.length&&i()(m.Z,{onClick:M},void 0,i()(g.FormattedMessage,{id:"FeatureIntroPopup.tryItOut.button",defaultMessage:"Try it out"}))));return i()(f.P,{calloutId:W},void 0,t,i()(h.Z,{icon:u.Z.closeSmall,style:L.closeButton,hoveredStyle:L.closeButtonHoveredStyle,iconStyle:L.closeButtonIcon,disableBackground:!0,onClick:w,ariaLabel:E.formatMessage({id:"FeatureIntroPopup.closeButton.ariaLabel",defaultMessage:"Close"})}),r)},style:0===R?L.popupContainer:{...L.popupContainer,padding:void 0}})}const k=B}}]);