"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1017],{46978:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(23174),a=o.n(n),d=o(67294),r=o(24405);function i(e,t){let{isSelected:o}=e;window.__c={n:"RadioButtonIcon"};const{radioButtonStyle:n,dotStyle:i}=(0,r.yK)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:8,background:o?e.blueColor:e.whiteButtonBackground,border:o?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e.regularInvertedTextColor,transition:"opacity 100ms ease-out",opacity:o?1:0}})),[o]);return d.createElement("div",{ref:t,style:n},a()("div",{style:i}))}const s=d.forwardRef(i)},10644:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(23174),a=o.n(n),d=(o(67294),o(83355)),r=o(5366),i=o(64369),s=o(27386);class l extends d.Z{renderComponent(){return a()(s.Z,{},void 0,a()(i.Z,{isSmall:!0,style:{textAlign:"center"}},void 0,a()(r.FormattedMessage,{id:"spaceSubscriptionPlans.offlineMessage",defaultMessage:"Please go online to manage your plan."})))}}l.displayName="SpaceSubscriptionPlansOfflineMessage";const u=l},16116:(e,t,o)=>{o.d(t,{F:()=>i});var n=o(23174),a=o.n(n),d=o(86664),r=o(67294);function i(e){window.__c={n:"AddressElementWrapper"};const{address:t,updateAddress:o}=e,n=(0,r.useCallback)((e=>{const{name:t,address:n}=e.value;o({name:t,addressLine1:n.line1,addressLine2:n.line2??void 0,city:n.city,state:n.state,zipCode:n.postal_code,country:n.country})}),[o]);return a()(d.AddressElement,{options:{mode:"billing",defaultValues:{name:null==t?void 0:t.name,address:{line1:null==t?void 0:t.addressLine1,line2:null==t?void 0:t.addressLine2,city:null==t?void 0:t.city,state:null==t?void 0:t.state,postal_code:null==t?void 0:t.zipCode,country:null==t?void 0:t.country}}},onChange:n})}},37030:(e,t,o)=>{o.d(t,{k:()=>w});var n=o(23174),a=o.n(n),d=o(86664),r=o(67294),i=o(81954),s=o(97880),l=o(62216),u=o(79315),c=o(27242),p=o(16116),m=o(24405),y=o(8848),g=o(53397),v=o(82990),f=o(5366);function b(e){window.__c={n:"CardElementWrapper"};const{paymentMethods:t,temporaryPaymentMethod:o,payButtonState:n}=e,r=(0,m.yK)((e=>({container:{backgroundColor:e.cardContentBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,padding:"5px 5px 5px 10px"},header:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:v.Z.fontWeight.semibold,color:e.mediumTextColor,justifyContent:"space-between",paddingTop:20},iconWrapper:{display:"flex",gap:5},icon:{width:23},stripeBase:{iconColor:e.blueColor,color:e.regularTextColor,fontFamily:v.Z.baseFontFamily.sans,fontSmoothing:"antialiased",fontSize:"14px","::placeholder":{color:e.lightTextColor},lineHeight:"2em"},stripeComplete:{iconColor:e.blueColor},stripeInvalid:{color:y.ZP.red,iconColor:y.ZP.red}})),[]);if("credit_card"!==o)return null;const i=1===t.length&&"credit_card"===t[0];return a()("div",{},void 0,a()("label",{style:r.header},void 0,a()(f.FormattedMessage,{id:"spaceSubscriptionPaymentForm.paymentInformation.header",defaultMessage:"Payment details"}),i?a()("div",{style:r.iconWrapper},void 0,a()("div",{},void 0,g.Z.visa(r.icon)),a()("div",{},void 0,g.Z.mastercard(r.icon)),a()("div",{},void 0,g.Z.amex(r.icon)),a()("div",{},void 0,g.Z.dinersclub(r.icon))):null),a()("div",{style:r.container},void 0,a()(d.CardElement,{options:{disabled:"disabled"===n,hidePostalCode:!0,style:{base:r.stripeBase,complete:r.stripeComplete,invalid:r.stripeInvalid}}})))}var h=o(502);function C(){c.Z.update((e=>{if(!e.open)return e;const{paymentData:t,...o}=e;return o}))}function w(e){window.__c={n:"CheckoutPaymentField"};const{paymentMethods:t,payButtonState:o,temporaryPaymentMethod:n,address:c,updateAddress:m}=e,[y,g]=(0,i.VK)((()=>{var e;return[l.o0(),null===(e=u.default.state.currentUserStore)||void 0===e?void 0:e.getEmail()]}),[]);if("control"===y)return a()(b,{paymentMethods:t,payButtonState:o,temporaryPaymentMethod:n});if("payment_and_address"===y){const e={};return g&&(e.defaultValues={email:g}),a()("div",{style:{display:"flex",flexDirection:"column",gap:24}},void 0,a()(h.w,{title:"Billed to"},void 0,c&&m?r.createElement(r.Fragment,null,a()(p.F,{address:c,updateAddress:m}),a()("div",{style:{paddingTop:8,width:"100%"}})):null,a()(d.LinkAuthenticationElement,{options:e})),a()(h.w,{title:"Payment details"},void 0,a()(d.PaymentElement,{onChange:()=>C()})))}if("payment"===y){const e={};return g&&(e.defaultValues={email:g}),a()("div",{style:{display:"flex",flexDirection:"column",gap:24}},void 0,a()(h.w,{title:"Billed to"},void 0,a()(d.LinkAuthenticationElement,{options:e})),a()(h.w,{title:"Payment details"},void 0,a()(d.PaymentElement,{onChange:()=>C()})))}(0,s.t1)(y)}},48209:(e,t,o)=>{o.d(t,{n:()=>y});var n=o(10434),a=o.n(n),d=o(23174),r=o.n(d),i=o(67294),s=o(24405),l=o(82990),u=o(5366),c=o(80366),p=o(74194),m=o(58032);function y(e){window.__c={n:"CheckoutVATCodeInput"};const{temporaryVatCode:t,vatApplicable:o,disabled:n,tooltip:d,onChange:y}=e,g=(0,s.yK)((e=>({container:{backgroundColor:e.cardContentBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,borderBottom:"none"},header:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:l.Z.fontWeight.semibold,color:e.mediumTextColor,justifyContent:"space-between",paddingTop:20},input:{background:"none",boxShadow:"none",padding:8},subtitle:{color:e.mediumTextColor,fontSize:l.Z.fontSize.UISmall.desktop,marginTop:5,marginBottom:10},whiteSpace:{marginBottom:20}})),[]),v=(0,u.useIntl)(),f=(0,i.useCallback)((e=>{y(e.target.value)}),[y]);return o?r()("div",{},void 0,r()("label",{style:g.header},void 0,r()(u.FormattedMessage,{id:"spaceSubscriptionPaymentForm.vatCountryCode.header",defaultMessage:"VAT (optional)"})),r()(m.Z,{placement:m.Z.Placement.Top,alignment:m.Z.Alignment.End,render:e=>i.createElement("div",a()({},e,{style:g.container}),r()(c.c,{},void 0,r()(p.Z,{value:t,style:g.input,disabled:n,placeholder:v.formatMessage({id:"spaceSubscriptionPaymentForm.vatCountryCode.placeholder",defaultMessage:"VAT/GST number"}),onChange:f}))),disableTooltip:!d,renderTooltip:()=>d}),r()("div",{style:g.subtitle},void 0,r()(u.FormattedMessage,{id:"spaceSubscriptionBilling.vatCountryCode.subtitle",defaultMessage:"Please include your country code"}))):r()("div",{style:g.whiteSpace})}},94699:(e,t,o)=>{o.d(t,{J:()=>Z});var n=o(23174),a=o.n(n),d=o(67294),r=o(81954),i=o(97880),s=o(62216),l=o(16116),u=o(480),c=o(24405),p=o(5366),m=o(50906),y=o(80366),g=o(74194),v=o(10434),f=o.n(v),b=o(58573),h=o(87279),C=o(52275),w=o(78140),S=o(32163),B=o(44532),F=o(72495);function x(e){window.__c={n:"CheckoutCountryDropdown"};const{availableCountries:t,address:o,updateAddress:n}=e,r=(0,c.yK)((()=>({input:{background:"none",boxShadow:"none",padding:8,fontSize:14}})),[]),i=(0,u.O7)(),s=(0,p.useIntl)(),[l,v]=(0,d.useState)(!1),[x,A]=d.useState(""),M=(0,b.ZP)(x,t,(e=>e.name)).map(((e,t)=>({key:t,render:t=>d.createElement(C.Z,f()({},t,{title:e.name})),action:()=>{e.countryCode!==o.country&&n({addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:e.countryCode}),A(e.name),v(!1),m.rYO(i,{addressType:"country",addressUpdate:e.name})}})));return a()(y.c,{},void 0,a()(B.ZP,{popupType:B.ZP.PopupType.Popup,alignmentToOrigin:B.ZP.Alignment.End,placementToOrigin:B.ZP.Placement.Right,originGap:0,open:l,origin:a()(g.Z,{value:x,focus:l,placeholder:s.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.country",defaultMessage:"Country or region"}),style:r.input,onChange:e=>{A(e.target.value),n({country:void 0})},onFocus:()=>{v(!0)}}),onDismiss:()=>{v(!1)},render:()=>a()(w.Z,{menuType:h.og.Popup,width:"100%"},void 0,a()(S.Z,{type:S.i.Vertical,initialFocus:x.length>0?0:void 0,sections:[{key:0,showNoResultMessage:!0,render:e=>d.createElement(F.Z,f()({},e,{title:a()(p.FormattedMessage,{id:"spaceSubscriptionBillingInfoForm.countryDropdown.title",defaultMessage:"Select a country or region"})})),items:M}]}))}))}function A(){return(0,c.yK)((e=>({container:(0,y.s)(e),cityZipRow:{display:"flex"},verticalDivider:{display:"flex",borderLeft:"1px solid",borderLeftColor:e.groupedFormBorder},zipRow:{display:"flex",flex:2},stateRow:{display:"flex",flex:3},input:{background:"none",boxShadow:"none",padding:8,fontSize:14}})),[])}function M(e){window.__c={n:"CheckoutNotionAddressForm"};const{address:t,availableCountries:o,shouldShowBusinessName:n,updateAddress:r}=e,i=A(),s=(0,p.useIntl)();return a()("div",{style:i.container},void 0,a()(P,{placeholder:s.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.fullName",defaultMessage:"Full name"}),address:t,updateAddress:r,addressKey:"name"}),n&&a()(P,{placeholder:s.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.businessName",defaultMessage:"Business name (optional)"}),address:t,updateAddress:r,addressKey:"businessName"}),o?a()(x,{availableCountries:o,updateAddress:r,address:t}):null,t?d.createElement(d.Fragment,null,a()(P,{placeholder:s.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.address",defaultMessage:"Address"}),address:t,addressKey:"addressLine1",updateAddress:r}),a()(P,{placeholder:s.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.city",defaultMessage:"City"}),addressKey:"city",address:t,updateAddress:r}),a()("div",{style:i.cityZipRow},void 0,a()("div",{style:i.stateRow},void 0,a()(P,{placeholder:s.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.state",defaultMessage:"State / Province"}),address:t,addressKey:"state",updateAddress:r})),a()("div",{style:i.verticalDivider}),a()("div",{style:i.zipRow},void 0,a()(P,{placeholder:s.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.zipCode",defaultMessage:"Zip code"}),address:t,addressKey:"zipCode",updateAddress:e.updateAddress})))):null)}function P(e){window.__c={n:"AddressInputField"};const{address:t,updateAddress:o,addressKey:n,placeholder:r}=e,i=(0,u.O7)(),s=A(),l=(0,d.useCallback)((e=>{m.rYO(i,{addressType:n,addressUpdate:e.target.value}),o({[n]:e.target.value})}),[n,o,i]);return a()(y.c,{},void 0,a()(g.Z,{value:t[n],style:s.input,placeholder:r,onBlur:l,onChange:e=>o({[n]:e.target.value})}))}function Z(e){window.__c={n:"SpaceSubscriptionAddressForm"};const{address:t,availableCountries:o,updateAddress:n,shouldShowBusinessName:d}=e,u=(0,r.VK)((()=>s.o0()),[]);return"payment"===u||"payment_and_address"===u?a()(l.F,{address:t,updateAddress:n}):"control"===u?a()("div",{style:{marginTop:20}},void 0,a()(M,{address:t,availableCountries:o,shouldShowBusinessName:d,updateAddress:n})):void(0,i.t1)(u)}},502:(e,t,o)=>{o.d(t,{C:()=>b,w:()=>h});var n=o(23174),a=o.n(n),d=o(96486),r=o(67294),i=o(480),s=o(81954),l=o(24405),u=o(65544),c=o(62216),p=o(8323),m=o(38479),y=o(27242),g=o(37030),v=o(48209),f=o(94699);function b(e){window.__c={n:"SpaceSubscriptionBillingInfoForm"};const{paymentMethods:t}=e,o=(0,i.O7)(),n=(0,m.y)(),l=(0,r.useMemo)((()=>(0,d.debounce)((async()=>{await u.W_(o)}),3e3)),[o]),[b,h,C,w,S,B,F]=(0,s.VK)((()=>{let e,t,o,n,a=!1;const{state:d}=y.Z;return d.open&&(e=d.temporaryAddress,t=d.temporaryPaymentMethod,o=d.payButtonState,n=d.temporaryVatCode,a=d.vatApplicable),[(0,p.mq)(),e,t,n,o,a,c.o0()]}),[]),x=(0,r.useCallback)((async e=>{if(y.Z.state.open&&(y.Z.setAddressField(e),await l(),n)){const t=n.find((t=>t.countryCode===(null==e?void 0:e.country)));t&&y.Z.update((e=>({...e,vatApplicable:Boolean(t.vatApplicable)})))}}),[n,l]),A=(0,r.useCallback)((async e=>{y.Z.update((t=>({...t,temporaryVatCode:e}))),await l()}),[l]);return h&&C&&S?a()("div",{},void 0,a()(g.k,{paymentMethods:t,temporaryPaymentMethod:C,payButtonState:S,address:h,updateAddress:x}),"control"===F?a()(f.J,{address:h,availableCountries:n,shouldShowBusinessName:b,updateAddress:x}):null,a()(v.n,{onChange:A,temporaryVatCode:w,vatApplicable:B})):null}function h(e){window.__c={n:"BillingSection"};const t=(0,l.yK)((()=>({text:{color:"var(--text-secondary-dark, #7F7F7F)",fontSize:12,fontWeight:500,marginBottom:12}})),[]);return a()("div",{},void 0,a()("div",{style:t.text},void 0,e.title),e.children)}},80366:(e,t,o)=>{o.d(t,{s:()=>r,c:()=>i});var n=o(23174),a=o.n(n),d=(o(67294),o(24405));function r(e){return{backgroundColor:e.groupedFormBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,borderBottomWidth:0}}function i(e){window.__c={n:"FormGroup"};const t=(0,d.yK)((t=>({group:{display:"flex",borderBottomColor:t.groupedFormBorder,borderBottomWidth:1,borderBottomStyle:"solid",alignItems:"center",flex:1,...e.style}})),[e.style]);return a()("div",{style:t.group},void 0,e.children)}},38479:(e,t,o)=>{o.d(t,{y:()=>i});var n=o(480),a=o(59054),d=o(97880),r=o(54642);function i(){const e=(0,n.O7)(),[t]=(0,a.r5)((async()=>{const t=await r.getAvailableCountries(e,{});return"success"===t.type?t.data.countries:"failed"===t.type?[]:void(0,d.t1)(t)}),[e]);return t.value}}}]);