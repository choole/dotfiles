"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4931],{64453:(e,t,n)=>{n.d(t,{P:()=>u});var i=n(23174),o=n.n(i),a=(n(57658),n(67294)),r=n(81954),s=n(24405),l=n(15070),d=n(5366),g=n(82990),c=n(71669),p=n(64369);function u(e){window.__c={n:"ConnectIntegrationHeader"};const{integrationModel:t,integrationConfig:n,spaceStore:i}=e,u=(0,s.yK)((e=>({integrationIcon:{width:40,height:40,borderRadius:6,overflow:"hidden"},title:{marginTop:4,fontSize:17,fontWeight:590,lineHeight:"22px"},subTitle:{fontWeight:g.Z.fontWeight.regular,fontSize:g.Z.fontSize.UISmall.desktop,color:e.lightTextColor,lineHeight:"17px",marginTop:6.5}})),[]),m=(0,r.VK)((()=>t.getInfo().developer_name||"Unknown"),[t]),f=(0,r.VK)((()=>t.getCapabilities()),[t]),h=function(e){const t=[];e.read_content&&t.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.readContent",defaultMessage:"view content"}));e.read_comment&&t.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.readComment",defaultMessage:"view comments"}));e.update_content&&t.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.updateContent",defaultMessage:"edit content"}));e.insert_comment&&t.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.updateComment",defaultMessage:"edit comments"}));e.insert_content&&t.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.insertContent",defaultMessage:"create content"}));e.insert_comment&&t.push(o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationCapabilities.insertComment",defaultMessage:"create comments"}));return o()(d.FormattedList,{value:t,type:"conjunction"})}(f),M=(0,r.VK)((()=>i.getName()),[i]);let b;return(0,l.ms)(f)&&f.webhooks?b=o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationDescriptionDlp",defaultMessage:"Connect to {integrationName} for real-time monitoring and protection of sensitive content.",values:{integrationName:m}}):f.webhooks&&(b=o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationDescriptionSiem",defaultMessage:"Connect to {integrationName} for real-time monitoring, alerting, and analysis of your workspace event logs.",values:{integrationName:m}})),a.createElement(a.Fragment,null,o()("div",{style:u.integrationIcon},void 0,o()(c.Z,{style:u.integrationIcon,src:n.info.icon})),o()(p.Z,{style:u.title},void 0,o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationName",defaultMessage:"Connect {integrationName} to Notion",values:{integrationName:m}})),o()(p.Z,{style:u.subTitle,isMultiline:!0},void 0,b),o()(p.Z,{style:u.subTitle,isMultiline:!0},void 0,f.webhooks&&o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationScope.webhooks",defaultMessage:"{integrationName} will be authorized to receive event logs on all activity in {spaceName}.",values:{integrationName:m,spaceName:M}})," ",(0,l.ms)(f)&&o()(d.FormattedMessage,{id:"integrations.configureIntegrationModal.integrationScope.contentCapabilities",defaultMessage:"{hasWebhooks, select, true {For <b>all</b> pages, {integrationName} will also able to {formattedCapabilities}} other {For <b>all</b> pages, {integrationName} will able to {formattedCapabilities}}}.",values:{hasWebhooks:f.webhooks,b:e=>o()("span",{style:{fontWeight:g.Z.fontWeight.semibold}},void 0,e),integrationName:m,formattedCapabilities:h}})))}},18153:(e,t,n)=>{n.r(t),n.d(t,{ConnectOAuthIntegrationModal:()=>x,useConnectIntegrationModalStyles:()=>_});var i=n(10434),o=n.n(i),a=n(23174),r=n.n(a),s=n(67294),l=n(480),d=n(81954),g=n(24405),c=n(53397),p=n(5366),u=n(9844),m=n(9038),f=n(50906),h=n(77719),M=n(33929),b=n(79315),v=n(17549),y=n(68216),C=n(64453),I=n(42922),w=n(73063),S=n(58032),Z=n(92660);const N=(0,p.defineMessages)({createButton:{id:"integrations.connectOAuthIntegrationModal.submitButton.create",defaultMessage:"Connect to {integrationName}"},waiting:{id:"integrations.connectOAuthIntegrationModal.submitButton.waiting",defaultMessage:"Waiting for changes in {integrationName}"},waitingTooltip:{id:"integrations.connectOAuthIntegrationModal.submitButton.waitingTooltip",defaultMessage:"You need to complete some steps in {integrationName} to continue"},closeModalAriaLabel:{id:"integrations.connectOAuthIntegrationModal.closeButtonLabel",defaultMessage:"Close integration installation modal"}});function x(){window.__c={n:"ConnectOAuthIntegrationModal"};const e=(0,l.O7)(),t=_(),n=(0,d.VK)((()=>v.Z.state.open?v.Z.state.integrationId:void 0),[]),i=(0,d.VK)((()=>b.default.state.currentSpaceStore),[]),a=n&&i?y.y2.createChildStore(i,{id:n,table:u.K2}):void 0,[g,x]=s.useState(!1),k=(0,d.VK)((()=>{if(a)return a.getModel()}),[a]),F=(0,d.VK)((()=>null==k?void 0:k.getInfo()),[k]),T=(0,m.RW)(n);if(!(k&&F&&T&&i&&n))return null;const B=async()=>{g||(x(!0),await h.$$({environment:e,integration:k,spaceId:i.id,from:"compliance_connected_apps_settings"}),f.eRW(e,{integration_id:n,configuration_type:"oauth"}),W())},W=()=>{v.Z.setState({open:!1}),x(!1)};return r()(Z.Z,{innerStyle:t.modal,requireOnline:!0,modalStore:v.Z,onDismiss:W,render:()=>r()("div",{style:t.mobileModal},void 0,r()("div",{style:t.innerModal},void 0,r()(w.Z,{icon:c.Z.closeSmall,onClick:W,style:t.cancelButton,hoveredStyle:t.hovered,ariaLabel:M.default.formatMessage(N.closeModalAriaLabel)}),r()(C.P,{integrationModel:k,integrationConfig:T,spaceStore:i}),r()(S.Z,{placement:S.Z.Placement.Top,renderTooltip:()=>s.createElement(p.FormattedMessage,o()({},N.waitingTooltip,{values:{integrationName:F.developer_name}})),disableTooltip:!g,render:e=>s.createElement(I.Z,o()({style:t.connect,onClick:B,disabled:g},e),g?r()("span",{},void 0,M.default.formatMessage(N.waiting,{integrationName:F.developer_name})):r()("span",{style:t.createButton},void 0,M.default.formatMessage(N.createButton,{integrationName:F.developer_name}),c.Z.redirect(t.redirectIcon)))})))})}function _(){return(0,g.yK)((e=>({modal:{maxWidth:400,padding:"40px 20px 24px",fontSize:14,textAlign:"center",borderRadius:10},connect:{marginTop:40,padding:"0px 12px",width:360,height:32},innerStyle:{borderRadius:10},mobileModal:{fontSize:14,textAlign:"center"},innerModal:{display:"flex",flexDirection:"column",alignItems:"center"},hovered:{background:e.buttonPressedBackground},cancelButton:{position:"absolute",top:"10px",right:"10px",background:e.buttonHoveredBackground,borderRadius:"100%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",zIndex:10},createButton:{display:"flex",alignItems:"center"},redirectIcon:{width:14,height:14,marginLeft:8}})),[])}},92660:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(23174),o=n.n(i),a=(n(67294),n(83355)),r=n(53953),s=n(44532);class l extends a.Z{renderComponent(){const{render:e}=this.props,{device:t}=this.environment,n=this.props.modalStore.state;return t.isMobile?o()(s.ZP,{ariaLabel:this.props.ariaLabel,open:n.open,popupType:s.ZP.PopupType.SlideUp,origin:this.props.origin,onDismiss:this.props.onDismiss,render:e,style:this.props.style}):o()(r.Z,{ariaLabel:this.props.ariaLabel,open:n.open,preventHideChildrenWhileOpening:!0,render:e,onDismiss:this.props.onDismiss,style:this.props.style,innerStyle:this.props.innerStyle})}}l.displayName="DefaultPopupOrModal"},17549:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(49085);class o extends i.default{getInitialState(){return{open:!1}}}const a=new o}}]);