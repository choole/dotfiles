"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1471],{37834:(e,t,o)=>{o.d(t,{jN:()=>g,FF:()=>v,U4:()=>b,gs:()=>f,zb:()=>y,xx:()=>A});var i=o(23174),r=o.n(i),a=(o(67294),o(98459)),n=o(82990),s=o(5366),d=o(10161),c=o(46096),l=o(50906),u=o(54642),h=o(47307),m=o(92625);const p=(0,s.defineMessages)({restoringPreviousVersion:{id:"historyModalActions.restoringPreviousVersion.loadingMessage",defaultMessage:"Restoring…"}});function g(e){const{environment:t,from:o,...i}=e;l.ya1(t,o),c.Z.setState({...i,open:!0,size:50})}const v=()=>{const e=c.Z.state;e.open&&c.Z.setState({...e,size:e.size+20})},b=function(){c.Z.setState({open:!1})};function f(e){const{environment:t,snapshot:o,nextFutureSnapshot:i}=e;l.qDg(t,o);const r=c.Z.state;r.open&&c.Z.setState({...r,snapshot:o,nextFutureSnapshot:i,openSnapshotNearTimestamp:void 0})}function y(){const e=c.Z.state;e.open&&c.Z.setState({...e,snapshot:void 0,nextFutureSnapshot:void 0})}async function A(e){if(!c.Z.state.open)return;if(!c.Z.state.snapshot)return;const t="restore_collection",o=c.Z.state.pageHasCollection,i=d.default.checkGate("snapshot_optional_collection_rollback_enabled")&&o?[{key:t,text:r()(s.FormattedMessage,{defaultMessage:"Also restore databases on this page",id:"historyModal.confirmDialog.selectOption.collection"}),description:r()(s.FormattedMessage,{defaultMessage:"All database pages will be restored to the previous version, which may impact other users or database views.",id:"historyModal.confirmDialog.selectOption.collection.description"})}]:void 0,{accept:g,selectionResult:v}=await h.confirmUserActionV2({message:r()("div",{style:{fontWeight:n.Z.fontWeight.semibold,fontSize:"medium"}},void 0,r()(s.FormattedMessage,{defaultMessage:"Restore to this version?",id:"historyModal.confirmDialog.description"})),acceptLabel:r()(s.FormattedMessage,{defaultMessage:"Restore",id:"historyModal.confirmDialog.restoreButton.label"}),selectionItems:i});if(!g)return;l.R9m(e,c.Z.state.snapshot),m.j({message:p.restoringPreviousVersion});const f=await u.restoreSnapshot(e,{block:{id:c.Z.state.blockStore.id,spaceId:(0,a.CG)(c.Z.state.blockStore.pointer.spaceId)},timestamp:c.Z.state.snapshot.timestamp,shouldRestoreCollection:(null==v?void 0:v.restore_collection)??!1}).next();f.value.error&&h.showErrorMessage(f.value.error.message),m.x(),b()}},2021:(e,t,o)=>{o.r(t),o.d(t,{default:()=>bo});var i=o(10434),r=o.n(i),a=o(23174),n=o.n(a),s=(o(57658),o(67294)),d=o(83355),c=o(40902),l=o(15145),u=o(41432),h=o(39068),m=o(55061),p=o(89101),g=o(21202),v=o(6287),b=o(13493),f=o(70279),y=o(33709),A=o(90468),S=o(99108),M=o(97880),O=o(5366),k=o(68216),_=o(480),R=o(81954),w=o(24405),I=o(58129),C=o(29369),T=o(19889),B=o(82990),P=o(4708),V=o(33929),x=o(53150),Z=o(49085),K=o(8848),F=o(53397),L=o(17659),N=o(37834),E=o(12359),D=o(43250),U=o(12534),G=o(16402),W=o(4761),q=o(73063),z=o(86176),H=o(58032),j=o(70301),X=o(45653),Y=o(67706),$=o(62967),J=o(19719),Q=o(87279),ee=o(98742),te=o(9919),oe=o(57538),ie=o(10161),re=o(48019),ae=o(31945),ne=o(78140),se=o(72495),de=o(64369);function ce(e){window.__c={n:"InboxActionsMenu"};const{notification:t,rootStore:o,onArchiveClicked:i,onMarkAsReadClicked:a,onMarkAsUnreadClicked:d}=e,c=(0,_.O7)(),l=(0,_.Fy)(),u=(0,O.useIntl)(),h=(0,R.VK)((()=>(0,P.NP)()),[]),p=(0,R.VK)((()=>(0,P.m7)()),[]),v=(0,R.VK)((()=>!!t&&(0,m.$2)(t.type)),[t]),b=(0,R.VK)((()=>{const e=null==t?void 0:t.navigable_block_id;if(e)return k.G.createChildStore(o,{table:g.iU,id:e})}),[o,t]),f=(0,R.VK)((()=>null==b?void 0:b.getFollowSettingsKey()),[b]),y=(0,R.VK)((()=>{if(!f)return[];if(!b)return[];const e="inbox";return ie.default.checkGate("property_updates_notifications")?te.CA({followSettingsKey:f,environment:c,blockStore:b,from:e,useCopyChanges:p}):te.Zk({followSettingsKey:f,environment:c,blockStore:b,from:e})}),[f,c,b,p]),A=(0,R.VK)((()=>h&&v&&y.length>0),[h,v,y]),S=(0,s.useCallback)((e=>{t&&(0,U.ZP)({event:e,context:U.Af.NotificationClick,callback:()=>{i(),E.createAndCommit({userAction:"InboxActionsMenu.handleArchive",environment:c,perform:e=>{L.aZ({notification:t,rootStore:o,transaction:e})}})}})}),[c,t,i,o]),M=(0,s.useCallback)((e=>{t&&(0,U.ZP)({event:e,context:U.Af.NotificationClick,callback:()=>{t.read?d():a(),E.createAndCommit({userAction:"InboxActionsMenu.toggleNotificationReadStatus",environment:c,perform:e=>{L.$h({notification:t,rootStore:o,transaction:e,read:!t.read})}})}})}),[c,t,a,d,o]),I=(0,s.useCallback)((()=>{f&&b&&t&&J.Z8({environment:c,notificationId:t.id,pageId:b.pointer.id,isCurrentlyFollowing:(0,oe.Z)(f).following,from:"inbox"})}),[c,b,f,t]),C=(0,w.yK)((e=>({container:{display:"flex",height:"min-content",background:e.buttonGroupBackground,boxShadow:e.lightBoxShadow,borderRadius:4,padding:2},button:{height:l.isMobile?30:26,width:l.isMobile?30:26},iconStyle:{fill:e.mediumIconColor,padding:2},readIcon:{width:l.isMobile?21:19,height:l.isMobile?22:20},archiveIcon:{width:l.isMobile?24:23,height:l.isMobile?24:23},ellipsisIcon:{width:l.isMobile?24:23,height:l.isMobile?24:23},headerLabel:{paddingLeft:16,paddingRight:16,paddingTop:10,fontWeight:B.Z.fontWeight.semibold},footerLabel:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:1}})),[l]);return t?n()("div",{style:C.container},void 0,n()(H.Z,{renderTooltip:()=>t.read?n()(O.FormattedMessage,{defaultMessage:"Mark this notification as unread",id:"inboxActionsMenu.markNotificationAsUnread.tooltipMessage"}):n()(O.FormattedMessage,{defaultMessage:"Mark this notification as read",id:"inboxActionsMenu.markNotificationAsRead.tooltipMessage"}),render:e=>s.createElement(q.Z,r()({style:C.button,icon:t.read?F.Z.notificationUnread:F.Z.notificationRead,iconStyle:{...C.iconStyle,...C.readIcon},onClick:M},e))}),n()(H.Z,{renderTooltip:()=>n()(O.FormattedMessage,{defaultMessage:"Archive this notification",id:"inboxActionsMenu.handleArchive.tooltipMessage"}),render:e=>s.createElement(q.Z,r()({style:C.button,icon:F.Z.archive,iconStyle:{...C.iconStyle,...C.archiveIcon},onClick:S},e))}),A&&n()(H.Z,{renderTooltip:()=>s.createElement(O.FormattedMessage,le.changePageNotificationSettings),render:e=>n()(ae.ZP,{popupType:l.isMobile?ae.Z4.SlideUp:ae.Z4.Popup,alignmentToOrigin:ae.vR.Start,placementToOrigin:ae.pO.Bottom,render:e=>n()(ne.Z,{menuType:Q.og.Popup,minWidth:290,maxHeight:"50vh",maxWidth:l.isMobile?"100vw":void 0,header:n()(de.Z,{style:C.headerLabel,isSmall:!0,isSecondaryColor:!0},void 0,n()(O.FormattedMessage,p?{id:"UpdateSidebarTabUpdatesHeader.pageNotificationSettings.label",defaultMessage:"Page notification settings"}:{id:"UpdateSidebarTabUpdatesHeader.getNotifiedButton.label",defaultMessage:"Get notified for"}))},void 0,n()(re.Z,{context:{blocks:[],environment:c,publicEditMode:void 0},sections:[(0,$.$J)({key:"in-app-notifications-section",render:e=>s.createElement(se.Z,e),actions:y.map((e=>e.action))})],initialFocus:void 0,onAccept:()=>e.close()})),renderOrigin:t=>s.createElement(q.Z,r()({ariaLabel:u.formatMessage(le.changePageNotificationSettings),style:C.button,icon:F.Z.ellipsis,iconStyle:{...C.iconStyle,...C.archiveIcon}},e,(0,ee.Z)(t,{onClick:()=>I()})))})})):null}const le=(0,O.defineMessages)({changePageNotificationSettings:{defaultMessage:"Change page notification settings",id:"inboxActionsMenu.notificationSettings.tooltipMessage"}}),ue=s.memo(ce);var he=o(32469),me=o(93963);class pe extends d.Z{constructor(){super(...arguments),this.titleAriaId=(0,x.Z)(),this.storeTypes={hovered:Z.default.createClass(!1),hoveredOverInboxActionsMenu:Z.default.createClass(!1)},this.handleMouseOver=()=>{this.stores.hovered.setState(!0)},this.handleMouseLeave=()=>{this.stores.hovered.setState(!1)},this.handleMouseEnterInboxActions=()=>{this.stores.hoveredOverInboxActionsMenu.setState(!0)},this.handleMouseLeaveInboxActions=()=>{this.stores.hoveredOverInboxActionsMenu.setState(!1)},this.handleArchive=()=>{const{notification:e,rootStore:t,onArchiveClicked:o}=this.props;o(),e&&E.createAndCommit({userAction:"ActivitySection.handleArchive",environment:this.environment,perform:o=>{L.aZ({notification:e,rootStore:t,transaction:o})}})},this.handleMarkAsRead=e=>{const{notification:t,rootStore:o,onNotificationFrameClicked:i}=this.props;t&&!t.read&&(this.stores.hoveredOverInboxActionsMenu.state||(0,U.ZP)({event:e,context:U.Af.NotificationClick,callback:()=>{i(),E.createAndCommit({userAction:"ActivitySection.handleMarkAsRead",environment:this.environment,perform:e=>{L.$h({notification:t,rootStore:o,transaction:e,read:!0})}})}}))},this.handleOpenSnapshot=()=>{if(this.props.navigableBlockId){const e=k.G.createChildStore(this.props.rootStore,{table:g.iU,id:this.props.navigableBlockId});N.jN({environment:this.environment,blockStore:e,openSnapshotNearTimestamp:this.props.timestamp.toString(),from:"activity"})}}}renderComponent(){const{children:e}=this.props,t="mentions"===W.ZP.state.currentTab;return n()("article",{onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onClick:this.handleMarkAsRead,"aria-labelledby":this.titleAriaId,tabIndex:0},void 0,this.renderInboxActions(),n()("div",{style:{...pe.wrapStyle,paddingBottom:e?12:8,paddingLeft:this.environment.device.isMobile?this.environment.WindowSizeStore.state.paddingLeftCSS:0,paddingRight:this.environment.device.isMobile?this.environment.WindowSizeStore.state.paddingRightCSS:0,...this.shouldShowReadNotificationStyle()&&{opacity:.7}}},void 0,n()("div",{style:this.getHeaderAndAvatarStyle()},void 0,n()("div",{className:D.FoE,style:this.avatarAndStatusDotStyle()},void 0,n()("div",{style:{marginRight:4}},void 0,t&&n()("div",{style:{marginRight:this.environment.device.isMobile?3:2}},void 0,this.renderStatusDot({opacity:1}))),this.props.icon),this.renderHeader(),this.renderSnapshotButton(),this.renderPrivate()),e&&this.renderChildren()),this.renderDivider())}renderDivider(){const{isLast:e}=this.props;if(!e)return n()("div",{style:this.getBorderBottomStyle()})}renderHeader(){const{timestamp:e,header:t}=this.props,o=(0,G.IS)(e),i=(0,G.uy)(e);return n()("div",{style:pe.headerStyle},void 0,n()("div",{id:this.titleAriaId,className:D.NFf},void 0,t),n()("div",{style:{display:"flex",marginTop:4,marginBottom:this.props.children?8:4}},void 0,n()("div",{style:this.getTimeStyle(),className:D.CZG},void 0,n()(Y.Z,{text:o,tooltipText:i,icon:F.Z.calendar})),this.props.navigableBlockId&&this.props.rootStore&&n()(z.Z,{isLink:!0,innerStyle:this.getPathStyle(),store:k.G.createChildStore(this.props.rootStore,{table:g.iU,id:this.props.navigableBlockId}),left:n()("div",{style:this.getSeparatorDotStyle()},void 0,"·"),onClick:this.props.onBacklinkClicked})))}renderSnapshotButton(){if(!this.props.showSnapshotButton)return;if(this.props.timestamp<new Date("2018-10-26").getTime())return;const e=V.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"});return this.props.navigableBlockId?n()(H.Z,{renderTooltip:()=>e,render:t=>s.createElement(q.Z,r()({ariaLabel:e,onClick:this.handleOpenSnapshot,icon:F.Z.versionHistoryThick},t))}):void 0}renderInboxActions(){const{notification:e,rootStore:t,onArchiveClicked:o,onMarkAsReadClicked:i,onMarkAsUnreadClicked:r}=this.props,{currentTab:a}=W.ZP.state;if("mentions"===a&&e&&!e.visited)return n()("div",{style:this.getStatusLabelContainerStyle(),onMouseEnter:this.handleMouseEnterInboxActions,onMouseLeave:this.handleMouseLeaveInboxActions},void 0,n()("div",{style:this.getInboxActionsStyle()},void 0,n()(ue,{notification:e,rootStore:t,onArchiveClicked:o,onMarkAsReadClicked:i,onMarkAsUnreadClicked:r})))}renderStatusDot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!this.isSeen()&&n()(me.z,{style:{...this.getStatusDotStyle(),...e}})}renderPrivate(){if(this.props.isPrivate&&!this.props.notification)return n()(he.Z,{style:{marginTop:1,marginBottom:4,marginLeft:8}})}renderChildren(){return n()("div",{className:D.nU_},void 0,this.props.children)}isSeen(){const{notification:e}=this.props;return!e||e.read}shouldShowReadNotificationStyle(){const{currentTab:e}=W.ZP.state;return this.isSeen()&&"mentions"===e&&!this.props.showSnapshotButton&&this.props.notification}avatarAndStatusDotStyle(){return{display:"flex",alignItems:"flex-start",position:"relative"}}getHeaderAndAvatarStyle(){return{display:"flex",paddingLeft:16,paddingRight:16+("mentions"!==W.ZP.state.currentTab||this.props.showSnapshotButton?0:69)}}getBorderBottomStyle(){return{borderBottom:`1px solid ${this.theme.regularDividerColor}`}}getPathStyle(){return{fontSize:12,color:this.theme.lightTextColor}}getTimeStyle(){return{fontSize:12,color:this.theme.lightTextColor,whiteSpace:"nowrap"}}getSeparatorDotStyle(){return{fontSize:12,color:this.theme.lightTextColor,marginLeft:4,marginRight:4}}getStatusLabelContainerStyle(){return{display:"flex",alignItems:"flex-start",marginTop:1,marginBottom:4,position:"relative",marginLeft:this.environment.device.isMobile?23:8}}getStatusDotStyle(){return{position:"absolute",opacity:this.stores.hovered.state?0:1,left:-7,top:10}}getInboxActionsStyle(){const{isMobile:e}=this.environment.device;return{transition:"opacity 100ms ease-out",opacity:e||this.stores.hovered.state?1:0,position:"absolute",right:16,top:12,zIndex:1}}}pe.displayName="ActivitySection",pe.wrapStyle={paddingTop:12},pe.headerStyle={fontSize:14,lineHeight:1.4,flexGrow:1,minWidth:0};const ge={marginTop:2,marginRight:8,flexShrink:0};function ve(e){let{actor:t,environment:o}=e;const i=o.currentUser.id===t.id;return Number(t.isBot())+Number(i)}function be(e){window.__c={n:"AuthorIcon"};const{authors:t}=e,o=(0,_.O7)(),i=t.sort(((e,t)=>ve({actor:e,environment:o})-ve({actor:t,environment:o})))[0];return i?i.isBot()?n()(j.Z,{botValue:i,style:ge,size:24}):i.isUser()?n()(X.Z,{userValue:i,style:ge,size:24,avatarShouldShowShadow:!0}):i.isAgent()?null:void(0,M.t1)(i):null}function fe(){return n()("div",{style:{display:"flex",backgroundColor:K.ZP.red,height:28,width:28,borderRadius:"100%",...ge}},void 0,F.Z.alarmClock({height:16,width:16,fill:K.ZP.white,marginLeft:6,marginTop:5}))}function ye(){return n()("div",{style:{height:25,width:25,...ge}},void 0,F.Z.typesVerification({height:25,width:25}))}const Ae=pe;var Se=o(17652),Me=o(64921);function Oe(e){window.__c={n:"ActivitySectionRedesignedIA"};const[t,o]=(0,s.useState)(!1),[i,r]=(0,s.useState)(!1),{notification:a,prominentTitleLink:d,children:c,rootStore:l,icon:u,isPrivate:h,isLast:m,onBacklinkClicked:p,onArchiveClicked:g,onNotificationFrameClicked:v,onMarkAsReadClicked:b,onMarkAsUnreadClicked:f,showRecordPath:y,navigableBlockId:A,showSnapshotButton:S,timestamp:M,header:O,groupingArgs:k}=e,{groupingVariant:I,isNotificationGroupExpanded:C,destinationUrl:T}=k??{groupingVariant:"control"},B=(0,_.O7)(),P=(0,R.VK)((()=>"mentions"===W.ZP.state.currentTab),[]),V=!a||a.read,Z=B.device.isMobile,K=Boolean(V&&P&&!S&&a&&("cards"===I||"flat"!==I&&!C)),F=(0,R.VK)((()=>C&&"flat"!==I),[C,I]),N=(0,R.VK)((()=>K&&C&&"flat"===I),[K,C,I]),G=(0,R.VK)((()=>{const e=B.WindowSizeStore.state;return{left:e.paddingLeftCSS,right:e.paddingRightCSS}}),[B.WindowSizeStore]),q=(0,w.yK)((e=>({container:{...F||"cards"===I||"control"===I?{paddingTop:12,paddingBottom:c?12:8}:{paddingTop:6,paddingBottom:c?6:4},paddingLeft:Z?G.left:0,paddingRight:Z?G.right:0,...K&&{opacity:.7},...N&&{opacity:1,backgroundColor:e.sidebarBackground},..."cards"===I&&{overflow:"hidden",marginTop:12,marginBottom:12-(C?12:0),marginLeft:12,marginRight:12,backgroundColor:e.modalBackground,borderRadius:16,borderWidth:1,borderStyle:"solid",borderColor:"rgba(227, 226, 224, 0.5)",boxShadow:"0px 2px 4px 0px rgba(0, 0, 0, 0.04), 0px 0px 6px 0px rgba(0, 0, 0, 0.02)"}},headerAndAvatar:{display:"flex",paddingLeft:16,paddingRight:16},avatarAndStatusDot:{display:"flex",alignItems:"flex-start",position:"relative"},statusDot:{position:"absolute",opacity:1,left:-7,top:10},statusDotWrapper:{marginRight:Z?3:2},privatePageBadge:{marginTop:1,marginBottom:4,marginLeft:8},divider:{borderBottom:`1px solid ${e.regularDividerColor}`}})),[c,G,Z,I,C,F,K,N]),z=(0,s.useCallback)((e=>{a&&!a.read&&(i||(0,U.ZP)({event:e,context:U.Af.NotificationClick,callback:()=>{v(),E.createAndCommit({userAction:"ActivitySectionRedesignedIA.handleMarkAsRead",environment:B,perform:e=>{L.$h({notification:a,rootStore:l,transaction:e,read:!0})}})}}))}),[B,i,a,v,l]),H=(0,s.useCallback)((()=>o(!0)),[]),j=(0,s.useCallback)((()=>o(!1)),[]),X=(0,x.C)(),Y=s.createElement(s.Fragment,null,n()("div",{style:q.headerAndAvatar},void 0,n()("div",{className:D.FoE,style:q.avatarAndStatusDot},void 0,n()("div",{style:{marginRight:4}},void 0,P&&n()("div",{style:q.statusDotWrapper},void 0,!V&&n()(me.z,{style:q.statusDot}))),u),n()(_e,{timestamp:M,header:O,prominentTitleLink:d,hasChildren:Boolean(c),navigableBlockId:A,rootStore:l,onBacklinkClick:p,showRecordPath:y,titleAriaId:X}),S&&A&&n()(Re,{timestamp:M,navigableBlockId:A,rootStore:l}),h&&!a&&n()(he.Z,{style:q.privatePageBadge})),c&&n()("div",{className:D.nU_},void 0,c));return n()("article",{onMouseOver:H,onMouseLeave:j,onClick:z,"aria-labelledby":X,tabIndex:0},void 0,n()(ke,{notification:a,rootStore:l,isMobile:Z,isHovered:t,isMentionsTab:P,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onArchiveClicked:g,onMarkAsReadClicked:b,onMarkAsUnreadClicked:f}),n()("div",{style:q.container},void 0,"cards"===I?n()(Me.Z,{href:T,disabled:i,style:{marginTop:-12,marginBottom:c?-12:-8,paddingTop:12,paddingBottom:c?12:8}},void 0,Y):Y),!m&&"cards"!==I&&n()("div",{style:q.divider}))}function ke(e){window.__c={n:"InboxActions"};const{notification:t,rootStore:o,isMobile:i,isHovered:r,isMentionsTab:a,onArchiveClicked:s,onMarkAsReadClicked:d,onMarkAsUnreadClicked:c,onMouseEnter:l,onMouseLeave:u}=e,h=(0,R.VK)((()=>"cards"===(0,Se.yG)()),[]),m=(0,w.yK)((()=>({container:{display:"flex",alignItems:"flex-start",position:"relative"},body:{transition:"opacity 100ms ease-out",opacity:i||r?1:0,position:"absolute",right:16+(h?12:0),top:12+(h?12:0),zIndex:1}})),[i,r,h]);return a&&t?t.visited?null:n()("div",{style:m.container,onMouseEnter:l,onMouseLeave:u},void 0,n()("div",{style:m.body},void 0,n()(ue,{notification:t,rootStore:o,onArchiveClicked:s,onMarkAsReadClicked:d,onMarkAsUnreadClicked:c}))):null}function _e(e){window.__c={n:"Header"};const{timestamp:t,prominentTitleLink:o,header:i,hasChildren:r,navigableBlockId:a,rootStore:s,showRecordPath:d,onBacklinkClick:c,titleAriaId:l}=e,u=(0,G.IS)(t,{useCompactFormat:!0}),h=(0,_.O7)().device.isMobile,m=(0,G.uy)(t),p=(0,w.yK)((e=>({container:{width:"100%"},header:{width:h?"calc(100% - 98px)":"calc(100% - 90px)",fontSize:14,lineHeight:1.4,minWidth:0,minHeight:h?28:void 0,display:"flex",alignItems:"baseline"},title:{fontSize:14,marginTop:4,marginBottom:r?8:4},time:{fontSize:12,color:e.lightTextColor,whiteSpace:"nowrap",display:"inline",paddingLeft:6},path:{marginTop:4,marginBottom:4},separatorDot:{fontSize:12,color:e.lightTextColor,marginLeft:4,marginRight:4}})),[r,h]);return n()("div",{style:p.container},void 0,n()("div",{style:p.header},void 0,n()("div",{className:D.NFf},void 0,n()("span",{id:l},void 0,i),n()("div",{style:p.time,className:D.CZG},void 0,n()(Y.Z,{text:u,tooltipText:m,icon:F.Z.calendar})))),d&&a&&s&&n()("div",{style:p.path},void 0,n()(z.Z,{isLink:!0,store:k.G.createChildStore(s,{table:g.iU,id:a}),onClick:c})),o&&n()("div",{style:p.title},void 0,o))}function Re(e){window.__c={n:"SnapshotButton"};const{timestamp:t,navigableBlockId:o,rootStore:i}=e,a=(0,_.O7)();if(t<new Date("2018-10-26").getTime())return null;const d=V.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"}),c=()=>{const e=k.G.createChildStore(i,{table:g.iU,id:o});N.jN({environment:a,blockStore:e,openSnapshotNearTimestamp:t.toString(),from:"activity"})};return n()(H.Z,{renderTooltip:()=>d,render:e=>s.createElement(q.Z,r()({ariaLabel:d,onClick:c,icon:F.Z.versionHistoryThick},e))})}const we=s.memo(Oe);var Ie=o(96486),Ce=o.n(Ie),Te=o(66897),Be=o(7057),Pe=o(24211),Ve=o(77420),xe=o(48298),Ze=o(50906),Ke=o(91376),Fe=o(64404),Le=o(90097),Ne=o(61519),Ee=o(62385);class De extends d.Z{constructor(){super(...arguments),this.storeTypes={role:Z.default.createClass(void 0)}}renderComponent(){const{accessRequestStore:e}=this.props;if(e.isDefined()){if(e.isResolvedSpaceMembershipRequest())return this.renderResolvedSpaceMembershipRequest();if(this.canResolveMembershipRequests())return n()("div",{style:{display:"flex",alignItems:"center"}},void 0,n()(Ee.Z,{onClick:()=>this.resolveMembershipRequest("approved"),style:this.getButtonStyle(!1)},void 0,n()(O.FormattedMessage,{defaultMessage:"Approve",id:"approveSpaceMembershipActivityAction.approveButton.label"})),n()(Ee.Z,{onClick:()=>this.resolveMembershipRequest("rejected"),style:{height:26,paddingLeft:8,paddingRight:8}},void 0,n()(O.FormattedMessage,{defaultMessage:"Decline",id:"approveSpaceMembershipActivityAction.declineButton.label"})),!this.environment.device.isMobile&&s.createElement(s.Fragment,null,n()(Ne.Z,{size:1,vertical:!0,style:{height:26,paddingLeft:8,paddingRight:8}}),n()(Ee.Z,{onClick:()=>{Ze.E50(this.environment,{disable_membership_requests:this.props.spaceStore.getDisableMembershipRequests()}),this.handleOpenSettingsMembersRequests()},style:{height:26,paddingLeft:8,paddingRight:8}},void 0,n()(O.FormattedMessage,{defaultMessage:"View all requests",id:"approveSpaceMembershipActivityAction.viewAllRequests.label"}))))}}renderResolvedSpaceMembershipRequest(){const{accessRequestStore:e,spaceStore:t}=this.props;if(!e.isDefined())return;const o=e.getResolvedByPointer(t.id),i=e.isResolvedSpaceMembershipRequest()&&o&&this.renderActor(o);return s.createElement(s.Fragment,null,n()(de.Z,{isSecondaryColor:!0},void 0,"approved"===e.getStatus()?n()(O.FormattedMessage,{defaultMessage:"Approved by {grantedBy}",id:"approveSpaceMembershipActivityAction.requestApproved.title",values:{grantedBy:i}}):n()(O.FormattedMessage,{defaultMessage:"Declined by {grantedBy}",id:"approveSpaceMembershipActivityAction.requestDeclined.title",values:{grantedBy:i}})),n()(de.Z,{isSmall:!0,isSecondaryColor:!0},void 0,(0,Be.Yx)(Math.min(e.getResolvedTime()??1/0,Date.now()),"medium_with_time",(0,Pe.E2)(this.props.intl))))}handleOpenSettingsMembersRequests(){Ke.r({currentTab:"members",subtab:Fe.Q.Requests})}canResolveMembershipRequests(){return this.props.spaceStore.canEditMembership()}renderActor(e){const{table:t,id:o}=e,i=Ce().compact([this.getActor(t,o)]);return(0,Le.XW)(i)}getActor(e,t){if(e===T.KJ){const o=this.rootStore.getRecordValue({table:e,id:t});if(o)return(0,Te.dp)(o)}if(e===Ve.cZ){const o=this.rootStore.getRecordValue({table:e,id:t});if(o)return(0,Te.D$)(o)}}get rootStore(){return this.props.accessRequestStore}async resolveMembershipRequest(e){if(!this.canResolveMembershipRequests())return;const t=this.environment,{spaceStore:o,accessRequestStore:i}=this.props;if(!i.isDefined())return;const r=this.getActor(T.KJ,i.getForActorId());r&&r.table===T.KJ&&await xe.kn({environment:t,store:o,accessRequestStore:i,forActor:r.__UNSAFE__getValue(),status:e,from:"notification"})}getButtonStyle(e){const t={height:26,paddingLeft:8,paddingRight:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10};return e?t:{...t,color:this.theme.regularTextColor,fontWeight:500}}}De.displayName="ApproveSpaceMembershipActivityAction";const Ue=(0,O.injectIntl)(De);var Ge=o(13991),We=o(27006),qe=o(54368),ze=o(76464),He=o(9953),je=o(21115),Xe=o(78291),Ye=o(7567);class $e extends d.Z{constructor(){super(...arguments),this.storeTypes={role:Z.default.createClass(void 0)},this.handleApproveMembershipRequest=async()=>{},this.handleGrantPageAccess=async()=>{const{targetBlockStore:e,accessRequestStore:t}=this.props,o=this.getInviteTargetWithNewPermissionItem();if(!("permissionItem"in o))return;const i=this.environment.currentUser.id;if(!i)return;if("type"in o){let t;if("existingUser"===o.type){t=(await ze.n_({environment:this.environment,store:e,inviteTargets:[o],inviteRole:o.permissionItem.role,isOnboarding:!1,invite:{inviteOrigin:"page_request_access"}})).success}else if("bot"===o.type){t=(await ze.n_({environment:this.environment,store:e,inviteTargets:[o],inviteRole:void 0,isOnboarding:!1,invite:{inviteOrigin:"page_request_access"}})).success}else(0,M.t1)(o);if(!t)return}E.createAndCommit({userAction:"GrantPageAccessActivityAction.handleGrantPageAccess",environment:this.environment,perform:r=>{"type"in o||ze.ep({environment:this.environment,transaction:r,store:e,permissionItems:[o.permissionItem]}),He.sW({store:t,transaction:r,data:{granted_time:Date.now(),granted_by_table:T.KJ,granted_by_id:i,resolved_time:Date.now(),resolved_by_table:T.KJ,resolved_by_id:i,status:"approved"}})}});const r=t.getValue(),a=r&&r.created_time&&r.granted_time?r.granted_time-r.created_time:void 0;Ze.nCD(this.environment,{requestId:r&&r.id,timeElapsedSinceRequest:a,newAccessLevel:o.permissionItem.role,...this.getGrantOrIgnoreAccessArgs()})},this.handleRoleChange=e=>{const t=this.props.accessRequestStore.id,o=this.stores.role.state;this.stores.role.setState(e),Ze.If_(this.environment,{requestId:t,previousAccessLevel:o,newAccessLevel:e,...this.getGrantOrIgnoreAccessArgs()})},this.handleArchive=()=>{const{notification:e}=this.props;e&&(E.createAndCommit({userAction:"GrantPageAccessActivityAction.handleArchive",environment:this.environment,perform:t=>{L.aZ({notification:e,rootStore:this.props.accessRequestStore,transaction:t})}}),Ze.cOL(this.environment,this.getGrantOrIgnoreAccessArgs()))}}renderComponent(){const e=this.props.accessRequestStore.getValue();if(!e)return;if((0,I.Kc)(e))return this.renderGrantedAccessRequest(e);if(!this.canGrantAccess())return;const t=e.parent_table===A.bx,o=this.getCurrentPermissionItem();if(o&&!t){const t=this.renderActor(e.for_actor_table,e.for_actor_id),i=o.role===this.getRole();return s.createElement(s.Fragment,null,n()(de.Z,{isSecondaryColor:!0,style:{marginBottom:6}},void 0,n()(O.FormattedMessage,{defaultMessage:"{requestingUser} already has access.",id:"grantPageAccessActivityAction.alreadyHasAccess.label",values:{requestingUser:t}})),n()(Ye.ZP,{upgradeButtonName:"user_permission_item",role:this.getRole(),table:g.iU,blockType:this.props.targetBlockStore.getType(),type:e.for_actor_table===T.KJ?"user_permission":"bot_permission",onChange:this.handleRoleChange,isInvite:!0,buttonStyle:this.getButtonStyle(!0)}),n()(Ee.Z,{onClick:this.handleGrantPageAccess,style:this.getButtonStyle(i)},void 0,n()(O.FormattedMessage,{defaultMessage:"Change",id:"grantPageAccessActivityAction.changePermissionButton.label"})),this.renderArchiveButton())}return s.createElement(s.Fragment,null,n()(Ye.ZP,{upgradeButtonName:"user_permission_item",role:this.getRole(),table:g.iU,blockType:this.props.targetBlockStore.getType(),type:e.for_actor_table===T.KJ?"user_permission":"bot_permission",onChange:this.handleRoleChange,isInvite:!0,buttonStyle:this.getButtonStyle(!1)}),n()(Ee.Z,{onClick:this.handleGrantPageAccess,style:this.getButtonStyle(!1)},void 0,n()(O.FormattedMessage,{defaultMessage:"Grant access",id:"grantPageAccessActivityAction.grantAccessButton.label"})),this.renderArchiveButton())}renderGrantedAccessRequest(e){const t=this.renderActor(e.granted_by_table,e.granted_by_id),o=(0,Be.$b)(Math.min(e.granted_time,Date.now()),Ge.SP,V.default.getIntl());return s.createElement(s.Fragment,null,n()(de.Z,{isSecondaryColor:!0},void 0,n()(O.FormattedMessage,{defaultMessage:"Approved by {grantedBy}",id:"grantPageAccessActivityAction.accessGranted.title",values:{grantedBy:t,time:o}})),n()(de.Z,{isSmall:!0,isSecondaryColor:!0},void 0,o))}renderArchiveButton(){const{notification:e}=this.props;if(e&&!e.visited)return n()(Ee.Z,{onClick:this.handleArchive,style:{height:26,paddingLeft:8,paddingRight:8}},void 0,n()(O.FormattedMessage,{defaultMessage:"Ignore",id:"grantPageAccessActivityAction.ignoreButton.label"}))}getRole(){const e=this.getCurrentPermissionItem(),t=e&&e.role;return this.stores.role.state||t||this.props.initialRole}getNewPermissionItem(){const e=this.props.accessRequestStore.getValue();if(e)return e.for_actor_table===T.KJ?{type:"user_permission",user_id:e.for_actor_id,role:this.getRole()}:e.for_actor_table===Ve.cZ?{type:"bot_permission",bot_id:e.for_actor_id,role:this.getRole()}:void(e.for_actor_table!==qe.y&&(0,M.t1)(e.for_actor_table))}getInviteTargetWithNewPermissionItem(){const e=this.getNewPermissionItem();if(!e)return{};if(this.getCurrentPermissionItem())return{permissionItem:e};const{data:t}=Xe.default.state;if("user_permission"===e.type){const o=this.rootStore.getRecordValue({table:T.KJ,id:e.user_id}),i=t?je.CM(t):[],r=i&&i.some((t=>t.userId===e.user_id));return o&&!r?{type:"existingUser",value:o,permissionItem:e}:{permissionItem:e}}if("bot_permission"===e.type){const o=this.rootStore.getRecordValue({table:Ve.cZ,id:e.bot_id}),i=(t?je.NM(t):[]).some((t=>t.botId===e.bot_id));return o&&!i?{type:"bot",value:o,permissionItem:e}:{permissionItem:e}}(0,M.t1)(e)}getCurrentPermissionItem(){const e=this.props.accessRequestStore.getValue();if(!e)return;const t=this.props.targetBlockStore.getPermissionItems();for(const o of t){if(e.for_actor_table===T.KJ&&(0,We.jg)(o)&&o.user_id===e.for_actor_id)return o;if(e.for_actor_table===Ve.cZ&&(0,We.FB)(o)&&o.bot_id===e.for_actor_id)return o}}canGrantAccess(){return this.props.targetBlockStore.canAdmin()}renderActor(e,t){const o=Ce().compact([this.getActor(e,t)]);return(0,Le.XW)(o)}getActor(e,t){if(e===T.KJ){const o=this.rootStore.getRecordValue({table:e,id:t});if(o)return(0,Te.dp)(o)}if(e===Ve.cZ){const o=this.rootStore.getRecordValue({table:e,id:t});if(o)return(0,Te.D$)(o)}}get rootStore(){return this.props.accessRequestStore}getButtonStyle(e){const t={height:26,paddingLeft:8,paddingRight:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10};return e?t:{...t,color:this.theme.regularTextColor,fontWeight:500}}getGrantOrIgnoreAccessArgs(){const{notification:e}=this.props;return{tab:J.Jn(),activityId:null==e?void 0:e.activity_id,notificationId:null==e?void 0:e.id}}}$e.displayName="GrantPageAccessActivityAction";const Je=$e;var Qe=o(18698);const et=function(e){window.__c={n:"ApproveTeamMembershipActivityButton"};const{accessRequestStore:t,teamStore:o}=e,i=(0,_.O7)(),r=(0,O.useIntl)(),{isRequestResolved:a,resolvedStatus:s,resolvedTime:d}=(0,R.VK)((()=>({isRequestResolved:t.isResolvedTeamMembershipRequest(),resolvedStatus:t.getStatus(),resolvedTime:t.getResolvedTime()})),[t]),c=(0,R.VK)((()=>{const e=t.getResolvedById();if(!e)return;const o=k.U6.createChildStore(t,{table:T.KJ,id:e});return o?o.getDisplayName(r):void 0}),[t,r]),l=async e=>{await Qe.ow({environment:i,teamStore:o,accessRequestStore:t,status:e})},u=(0,w.yK)((e=>({container:{display:"flex",alignItems:"center"},approveButton:{height:26,paddingLeft:8,paddingRight:8,fontSize:12,marginRight:10,fontWeight:500,boxShadow:e.plainButtonBoxShadow},declineButton:{height:26,paddingLeft:8,paddingRight:8}})),[]);return n()("div",{style:u.container},void 0,a?n()("div",{},void 0,n()(de.Z,{isSecondaryColor:!0},void 0,n()(O.FormattedMessage,"approved"===s?{defaultMessage:"Approved by {grantedBy}",id:"approveTeamMembershipActivityButton.requestApproved.title",values:{grantedBy:c}}:{defaultMessage:"Declined by {grantedBy}",id:"approveTeamMembershipActivityButton.requestDeclined.title",values:{grantedBy:c}})),n()(de.Z,{isSmall:!0,isSecondaryColor:!0},void 0,(0,Be.Yx)(Math.min(d??0,Date.now()),"medium_with_time",(0,Pe.E2)(r)))):n()("div",{},void 0,n()(Ee.Z,{style:u.approveButton,onClick:()=>l("approved")},void 0,n()(O.FormattedMessage,{defaultMessage:"Approve",id:"approveTeamMembershipActivityButton.approveButton.label"})),n()(Ee.Z,{style:u.declineButton,onClick:()=>l("rejected")},void 0,n()(O.FormattedMessage,{defaultMessage:"Decline",id:"approveTeamMembershipActivityButton.declineButton.label"}))))};var tt=o(17022),ot=o(22649);function it(e){var t;window.__c={n:"NotificationActions"};const{isMobile:o,environment:i,rootStore:r,activity:a,tabArgs:s}=e,{source:d}=s,c=Boolean(null===(t=s.notification)||void 0===t?void 0:t.visited),l=(0,w.yK)((e=>({container:{paddingLeft:(0,ot.c3)({source:d,isMobile:o})-8,paddingTop:4}})),[o,d]);return c?n()("div",{style:l.container},void 0,n()(rt,{tabArgs:s,environment:i,rootStore:r,activity:a})):null}function rt(e){window.__c={n:"UnarchiveButton"};const{tabArgs:t,environment:o,rootStore:i,activity:r}=e,{notification:a,tab:s}=t,d=(0,w.yK)((e=>({secondaryButton:(0,ot._W)(e)})),[]);return Boolean(null==a?void 0:a.visited)?n()(Ee.Z,{onClick:()=>{a&&(E.createAndCommit({userAction:"Activity.handleUnarchive",environment:o,perform:e=>{L.E1({notificationId:a.id,visited:!1,rootStore:i,transaction:e})}}),J.F5({environment:o,activity:r,tab:s,notificationId:a.id,alreadyRead:a.read}))},style:d.secondaryButton},void 0,n()(O.FormattedMessage,{defaultMessage:"Unarchive",id:"activity.actions.unarchiveButton.label"})):null}var at=o(57688),nt=o(62820),st=o(84076),dt=o(31278),ct=o(76798);function lt(e){window.__c={n:"Title"};const{titledRecordStore:t,getRecordModel:o,activity:i,tabArgs:r}=e,a=(0,R.VK)((()=>t.getModel()),[t]),d=(0,_.O7)(),c=(0,R.VK)((()=>null==a?void 0:a.getRenderIcon({getRecordModel:o})),[a,o]),u=(0,w.yK)((()=>({container:ot.lS,icon:ot.e9,recordTitle:(0,ot.TL)(void 0!==c)})),[c]),h=(0,s.useCallback)((()=>{const e=t.table;switch(e){case g.iU:case v.v:case A.bx:(0,tt.V3)({environment:d,activity:i,...r});break;case C.e0:(0,tt.dG)({environment:d,activity:i,...r}),at.hI({environment:d,teamStore:t,shouldScroll:!0}),nt.Z.setState({...nt.Z.state,open:!1});break;default:(0,M.t1)(e)}}),[i,d,r,t]),m=(0,R.VK)((()=>{if(a&&a.table!==C.e0)return a.getRenderUrl({getRecordModel:o,pageVisitSource:l.tY.Notification})}),[a,o]);return a?n()(st.Z,{href:m,onClick:h,external:!1,innerStyle:u.container,inline:!0},void 0,c&&s.createElement(s.Fragment,null,n()(dt.Z,{disabled:!0,icon:c,isEmptyPage:!1,size:18,style:u.icon}),n()("span",{},void 0," ")),n()(ct.Z,{store:t,style:u.recordTitle})):null}const ut=s.memo(lt);function ht(e){let{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e;window.__c={n:"AccessRequestedActivity"};const{notification:c,tab:l,source:u}=i,h=(0,s.useMemo)((()=>t.edits??[]),[t]),m=h[0],p=(0,_.O7)(),g=p.device.isMobile,v=(0,w.yK)((()=>({message:{paddingLeft:(0,ot.c3)({source:u,isMobile:g}),paddingRight:16,marginTop:8,marginBottom:8},messageLabel:{whiteSpace:"pre-wrap"}})),[u,g]),b=k.oK.createChildStore(o,{table:I.J8,id:t.access_request_id}),f=(0,R.VK)((()=>b.getModel()),[b]),y=(0,R.VK)((()=>(null==f?void 0:f.getParentTable())===A.bx&&!(0,P.p1)()),[f]),S=f&&n()(mt,{activity:t,accessRequest:f,rootStore:o,tabArgs:i}),M=m.message,C=(0,R.VK)((()=>(0,Le.P6)({edits:h,rootStore:o})),[h,o]),T=(0,R.VK)((()=>(0,Le.XW)(C)),[C]);return y||!S?null:d?s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,S),isLast:a,isPrivate:!1,rootStore:o,showRecordPath:!1,notification:c,icon:n()(be,{authors:C}),showSnapshotButton:!1},(0,tt.h9)({notification:c,activity:t,environment:p,tab:l})),M&&n()("div",{style:v.message},void 0,n()(de.Z,{isSmall:!0},void 0,n()(O.FormattedMessage,{id:"activity.accessRequested.messageLabel",defaultMessage:"Message from {author}",values:{author:T}})),n()(de.Z,{isMultiline:!0,style:v.messageLabel},void 0,M)),n()(bt,{activity:t,accessRequestStore:b,rootStore:o,source:u,notification:c}),n()(it,{tabArgs:i,activity:t,isMobile:p.device.isMobile,environment:p,rootStore:o})):s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,S),isLast:a,isPrivate:!1,rootStore:o,notification:c,icon:n()(be,{authors:C}),showSnapshotButton:!1},(0,tt.h9)({notification:c,activity:t,environment:p,tab:l})),M&&n()("div",{style:v.message},void 0,n()(de.Z,{isSmall:!0},void 0,n()(O.FormattedMessage,{id:"activity.accessRequested.messageLabel",defaultMessage:"Message from {author}",values:{author:T}})),n()(de.Z,{isMultiline:!0,style:v.messageLabel},void 0,M)),n()(bt,{activity:t,accessRequestStore:b,rootStore:o,source:u,notification:c}),n()(it,{tabArgs:i,activity:t,isMobile:p.device.isMobile,environment:p,rootStore:o}))}function mt(e){window.__c={n:"AccessRequestHeader"};const{activity:t,accessRequest:o,rootStore:i,tabArgs:r}=e,a=(0,R.VK)((()=>o.getParentTable()),[o]);switch(a){case A.bx:return n()(gt,{activity:t,accessRequest:o,rootStore:i});case C.e0:return n()(vt,{activity:t,rootStore:i,tabArgs:r});case g.iU:return n()(pt,{activity:t,tabArgs:r,rootStore:i});default:(0,M.t1)(a)}}function pt(e){window.__c={n:"BlockAccessRequestHeader"};const{activity:t,rootStore:o,tabArgs:i}=e,r=(0,s.useMemo)((()=>t.edits??[]),[t]),a=(0,R.VK)((()=>(0,Le.P6)({edits:r,rootStore:o})),[r,o]),d=(0,R.VK)((()=>(0,Le.XW)(a)),[a]);if(!t.navigable_block_id)return null;const c=k.G.createChildStore(o,{table:g.iU,id:t.navigable_block_id});return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested access to {pageName}} other {{authorOrAuthors} requested access to {pageName}}}",values:{numberOfAuthors:a.length,authorOrAuthors:d,pageName:n()(ut,{titledRecordStore:c,activity:t,tabArgs:i,getRecordModel:o.getRecordModel})},id:"activity.accessRequested.header"})}function gt(e){window.__c={n:"MembershipRequestHeader"};const{activity:t,accessRequest:o,rootStore:i}=e,r=(0,s.useMemo)((()=>t.edits??[]),[t]),a=(0,w.yK)((()=>({inviteePhrase:{fontWeight:B.Z.fontWeight.semibold}})),[]),d=(0,R.VK)((()=>o.getForActorPointer(i.id)),[o,i.id]),c=d.table===T.KJ?k.U6.createChildStore(i,d):void 0,l=(0,R.VK)((()=>null==c?void 0:c.getModel()),[c]),u=(0,R.VK)((()=>null==l?void 0:l.getEmail()),[l]),h=(0,R.VK)((()=>o.getForActorId()===o.getCreatedById()),[o]),m=(0,R.VK)((()=>(0,Le.P6)({edits:r,rootStore:i})),[r,i]),p=(0,R.VK)((()=>(0,Le.XW)(m)),[m]),g=(0,R.VK)((()=>{if(!h)return u;const e=null==l?void 0:l.getFullName(V.default.getIntl());return e?`${e} (${u})`:u}),[h,l,u]);return l&&d.table===T.KJ?n()(O.FormattedMessage,h?{defaultMessage:"{invitee} requested to become a workspace member",values:{invitee:n()("span",{style:a.inviteePhrase},void 0,g)},id:"activity.accessRequestedMembershipFromGuest.header"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested {invitee} to become a workspace member} other {{authorOrAuthors} requested {invitee} to become a workspace member}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,invitee:n()("span",{style:a.inviteePhrase},void 0,g)},id:"activity.accessRequestedMembership.header"}):null}function vt(e){window.__c={n:"TeamMembershipRequestHeader"};const{activity:t,rootStore:o,tabArgs:i}=e,r=(0,s.useMemo)((()=>t.edits??[]),[t]),a=(0,R.VK)((()=>(0,Le.P6)({edits:r,rootStore:o})),[r,o]),d=(0,R.VK)((()=>(0,Le.XW)(a)),[a]);if(!r||!t.team_id)return null;const c=k.zX.createChildStore(o,{table:C.e0,id:t.team_id});return n()(O.FormattedMessage,{defaultMessage:"{user} requested to become a member of {teamName}",values:{user:n()("span",{style:{fontWeight:B.Z.fontWeight.semibold}},void 0,d),teamName:n()(ut,{titledRecordStore:c,getRecordModel:o.getRecordModel,activity:t,tabArgs:i})},id:"activity.teamAccessRequest.header"})}function bt(e){window.__c={n:"AccessRequestedActions"};const{activity:t,accessRequestStore:o,rootStore:i,source:r,notification:a}=e,d=(0,s.useMemo)((()=>t.edits||[]),[t])[0],c=(0,R.VK)((()=>o.getParentTable()),[o]),l=(0,R.VK)((()=>o.getParentId()),[o]),u=(0,_.O7)().device.isMobile,h=(0,w.yK)((e=>({actionPrimaryContainer:{paddingLeft:(0,ot.c3)({source:r,isMobile:u}),paddingTop:12,paddingBottom:8},actionButton:(0,ot.b9)(e)})),[r,u]),m=l?k.G.createChildStore(i,{table:g.iU,id:l}):void 0,p=(0,R.VK)((()=>c===g.iU&&Boolean(null==m?void 0:m.canAdmin())),[c,m]);if(!c||!l||!d)return null;switch(c){case g.iU:return p&&m?n()("div",{style:h.actionPrimaryContainer},void 0,n()(Je,{accessRequestStore:o,targetBlockStore:m,initialRole:"reader",buttonStyle:h.actionButton,notification:a})):null;case A.bx:const e=k.H2.createChildStore(i,{table:c,id:l});return n()("div",{style:h.actionPrimaryContainer},void 0,n()(Ue,{accessRequestStore:o,spaceStore:e,initialRole:"reader",buttonStyle:h.actionButton,notification:a}));case C.e0:const t=k.zX.createChildStore(i,{table:c,id:l});return n()("div",{style:h.actionPrimaryContainer},void 0,n()(et,{accessRequestStore:o,teamStore:t}));default:(0,M.t1)(c)}}const ft=s.memo(ht);var yt=o(65991),At=o(13658);function St(e){window.__c={n:"BlockPropertyEditedActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{tab:c,notification:l,source:u}=i,h=(0,S.hI)(t.edits??[]),m=h.length>0,p=k.G.createChildStore(o,{table:g.iU,id:h[0].navigable_block_id}),v=(0,R.VK)((()=>(0,Le.P6)({edits:h,rootStore:o})),[h,o]),b=(0,R.VK)((()=>(0,Le.XW)(v)),[v]),f=(0,_.O7)(),y=(0,R.VK)((()=>(0,Le.jC)({recordId:p.id,recordType:"block",tab:c,rootStore:o,environment:f})),[p,c,o,f]);if(!(0,R.VK)((()=>p.isDefined()),[p])||!m)return null;const A=n()(ut,{titledRecordStore:p,getRecordModel:o.getRecordModel,activity:t,tabArgs:i}),M="pageUpdatesSidebar"===c;return d?s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated {pageTitle}} other {{authorOrAuthors} updated {pageTitle}}}",id:"activity.blockEdited.standardizedHeader",values:{numberOfAuthors:v.length,authorOrAuthors:b,pageTitle:A}})),isLast:a,isPrivate:y,rootStore:o,navigableBlockId:p.id,notification:l,icon:n()(be,{authors:v}),showSnapshotButton:M,showRecordPath:!0},(0,tt.h9)({notification:l,activity:t,environment:f,tab:c})),n()(At.Z,{visible:5,items:h.map(((e,r)=>n()(Mt,{edit:e,rootStore:o,onClick:()=>(0,tt.dG)({environment:f,activity:t,...i}),source:u,isMobile:f.device.isMobile},r)))}),n()(it,{tabArgs:i,activity:t,isMobile:f.device.isMobile,environment:f,rootStore:o})):s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {pageTitle}} other {{authorOrAuthors} edited {pageTitle}}}",id:"activity.blockEdited.header",values:{numberOfAuthors:v.length,authorOrAuthors:b,pageTitle:A}})),isLast:a,isPrivate:y,rootStore:o,navigableBlockId:p.id,notification:l,icon:n()(be,{authors:v}),showSnapshotButton:M},(0,tt.h9)({notification:l,activity:t,environment:f,tab:c})),n()(At.Z,{visible:5,items:h.map(((e,r)=>n()(Mt,{edit:e,rootStore:o,onClick:()=>(0,tt.dG)({environment:f,activity:t,...i}),source:u,isMobile:f.device.isMobile},r)))}),n()(it,{tabArgs:i,activity:t,isMobile:f.device.isMobile,environment:f,rootStore:o}))}function Mt(e){window.__c={n:"BlockPropertyEditComponent"};const{rootStore:t,edit:o,onClick:i,source:r,isMobile:a}=e,s=(0,R.VK)((()=>function(e,t){const o=t.getRecordModel({table:g.iU,id:e.block_id}),i=(null==o?void 0:o.getType())===u.Ti.tableRow?t.getRecordModel({table:g.iU,id:o.getParentId()}):o;return null==i?void 0:i.getRenderUrl({getRecordModel:t.getRecordModel,pageVisitSource:l.tY.Notification})}(o,t)||p._j.root),[o,t]);return n()(st.Z,{href:s,onClick:i,innerStyle:(0,ot.OD)({source:r,isMobile:a})},void 0,n()(yt.Z,{edit:o,rootStore:t}))}var Ot=o(23482),kt=o(98459),_t=o(70203),Rt=o(4083),wt=o(14976),It=o(17731),Ct=o(98165);function Tt(){window.__c={n:"BlockHighlighterBar"};const e=(0,w.yK)((()=>({blockContext:{flexShrink:0,display:"flex",width:3,borderRadius:3,marginLeft:2,marginRight:8,minHeight:24,background:K.DB}})),[]);return n()("div",{style:e.blockContext})}function Bt(e){let{activity:t,tabArgs:o,rootStore:i,isLast:a,useRedesignedIA:d}=e;window.__c={n:"CommentActivity"};const c=t.edits??[],{source:u,tab:h,notification:m}=o;let p=c.filter((e=>{switch(e.type){case"comment-changed":return!1;case"comment-created":case"comment-deleted":return!0;default:(0,M.t1)(e)}}));0===p.length&&0!==c.length&&"updates_sidebar"!==u&&(p=c);const v=p.length>0,b=(0,_.O7)(),f=i.getRecordStore(i,{table:y.qF,id:t.discussion_id,spaceId:t.space_id}),A=(0,R.VK)((()=>f.isDefined()),[f]),S=(0,R.VK)((()=>{const e=f.getParentPointer();if(e)return k.G.createChildStore(i,e)}),[f,i]),I=(0,R.VK)((()=>Boolean(S&&S.isDefined())),[S]),C=(0,R.VK)((()=>{const e=null==S?void 0:S.getNavigableBlockStore();return(null==e?void 0:e.id)||t.navigable_block_id}),[t.navigable_block_id,S]),T=k.G.createChildStore(i,{table:g.iU,id:C}),B=(0,R.VK)((()=>T.isDefined()),[T]),P=(0,R.VK)((()=>Boolean(S&&(0,Ct.fl)((0,Ct.qA)(S)))),[S]),V=(0,R.VK)((()=>{if(!P||!S)return;const e=S.getModel();return e?e.getRenderUrl({getRecordModel:i.getRecordModel,discussionId:t.discussion_id,pageVisitSource:l.tY.Notification}):void 0}),[P,S,i,t.discussion_id]),x=(0,R.VK)((()=>(0,Le.P6)({edits:p,rootStore:i})),[p,i]),Z=(0,R.VK)((()=>(0,Le.XW)(x)),[x]),K=P,F=(0,w.yK)((()=>({flex:{display:"flex"}})),[]),L=(0,s.useCallback)((e=>{if((0,tt.dG)({...o,environment:b,activity:t,mightCloseTab:K}),!P&&S){var i;const r=e.target;Rt.oK({environment:b,discussionStore:f,rect:r.getBoundingClientRect(),blockStore:S,discussionLocation:Zt({forReplyMenu:!0,source:o.source}),activityId:t.id,notificationId:null===(i=o.notification)||void 0===i?void 0:i.id})}}),[t,P,S,f,b,o,K]),N=(0,s.useCallback)((()=>{(0,tt.BE)({...o,environment:b,activity:t,mightCloseTab:K})}),[o,b,t,K]),E=n()(ut,{titledRecordStore:T,getRecordModel:i.getRecordModel,activity:t,tabArgs:o}),D=(0,R.VK)((()=>(0,Le.jC)({recordId:C,recordType:g.iU,tab:h,rootStore:i,environment:b})),[C,h,i,b]),U=b.device.isMobile,G=(0,R.VK)((()=>Zt({source:u,forReplyMenu:!1})),[u]),W=(0,R.VK)((()=>(0,Le.cr)({activity:t,rootStore:i})),[t,i]),q=null==W?void 0:W.id,z=null==W?void 0:W.context,H=(0,R.VK)((()=>{const e=T.getAssociatedCollectionStore();return null==e?void 0:e.getDatabaseType()}),[T]);if(!(v&&B&&I&&A))return null;if(d){const e=!z,d=n()("div",{style:F.flex},void 0,e&&n()(Tt,{}),E),c=function(e){let{databaseType:t,authorCount:o,authorPhrase:i}=e;switch(t){case Ot.iS:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a task} other {{authorOrAuthors} commented on a task}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentTaskActivity.standardizedHeader"});case Ot.wW:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a project} other {{authorOrAuthors} commented on a project}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentProjectActivity.standardizedHeader"});case Ot.zU:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a document} other {{authorOrAuthors} commented on a document}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentDocActivity.standardizedHeader"});case Ot.GZ:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a wiki} other {{authorOrAuthors} commented on a wiki}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentWikiActivity.standardizedHeader"});case Ot.Fi:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a meeting note} other {{authorOrAuthors} commented on a meeting note}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentMeetingActivity.standardizedHeader"});case Ot.nG:case Ot.p$:case void 0:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a page} other {{authorOrAuthors} commented on a page}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentActivity.standardizedHeader"});default:(0,M.t1)(t)}}({authorCount:x.length,authorPhrase:Z,databaseType:H});return s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,c),isLast:a,isPrivate:D,rootStore:i,prominentTitleLink:d,navigableBlockId:C,notification:m,icon:n()(be,{authors:x}),showSnapshotButton:!1,showRecordPath:!0},(0,tt.h9)({notification:m,environment:b,tab:h,activity:t})),n()(Pt,{discussionId:q,discussionContext:z,alwaysHighlightWithBlockBar:!0,url:V,onClick:L,rootStore:i,source:u}),n()(At.Z,{visible:5,items:p.map(((e,t,o)=>n()(st.Z,{onClick:L,href:V,innerStyle:(0,ot.OD)({source:u,isMobile:U})},t,n()(yt.Z,{edit:e,rootStore:i,type:"comment-edit",discussionLocation:G,highlightCurrentUser:!0,onReactionClick:N,hideAuthorName:1===p.length}))))}),n()(Vt,{activity:t,rootStore:i,tabArgs:o}))}return s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented in {blockName}} other {{authorOrAuthors} commented in {blockName}}}",values:{numberOfAuthors:x.length,authorOrAuthors:Z,blockName:E},id:"activity.commentActivity.header"})),isLast:a,isPrivate:D,rootStore:i,navigableBlockId:t.navigable_block_id,notification:m,icon:n()(be,{authors:x}),showSnapshotButton:!1},(0,tt.h9)({notification:m,environment:b,tab:h,activity:t})),n()(Pt,{url:V,onClick:L,discussionId:q,discussionContext:z,alwaysHighlightWithBlockBar:!1,rootStore:i,source:u}),n()(At.Z,{visible:5,items:p.map(((e,t,o)=>n()(st.Z,{onClick:L,href:V,innerStyle:(0,ot.OD)({source:u,isMobile:U})},t,n()(yt.Z,{edit:e,rootStore:i,type:"comment-edit",discussionLocation:G,onReactionClick:N,hideAuthorName:!1}))))}),n()(Vt,{activity:t,rootStore:i,tabArgs:o}))}function Pt(e){window.__c={n:"CommentContext"};const{url:t,onClick:o,rootStore:i,source:r,discussionId:a,alwaysHighlightWithBlockBar:s,discussionContext:d}=e,c=0===(0,_t.ll)(d).length||s,l=(0,_.O7)(),u=l.device.isMobile,h=(0,w.Fg)(),m=(0,w.yK)((e=>({linkbox:{...(0,ot.OD)({source:r,isMobile:u}),display:"flex",alignItems:"center",fontSize:14,...c&&{color:e.mediumTextColor},paddingTop:2,paddingBottom:6,marginBottom:0}})),[u,r,c]),p=(0,R.VK)((()=>(0,wt.IY)({environment:l,textValue:d?{value:d,spaceId:i.id}:void 0,parentStore:i,disableHover:!0,disableStyleAnnotations:c,disableDateStyleAnnotations:!1,disabled:!0,highlightDiscussionId:a,theme:h,emojiType:(0,It.e_)(l),katex:l.KatexStore.getKatex(),formulaValueTypes:[]})),[i,l,d,a,h,c]);return d?n()(st.Z,{href:t,onClick:o,innerStyle:m.linkbox},void 0,c&&n()(Tt,{}),n()("div",{style:B.Z.textOverflowStyle},void 0,p)):null}function Vt(e){window.__c={n:"CommentActions"};const{activity:t,rootStore:o,tabArgs:i}=e,{source:r,notification:a,tab:d}=i,c=o.getRecordStore(o,{table:y.qF,id:t.discussion_id,spaceId:t.space_id}),l=(0,R.VK)((()=>c.isDefined()),[c]),u=(0,_.O7)(),h=u.device.isMobile,m=k.t1.createChildStore(o,{table:y.qF,id:t.discussion_id,spaceId:(0,kt.CG)(o.pointer.spaceId)}),p=(0,R.VK)((()=>c.getParentId()),[c]),v=(0,s.useCallback)((e=>{if(!p)return;const i=k.G.createChildStore(o,{table:g.iU,id:p}),n=e.target,s=null==a?void 0:a.id;Rt.oK({environment:u,discussionStore:m,rect:n.getBoundingClientRect(),blockStore:i,discussionLocation:Zt({forReplyMenu:!0,source:r}),activityId:t.id,notificationId:s}),"notifications_tab"===r&&J.gY({environment:u,notificationId:s,alreadyRead:Boolean(null==a?void 0:a.read),activity:t,tab:d})}),[t,m,u,a,p,o,r,d]),b=(0,w.yK)((e=>({container:{paddingLeft:(0,ot.c3)({source:r,isMobile:h}),paddingTop:12,paddingBottom:4},actionButton:(0,ot.b9)(e)})),[h,r]),f=Boolean(null==a?void 0:a.visited);return l?n()("div",{style:b.container},void 0,n()(Ee.Z,{onClick:v,style:b.actionButton},void 0,n()(O.FormattedMessage,{defaultMessage:"Reply",id:"activity.replyButton.label"})),f&&s.createElement(s.Fragment,null,n()(xt,{}),n()(rt,{tabArgs:i,environment:u,rootStore:o,activity:t}))):null}function xt(){return n()("div",{style:{width:5,display:"inline-block"}})}function Zt(e){const{forReplyMenu:t,source:o}=e;if("updates_sidebar"===o)return t?"reply_menu_updates_sidebar":"updates_sidebar";return`${t?"reply_menu_":"updates_menu_"}${J.Jn()}`}const Kt=s.memo(Bt);function Ft(e){let{activity:t,tabArgs:o,rootStore:i,isLast:a,groupingArgs:d}=e;window.__c={n:"CommentActivityWithGroupingIA"};const c=t.edits??[],{source:u,tab:h,notification:m}=o,{groupingVariant:p,isNotificationGroupExpanded:v}=d;let b=c.filter((e=>{switch(e.type){case"comment-changed":return!1;case"comment-created":case"comment-deleted":return!0;default:(0,M.t1)(e)}}));0===b.length&&0!==c.length&&"updates_sidebar"!==u&&(b=c);const f=b.length>0,A=(0,_.O7)(),S=i.getRecordStore(i,{table:y.qF,id:t.discussion_id,spaceId:t.space_id}),O=(0,R.VK)((()=>S.isDefined()),[S]),I=(0,R.VK)((()=>{const e=S.getParentPointer();if(e)return k.G.createChildStore(i,e)}),[S,i]),C=(0,R.VK)((()=>Boolean(I&&I.isDefined())),[I]),T=(0,R.VK)((()=>{const e=null==I?void 0:I.getNavigableBlockStore();return(null==e?void 0:e.id)||t.navigable_block_id}),[t.navigable_block_id,I]),P=k.G.createChildStore(i,{table:g.iU,id:T}),V=(0,R.VK)((()=>P.isDefined()),[P]),x=(0,R.VK)((()=>Boolean(I&&(0,Ct.fl)((0,Ct.qA)(I)))),[I]),Z=(0,R.VK)((()=>{if(!x||!I)return;const e=I.getModel();return e?e.getRenderUrl({getRecordModel:i.getRecordModel,discussionId:t.discussion_id,pageVisitSource:l.tY.Notification}):void 0}),[x,I,i,t.discussion_id]),K=(0,R.VK)((()=>(0,Le.P6)({edits:b,rootStore:i})),[b,i]),F=(0,R.VK)((()=>(0,Le.XW)(K)),[K]),L=x,N=(0,w.yK)((()=>({flex:{display:"flex"},header:{fontWeight:B.Z.fontWeight.semibold}})),[]),E=(0,s.useCallback)((e=>{if((0,tt.dG)({...o,environment:A,activity:t,mightCloseTab:L}),!x&&I){var i;const r=e.target;Rt.oK({environment:A,discussionStore:S,rect:r.getBoundingClientRect(),blockStore:I,discussionLocation:Zt({forReplyMenu:!0,source:o.source}),activityId:t.id,notificationId:null===(i=o.notification)||void 0===i?void 0:i.id})}}),[t,x,I,S,A,o,L]),D=(0,s.useCallback)((()=>{(0,tt.BE)({...o,environment:A,activity:t,mightCloseTab:L})}),[o,A,t,L]),U=(0,R.VK)((()=>(0,Le.jC)({recordId:T,recordType:g.iU,tab:h,rootStore:i,environment:A})),[T,h,i,A]),G=A.device.isMobile,W=(0,R.VK)((()=>Zt({source:u,forReplyMenu:!1})),[u]),q=(0,R.VK)((()=>(0,Le.cr)({activity:t,rootStore:i})),[t,i]),z=null==q?void 0:q.id,H=null==q?void 0:q.context,j=(0,R.VK)((()=>{const e=P.getAssociatedCollectionStore();return null==e?void 0:e.getDatabaseType()}),[P]);if(!(f&&V&&C&&O))return null;const X=n()(Nt,{authorCount:K.length,authorPhrase:F,databaseType:j,commentCount:b.length}),Y=s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()("span",{style:N.header},void 0,X),isLast:a,isPrivate:U,rootStore:i,prominentTitleLink:void 0,navigableBlockId:T,notification:m,icon:n()(be,{authors:K}),showSnapshotButton:!1,showRecordPath:!1,groupingArgs:{...d,destinationUrl:Z}},(0,tt.h9)({notification:m,environment:A,tab:h,activity:t})),n()(Lt,{discussionId:z,discussionContext:H,alwaysHighlightWithBlockBar:!0,url:Z,onClick:E,rootStore:i,source:u}),n()(At.Z,{visible:5,items:b.map(((e,t)=>n()("div",{style:(0,ot.OD)({source:u,isMobile:G})},t,n()(yt.Z,{edit:e,rootStore:i,type:"comment-edit",discussionLocation:W,highlightCurrentUser:!0,onReactionClick:D,hideAuthorName:1===b.length}))))}));return"cards"===p?Y:n()(Me.Z,{href:Z,disabled:!v},void 0,Y)}function Lt(e){window.__c={n:"CommentContextForGrouping"};const{rootStore:t,source:o,discussionId:i,alwaysHighlightWithBlockBar:r,discussionContext:a}=e,s=0===(0,_t.ll)(a).length||r,d=(0,_.O7)(),c=d.device.isMobile,l=(0,w.Fg)(),u=(0,w.yK)((e=>({linkbox:{...(0,ot.OD)({source:o,isMobile:c}),display:"flex",alignItems:"center",fontSize:14,...s&&{color:e.mediumTextColor},paddingTop:2,paddingBottom:6,marginBottom:0},highlight:{backgroundColor:e.accentColors.yellow[50],paddingLeft:4,paddingRight:4,borderRadius:2,...B.Z.textOverflowStyle}})),[c,o,s]),h=(0,R.VK)((()=>(0,wt.IY)({environment:d,textValue:a?{value:a,spaceId:t.id}:void 0,parentStore:t,disableHover:!0,disableStyleAnnotations:s,disableDateStyleAnnotations:!1,disabled:!0,highlightDiscussionId:i,theme:l,emojiType:(0,It.e_)(d),katex:d.KatexStore.getKatex(),formulaValueTypes:[]})),[t,d,a,i,l,s]);return a?n()("div",{style:u.linkbox},void 0,n()("span",{style:u.highlight},void 0,h)):null}function Nt(e){let{databaseType:t,authorCount:o,authorPhrase:i,commentCount:r}=e;switch(t){case Ot.iS:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a task} other {{authorOrAuthors} commented on a task}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentTaskActivity.standardizedHeader"});case Ot.wW:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a project} other {{authorOrAuthors} commented on a project}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentProjectActivity.standardizedHeader"});case Ot.zU:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a document} other {{authorOrAuthors} commented on a document}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentDocActivity.standardizedHeader"});case Ot.GZ:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a wiki} other {{authorOrAuthors} commented on a wiki}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentWikiActivity.standardizedHeader"});case Ot.Fi:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a meeting note} other {{authorOrAuthors} commented on a meeting note}}",values:{numberOfAuthors:o,authorOrAuthors:i},id:"activity.commentMeetingActivity.standardizedHeader"});case Ot.nG:case Ot.p$:case void 0:return n()(O.FormattedMessage,{defaultMessage:"{authorOrAuthors} left {commentCount, plural, one {a comment} other {comments}}",values:{numberOfAuthors:o,authorOrAuthors:i,commentCount:r},id:"activity.commentActivity.standardizedGroupedHeader"});default:(0,M.t1)(t)}}const Et=s.memo(Ft);const Dt=function(e){window.__c={n:"EmailEditedActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{tab:c,notification:l}=i,u=(0,_.O7)(),h=(0,S.hI)(t.edits??[]),m=(0,R.VK)((()=>(0,Le.P6)({edits:h,rootStore:o})),[h,o]),p=(0,R.VK)((()=>(0,Le.XW)(m)),[m]),{oldEmail:g,newEmail:v}=(0,R.VK)((()=>{const e=h[0];return{oldEmail:e?e.old_email:"",newEmail:e?e.new_email:""}}),[h]),b="pageUpdatesSidebar"===c;return d?s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} changed email from {oldEmail} to {newEmail}} other {{authorOrAuthors} changed email from {oldEmail} to {newEmail}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,oldEmail:g,newEmail:v},id:"activity.emailEdited.header"})),isLast:a,isPrivate:!1,rootStore:o,showRecordPath:!1,notification:l,icon:n()(be,{authors:m}),showSnapshotButton:b},(0,tt.h9)({notification:l,activity:t,environment:u,tab:c}))):s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} changed email from {oldEmail} to {newEmail}} other {{authorOrAuthors} changed email from {oldEmail} to {newEmail}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,oldEmail:g,newEmail:v},id:"activity.emailEdited.header"})),isLast:a,isPrivate:!1,rootStore:o,notification:l,icon:n()(be,{authors:m}),showSnapshotButton:b},(0,tt.h9)({notification:l,activity:t,environment:u,tab:c})))};var Ut=o(54584);function Gt(e){window.__c={n:"GroupMentionedActivity"};const{activity:t,rootStore:o,isLast:i,tabArgs:a,useRedesignedIA:d}=e,{tab:c,notification:u,source:h}=a,m=(0,_.O7)(),p=t.edits??[],v=p.length>0,b=p[0],f=k.G.createChildStore(o,{table:g.iU,id:b.navigable_block_id}),y=(0,R.VK)((()=>f.isDefined()),[f]),A=k.G.createChildStore(o,{table:g.iU,id:t.mentioned_block_id}),S=(0,R.VK)((()=>A.isDefined()),[A]),M=(0,R.VK)((()=>{const e=A.getModel();return null==e?void 0:e.getRenderUrl({getRecordModel:o.getRecordModel,pageVisitSource:l.tY.Notification})}),[A,o]),w=(0,R.VK)((()=>o.getModel()),[o]),I=(0,R.VK)((()=>(0,Ut.QH)(V.default.getIntl(),w,t.mentioned_group_id)),[w,t]),C=(0,R.VK)((()=>(0,Le.P6)({edits:t.edits||[],rootStore:o})),[t,o]),T=(0,R.VK)((()=>(0,Le.XW)(C)),[C]),B=m.device.isMobile,P=(0,R.VK)((()=>(0,Le.jC)({recordId:f.id,recordType:g.iU,tab:c,rootStore:o,environment:m})),[f,c,o,m]);if(!(v&&y&&S&&M))return null;const x=n()(ut,{titledRecordStore:f,activity:t,tabArgs:a,getRecordModel:o.getRecordModel});return d?s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{authorOrAuthors} mentioned {groupName} in a page",values:{authorOrAuthors:T,groupName:I},id:"activity.groupMentionActivity.standardizedHeader"})),isLast:i,isPrivate:P,rootStore:o,prominentTitleLink:x,navigableBlockId:f.id,showRecordPath:!0,notification:u,icon:n()(be,{authors:C}),showSnapshotButton:!1},(0,tt.h9)({notification:u,activity:t,environment:m,tab:c})),n()(st.Z,{href:M,onClick:()=>(0,tt.dG)({environment:m,activity:t,...a}),innerStyle:(0,ot.OD)({source:h,isMobile:B})},void 0,n()(yt.Z,{edit:b,rootStore:o,highlightCurrentUser:!0})),n()(it,{tabArgs:a,activity:t,isMobile:B,environment:m,rootStore:o})):s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{authorOrAuthors} mentioned {groupName} in {pageName}",values:{authorOrAuthors:T,pageName:x,groupName:I},id:"activity.groupMentionActivity.header"})),isLast:i,isPrivate:P,rootStore:o,navigableBlockId:f.id,notification:u,icon:n()(be,{authors:C}),showSnapshotButton:!1},(0,tt.h9)({notification:u,activity:t,environment:m,tab:c})),n()(st.Z,{href:M,onClick:()=>(0,tt.dG)({environment:m,activity:t,...a}),innerStyle:(0,ot.OD)({source:h,isMobile:B})},void 0,n()(yt.Z,{edit:b,rootStore:o})),n()(it,{tabArgs:a,activity:t,isMobile:B,environment:m,rootStore:o}))}function Wt(e){let t,o,{permissionGroup:i,spaceId:r}=e;window.__c={n:"PermissionGroupTitle"},i?(t=i.icon,o=i.name||n()(O.FormattedMessage,{defaultMessage:"Untitled group",id:"activity.permissionGroupTitles.untitledGroup"})):o=n()(O.FormattedMessage,{defaultMessage:"Deleted group",id:"activity.permissionGroupTitles.deletedGroup"});const a=void 0!==t,d=(0,w.yK)((()=>({title:(0,ot.TL)(a)})),[a]),c=(0,s.useMemo)((()=>(0,M.$K)(t)?{icon:t,pointer:{table:"space",id:r}}:void 0),[t,r]);return n()("span",{},void 0,c&&n()(dt.Z,{disabled:!0,icon:c,isEmptyPage:!1,size:18,style:ot.e9}),n()("span",{style:d.title},void 0,o))}const qt=s.memo(Wt);const zt=function(e){window.__c={n:"PrivateContentTransferredActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{tab:c,notification:l}=i,u=(0,_.O7)(),h=(0,s.useMemo)((()=>t.edits??[]),[t]),m=(0,R.VK)((()=>(0,Le.P6)({edits:h,rootStore:o})),[h,o]),p=(0,R.VK)((()=>(0,Le.XW)(m)),[m]),v=k.G.createChildStore(o,{table:g.iU,id:t.navigable_block_id}),b=(0,R.VK)((()=>v.isDefined()),[v]),f=(0,R.VK)((()=>(0,Le.jC)({recordId:v.id,recordType:g.iU,tab:c,rootStore:o,environment:u})),[v,c,o,u]),y=h[0],A=(0,R.VK)((()=>(0,Le.N8)(y.from_user_id,o)),[y,o]),S=(0,R.VK)((()=>(0,Le.N8)(y.to_user_id,o)),[y,o]);if(!(h.length>0&&A&&S&&b))return null;const M=(0,Te.$4)(V.default.getIntl(),(0,Te.LU)({table:T.KJ,value:A})),w=n()(ut,{titledRecordStore:v,activity:t,tabArgs:i,getRecordModel:o.getRecordModel});return d?s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()(O.FormattedMessage,{defaultMessage:"{authorPhrase} transferred private content from {fromUserName} to you",values:{authorPhrase:p,fromUserName:M},id:"activity.privateContentTransferred.standardizedHeader"}),isLast:a,prominentTitleLink:w,isPrivate:f,rootStore:o,notification:i.notification,icon:n()(be,{authors:m}),showSnapshotButton:!1,showRecordPath:!1},(0,tt.h9)({notification:l,activity:t,environment:u,tab:c}))):s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()(O.FormattedMessage,{defaultMessage:"{authorPhrase} transferred private content from {fromUserName} to you: {pageName}",values:{authorPhrase:p,fromUserName:M,pageName:w},id:"activity.privateContentTransferred.header"}),isLast:a,isPrivate:f,rootStore:o,notification:i.notification,icon:n()(be,{authors:m}),showSnapshotButton:!1},(0,tt.h9)({notification:l,activity:t,environment:u,tab:c})))};function Ht(e){window.__c={n:"ReminderActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{notification:c,tab:u,source:h}=i,m=(0,_.O7)(),p=t.edits??[],v=p.length>0,b=k.G.createChildStore(o,{table:g.iU,id:p[0].navigable_block_id}),f=(0,R.VK)((()=>b.isDefined()),[b]),y=k.G.createChildStore(o,{table:g.iU,id:t.reminder_block_id}),A=(0,R.VK)((()=>y.isDefined()),[y]),S=(0,R.VK)((()=>{const e=y.getModel();if(e)return e.getRenderUrl({getRecordModel:o.getRecordModel,pageVisitSource:l.tY.Notification})}),[y,o]),M=(0,R.VK)((()=>(0,Le.jC)({recordId:b.id,recordType:g.iU,tab:u,rootStore:o,environment:m})),[b,u,o,m]);if(!(v&&f&&A&&S))return null;const w=m.device.isMobile,I=n()(ut,{titledRecordStore:b,getRecordModel:o.getRecordModel,activity:t,tabArgs:i});return d?s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"Reminder in {pageTitle}",id:"activity.reminderInActivity.header",values:{pageTitle:I}})),isLast:a,isPrivate:M,rootStore:o,navigableBlockId:b.id,showRecordPath:!0,notification:c,icon:n()(fe,{}),showSnapshotButton:!1},(0,tt.h9)({notification:c,activity:t,environment:m,tab:u})),n()(st.Z,{href:S,onClick:()=>(0,tt.dG)({environment:m,activity:t,...i}),innerStyle:(0,ot.OD)({source:h,isMobile:w})},void 0,n()(yt.Z,{edit:p[0],rootStore:o}))):s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"Reminder in {pageTitle}",id:"activity.reminderInActivity.header",values:{pageTitle:I}})),isLast:a,isPrivate:M,rootStore:o,navigableBlockId:b.id,notification:c,icon:n()(fe,{}),showSnapshotButton:!1},(0,tt.h9)({notification:c,activity:t,environment:m,tab:u})),n()(st.Z,{href:S,onClick:()=>(0,tt.dG)({environment:m,activity:t,...i}),innerStyle:(0,ot.OD)({source:h,isMobile:w})},void 0,n()(yt.Z,{edit:p[0],rootStore:o})))}var jt=o(45094),Xt=o(23537);function Yt(e){window.__c={n:"TitleCard"};const{titledRecordStore:t,rootStore:o,activity:i,tabArgs:r}=e,a=o.getRecordModel,d=(0,R.VK)((()=>t.getModel()),[t]),c=(0,_.O7)(),u=(0,R.VK)((()=>null==d?void 0:d.getRenderIcon({getRecordModel:a})),[d,a]),h=(0,w.yK)((e=>({container:{...ot.lS,display:"block",border:`1px solid ${e.outlineButtonBorder}`,borderRadius:3,marginTop:8,padding:10},icon:{...ot.e9,marginRight:8},activityTitle:{display:"inline",whiteSpace:"normal",marginRight:void 0!==u?3:0,wordBreak:"break-word",...ot.nP},flexRow:{display:"flex",alignItems:"center"},title:{maxWidth:"80%"},spacer:{flexGrow:1},subtitle:{fontSize:12,color:e.lightTextColor},avatarContainer:{display:"flex",flexDirection:"row",justifyContent:"start",overflow:"hidden",paddingRight:2,alignItems:"center"},overlappingAvatar:{marginRight:-5,position:"relative"},rightmostAvatar:{position:"relative"},remainderCount:{paddingLeft:2,color:e.lightTextColor}})),[u]),m=(0,R.VK)((()=>{if(d&&d.table!==C.e0)return d.getRenderUrl({getRecordModel:a,pageVisitSource:l.tY.Notification})}),[d,a]),p=(0,s.useCallback)((()=>{const e=t.table;switch(e){case g.iU:case A.bx:(0,tt.V3)({environment:c,activity:i,...r});break;case C.e0:(0,tt.dG)({environment:c,activity:i,...r}),at.hI({environment:c,teamStore:t,shouldScroll:!0}),nt.Z.setState({...nt.Z.state,open:!1});break;default:(0,M.t1)(e)}}),[i,c,r,t]),v=(0,R.VK)((()=>{const e=t.table;switch(e){case"space":const o=t.getPublicSpaceData();return o&&"none"!==o.role?n()("div",{},void 0,n()(O.FormattedMessage,{id:"activity.titleCard.spaceSubtitle",defaultMessage:"{numberOfWorkspaceMembers, plural, one {{numberOfWorkspaceMembers} member} other {{numberOfWorkspaceMembers} members}} · {planType}",values:{numberOfWorkspaceMembers:V.default.formatNumber(o.memberCount),planType:V.default.formatMessage((0,jt.em)(o.subscriptionTier))}})):null;case"block":return n()(z.Z,{store:t});case"team":const i=t.getUserIdsInTeam().length,r=t.getTeamAccessLevel();return n()("div",{},void 0,n()(O.FormattedMessage,{id:"activity.titleCard.teamSubtitle",defaultMessage:"{accessLevel} · {numberOfTeamMembers, plural, one {{numberOfTeamMembers} member} other {{numberOfTeamMembers} members}}",values:{accessLevel:r,numberOfTeamMembers:i}}));default:(0,M.t1)(e)}}),[t]),b=(0,R.VK)((()=>{const e=t.table;let i=[];switch(e){case"space":const r=t.getModel();if(!r)break;i=r.getUserPermissionItems().map((e=>e.user_id));break;case"block":const a=t.getCreatedByPointer();(null==a?void 0:a.table)===T.KJ&&(i=[a.id]);break;case"team":i=(0,Xt.xf)({teamStore:t,spaceStore:o});break;default:(0,M.t1)(e)}const r=Math.max(0,i.length-3),a=Math.min(i.length,3);return n()("div",{style:h.avatarContainer},void 0,i.slice(0,3).map(((e,o)=>{const i=k.U6.createChildStore(t,{table:T.KJ,id:e}),r=o===a-1;if(i)return n()(X.Z,{userStore:i,size:24,avatarShouldShowShadow:!1,style:r?h.rightmostAvatar:h.overlappingAvatar,isOffline:!1,hasTooltip:!c.device.isMobile})})),r>0&&n()("div",{style:h.remainderCount},void 0,n()(O.FormattedMessage,{defaultMessage:"{remainingAvatarCount, plural, one {+{remainingAvatarCount}} other {+{remainingAvatarCount}}}",id:"activity.titleCard.members.otherCount.message",values:{remainingAvatarCount:r}})))}),[c.device.isMobile,h,t,o]);return d?n()(st.Z,{href:m,onClick:p,external:!1,innerStyle:h.container,inline:!0},void 0,n()("div",{style:h.flexRow},void 0,u&&n()(dt.Z,{disabled:!0,icon:u,isEmptyPage:!1,size:25,style:h.icon}),n()("div",{style:h.title},void 0,n()(ct.Z,{store:t,style:h.activityTitle}),n()("div",{style:h.subtitle},void 0,v)),n()("div",{style:h.spacer}),n()("div",{},void 0,b))):null}const $t=s.memo(Yt);function Jt(e){window.__c={n:"TeamMembershipEditedActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{notification:c,tab:l}=i,u=(0,_.O7)(),h=t.edits??[],m=h.length>0,p=(0,R.VK)((()=>(0,Le.P6)({edits:t.edits||[],rootStore:o})),[t,o]),g=(0,R.VK)((()=>(0,Le.XW)(p)),[p]),v=h[0],b=k.zX.createChildStore(o,{table:C.e0,id:v.team_id}),f=(0,R.VK)((()=>b.isDefined()),[b]);return m&&f?d?s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a teamspace} other {{authorOrAuthors} invited you to a teamspace}}",values:{numberOfAuthors:p.length,authorOrAuthors:g},id:"activity.userInvitedToTeamActivity.standardizedHeader"}),prominentTitleLink:n()($t,{titledRecordStore:b,rootStore:o,activity:t,tabArgs:i}),isLast:a,isPrivate:!1,rootStore:o,notification:c,showRecordPath:!1,icon:n()(be,{authors:p}),showSnapshotButton:!1},(0,tt.h9)({notification:c,activity:t,environment:u,tab:l}))):s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to teamspace {teamName}} other {{authorOrAuthors} invited you to {teamName}}}",values:{numberOfAuthors:p.length,authorOrAuthors:g,teamName:n()(ut,{titledRecordStore:b,getRecordModel:o.getRecordModel,activity:t,tabArgs:i})},id:"activity.userInvitedToTeamActivity.header"}),isLast:a,isPrivate:!1,rootStore:o,notification:c,icon:n()(be,{authors:p}),showSnapshotButton:!1},(0,tt.h9)({notification:c,activity:t,environment:u,tab:l}))):null}var Qt=o(84683),eo=o(94044),to=o(63143);function oo(e){window.__c={n:"UserInvitedActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{notification:c,tab:l}=i,u=(0,_.O7)(),h=(t.edits??[])[0],m=so({rootStore:o,edit:h}),p=function(e){let{data:t,spaceId:o,tab:i,rootStore:r}=e;const a=(0,_.O7)();return(0,R.VK)((()=>{let e,n;if(!t)return!1;if("block"===(null==t?void 0:t.type))e=t.block.id,n="block";else if("space"===(null==t?void 0:t.type)||"group"===(null==t?void 0:t.type)){if(!o)return!1;e=o,n="space"}else(0,M.t1)(t);return(0,Le.jC)({recordId:e,recordType:n,tab:i,rootStore:r,environment:a})}),[t,a,r,o,i])}({data:m,spaceId:h.space_id,tab:l,rootStore:o}),g=(0,R.VK)((()=>(0,Le.P6)({edits:t.edits??[],rootStore:o})),[t.edits,o]),v=(0,s.useMemo)((()=>(0,tt.h9)({notification:c,environment:u,tab:l,activity:t})),[t,u,c,l]);if(!t.edits||0===t.edits.length||!m)return null;const b=parseInt(t.end_time),f=0===g.filter(Te.uC).length,y=f?void 0:n()(be,{authors:g});return d?s.createElement(we,r()({timestamp:b,header:n()("span",{},void 0,n()(ro,{data:m,authors:g,isFromBot:f,spaceId:h.space_id})),prominentTitleLink:n()(io,{data:m,rootStore:o,activity:t,tabArgs:i}),isLast:a,isPrivate:p,rootStore:o,navigableBlockId:t.navigable_block_id,showRecordPath:!1,notification:c,icon:y,showSnapshotButton:!1},v),s.createElement(no,r()({},e,{edit:h}))):s.createElement(Ae,r()({timestamp:b,header:n()("span",{},void 0,n()(ao,{data:m,authors:g,isFromBot:f,activity:t,tabArgs:i,getRecordModel:o.getRecordModel,spaceId:h.space_id})),isLast:a,isPrivate:p,rootStore:o,navigableBlockId:t.navigable_block_id,notification:c,icon:y,showSnapshotButton:!1},v),s.createElement(no,r()({},e,{edit:h})))}function io(e){let{data:t,rootStore:o,activity:i,tabArgs:r}=e;switch(t.type){case"block":return n()($t,{tabArgs:r,titledRecordStore:t.block,rootStore:o,activity:i});case"group":return null;case"space":return n()($t,{tabArgs:r,titledRecordStore:t.space,rootStore:o,activity:i});default:(0,M.t1)(t)}}function ro(e){let{data:t,authors:o,isFromBot:i,spaceId:r}=e;window.__c={n:"UserInviteSimplifiedHeader"};const a=(0,R.VK)((()=>(0,Le.XW)(o)),[o]),s=(0,R.VK)((()=>{var e;return"block"===t.type?null===(e=t.block.getAssociatedCollectionStore())||void 0===e?void 0:e.getDatabaseType():void 0}),[t]);switch(t.type){case"block":if(i)switch(s){case Ot.wW:return n()(O.FormattedMessage,{defaultMessage:"You were added to a project",id:"activity.userInvitedActivityProjectByBot.standardizedHeader"});case Ot.iS:return n()(O.FormattedMessage,{defaultMessage:"You were added to a task",id:"activity.userInvitedActivityTaskByBot.standardizedHeader"});case Ot.zU:return n()(O.FormattedMessage,{defaultMessage:"You were added to a document",id:"activity.userInvitedActivityDocByBot.standardizedHeader"});case Ot.Fi:return n()(O.FormattedMessage,{defaultMessage:"You were added to a meeting",id:"activity.userInvitedActivityMeetingByBot.standardizedHeader"});case Ot.p$:return n()(O.FormattedMessage,{defaultMessage:"You were added to a sprint",id:"activity.userInvitedActivitySprintByBot.standardizedHeader"});case Ot.GZ:return n()(O.FormattedMessage,{defaultMessage:"You were added to a wiki",id:"activity.userInvitedActivityWikiByBot.standardizedHeader"});default:return n()(O.FormattedMessage,{defaultMessage:"You were added to a page",id:"activity.userInvitedActivityNavigableBlockByBot.standardizedHeader"})}else switch(s){case Ot.wW:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a project} other {{authorOrAuthors} added you to a project}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityProject.standardizedHeader"});case Ot.iS:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a task} other {{authorOrAuthors} added you to a task}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityTask.standardizedHeader"});case Ot.zU:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a document} other {{authorOrAuthors} added you to a document}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityDoc.standardizedHeader"});case Ot.Fi:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a meeting} other {{authorOrAuthors} added you to a meeting}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityMeeting.standardizedHeader"});case Ot.p$:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a sprint} other {{authorOrAuthors} added you to a sprint}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivitySprint.standardizedHeader"});case Ot.GZ:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a wiki} other {{authorOrAuthors} added you to a wiki}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityWiki.standardizedHeader"});default:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a page} other {{authorOrAuthors} added you to a page}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityNavigableBlock.standardizedHeader"})}case"group":const e=n()(qt,{permissionGroup:t.group,spaceId:r});return n()(O.FormattedMessage,i?{defaultMessage:"You were added to group {groupName}",values:{groupName:e},id:"activity.userInvitedActivityGroupIdByBot.standardizedHeader"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to group {groupName}} other {{authorOrAuthors} added you to group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:a,groupName:e},id:"activity.userInvitedActivityGroupId.standardizedHeader"});case"space":return n()(O.FormattedMessage,i?{defaultMessage:"You were added to a workspace",id:"activity.userInvitedActivityOtherInviteByBot.standardizedHeader"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a workspace} other {{authorOrAuthors} added you to a workspace}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityOtherInvite.standardizedHeader"});default:(0,M.t1)(t)}}function ao(e){let{data:t,authors:o,isFromBot:i,activity:r,tabArgs:a,getRecordModel:s,spaceId:d}=e;window.__c={n:"UserInviteHeader"};const c=(0,R.VK)((()=>(0,Le.XW)(o)),[o]);switch(t.type){case"block":const e=t.block,l=n()(ut,{tabArgs:a,titledRecordStore:e,activity:r,getRecordModel:s});return n()(O.FormattedMessage,i?{defaultMessage:"You were added to {blockName}",values:{blockName:l},id:"activity.userInvitedActivityNavigableBlockByBot.header"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to {blockName}} other {{authorOrAuthors} added you to {blockName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:c,blockName:l},id:"activity.userInvitedActivityNavigableBlock.header"});case"group":const u=n()(qt,{permissionGroup:t.group,spaceId:d});return n()(O.FormattedMessage,i?{defaultMessage:"You were added to group {groupName}",values:{groupName:u},id:"activity.userInvitedActivityGroupIdByBot.header"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to group {groupName}} other {{authorOrAuthors} added you to group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:c,groupName:u},id:"activity.userInvitedActivityGroupId.header"});case"space":const h=n()(ut,{tabArgs:a,titledRecordStore:t.space,activity:r,getRecordModel:s});return n()(O.FormattedMessage,i?{defaultMessage:"You were added to {spaceName}",values:{spaceName:h},id:"activity.userInvitedActivityOtherInviteByBot.header"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to {spaceName}} other {{authorOrAuthors} added you to {spaceName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:c,spaceName:h},id:"activity.userInvitedActivityOtherInvite.header"});default:(0,M.t1)(t)}}function no(e){let{edit:t,activity:o,rootStore:i,tabArgs:r}=e;window.__c={n:"InviteDetail"};const a=(0,_.O7)(),{isMobile:s}=a.device,{source:d}=r,c=(0,w.yK)((()=>({inviteMessage:{paddingLeft:(0,ot.c3)({source:d,isMobile:s}),paddingTop:8,paddingBottom:8,paddingRight:12,fontSize:14}})),[s,d]),u=so({rootStore:i,edit:t}),h=parseInt(o.end_time),m=(0,R.VK)((()=>{if("block"!==(null==u?void 0:u.type))return;const e=u.block;return null!=e&&e.isDefined()?e.getModel():void 0}),[u]),p=(0,R.VK)((()=>{if(m)return(0,tt.ME)(m.getRenderUrl({getRecordModel:i.getRecordModel,pageVisitSource:l.tY.Notification}))}),[m,i.getRecordModel]),g=(0,R.VK)((()=>{if(!m)return{isValid:!1};const e=m&&(0,eo.$e)(m,o);if(!e)return{isValid:!1};const t=i.getRecordValue({table:Qt.Tu,id:e,spaceId:o.space_id});return null!=t&&t.message&&t.created_time<=h+5*to.hM?{isValid:!0,message:t.message}:{isValid:!1}}),[o,h,m,i]);return null!=g&&g.isValid?n()(st.Z,{href:p,onClick:()=>(0,tt.dG)({...r,environment:a,activity:o,mightCloseTab:!0}),innerStyle:c.inviteMessage},void 0,g.message):null}function so(e){let{rootStore:t,edit:o}=e;return(0,R.VK)((()=>{if(o)return o.navigable_block_id?{type:"block",block:k.G.createChildStore(t,{table:g.iU,id:o.navigable_block_id})}:o.permission_group_id?{type:"group",group:(0,m.Bg)({spaceId:o.space_id,permissionGroupId:o.permission_group_id,getRecordValue:t.getRecordValue})}:{type:"space",space:k.H2.createChildStore(t,{table:A.bx,id:o.space_id})}}),[o,t])}const co=s.memo(oo);var lo=o(70921);function uo(e){window.__c={n:"UserMentionedActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{source:c,tab:u,notification:h}=i,m=(0,_.O7)(),p=t.edits??[],v=p.length>0,b=p[0],f=k.G.createChildStore(o,{table:g.iU,id:b.navigable_block_id}),y=(0,R.VK)((()=>f.isDefined()),[f]),A=k.G.createChildStore(o,{table:g.iU,id:t.mentioned_block_id}),S=k.WJ.createChildStore(o,{table:lo.TY,id:t.id,spaceId:t.space_id}),M=(0,R.VK)((()=>S.getStandardizedMentionedPropertyURI()),[S]),w=(0,R.VK)((()=>A.isDefined()),[A]),I=(0,R.VK)((()=>{const e=A.getModel();return null==e?void 0:e.getRenderUrl({getRecordModel:o.getRecordModel,pageVisitSource:l.tY.Notification})}),[A,o]),C=(0,R.VK)((()=>(0,Le.P6)({edits:t.edits||[],rootStore:o})),[t,o]),T=(0,R.VK)((()=>(0,Le.XW)(C)),[C]),B=(0,R.VK)((()=>(0,Le.jC)({recordId:f.id,recordType:"block",tab:u,rootStore:o,environment:m})),[f,u,o,m]);if(!(v&&y&&w&&I))return null;const P=m.device.isMobile,V=n()(ut,{titledRecordStore:f,getRecordModel:o.getRecordModel,activity:t,tabArgs:i}),x=function(e,t,o){switch(e){case Ot.Es.Assign:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} assigned you a task} other {{authorOrAuthors} assigned you a task}}",values:{numberOfAuthors:o.length,authorOrAuthors:t},id:"activity.mentionTaskActivity.standardizedHeader"});case Ot.zI.People:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in a project} other {{authorOrAuthors} mentioned you in a project}}",values:{numberOfAuthors:o.length,authorOrAuthors:t},id:"activity.mentionProjectActivity.standardizedHeader"});default:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in a page} other {{authorOrAuthors} mentioned you in a page}}",values:{numberOfAuthors:o.length,authorOrAuthors:t},id:"activity.mentionActivity.standardizedHeader"})}}(M,T,C);if(d)return s.createElement(we,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,x),isLast:a,isPrivate:B,rootStore:o,navigableBlockId:f.id,prominentTitleLink:V,notification:h,icon:n()(be,{authors:C}),showRecordPath:!0,showSnapshotButton:!1},(0,tt.h9)({notification:h,activity:t,environment:m,tab:u})),n()(st.Z,{href:I,onClick:()=>(0,tt.dG)({environment:m,activity:t,...i}),innerStyle:(0,ot.OD)({source:c,isMobile:P})},void 0,n()(yt.Z,{edit:b,rootStore:o,highlightCurrentUser:!0})),n()(it,{tabArgs:i,activity:t,isMobile:P,environment:m,rootStore:o}));{const e=function(e,t,o,i){switch(e){case Ot.Es.Assign:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} assigned you to {pageName}} other {{authorOrAuthors} assigned you to {pageName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:t,pageName:i},id:"activity.mentionTaskActivity.header"});default:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in {pageName}} other {{authorOrAuthors} mentioned you in {pageName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:t,pageName:i},id:"activity.mentionActivity.header"})}}(M,T,C,V);return s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,e),isLast:a,isPrivate:B,rootStore:o,navigableBlockId:f.id,notification:h,icon:n()(be,{authors:C}),showSnapshotButton:!1},(0,tt.h9)({notification:h,activity:t,environment:m,tab:u})),n()(st.Z,{href:I,onClick:()=>(0,tt.dG)({environment:m,activity:t,...i}),innerStyle:(0,ot.OD)({source:c,isMobile:P})},void 0,n()(yt.Z,{edit:b,rootStore:o})),n()(it,{tabArgs:i,activity:t,isMobile:P,environment:m,rootStore:o}))}}var ho=o(80951);function mo(e){window.__c={n:"VerificationExpiredActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{tab:c,source:l,notification:u}=i,h=(0,_.O7)(),m=k.G.createChildStore(o,{table:g.iU,id:t.navigable_block_id}),p=(0,R.VK)((()=>m.isDefined()),[m]),b=k.NW.createChildStore(o,{table:v.v,id:t.collection_id,spaceId:t.space_id}),f=(0,R.VK)((()=>b.isDefined()),[b]),y=(0,R.VK)((()=>{const e=b.getSchema(),t=Object.keys(e).find((t=>{var o;return"verification"===(null===(o=e[t])||void 0===o?void 0:o.type)}));let i=n()(O.FormattedMessage,{id:"Activity.author.unknown",defaultMessage:"Unknown"});if(t){const e=m.getPropertyValue(t),r=ho._w(e);if(r){const e=r[0],t=(0,Le.uA)(e,o);t&&t.asActor&&(i=(0,Le.XW)([t]))}}return i}),[m,b,o]),A=(0,R.VK)((()=>(0,Le.jC)({recordId:m.id,recordType:"block",tab:c,rootStore:o,environment:h})),[m,c,o,h]);if(!p||!f)return null;const S=n()(ut,{titledRecordStore:m,getRecordModel:o.getRecordModel,activity:t,tabArgs:i}),M=n()(O.FormattedMessage,{defaultMessage:"Verification expired for <boldtext>{pageTitle}</boldtext>",values:{pageTitle:S,boldtext:e=>n()("span",{style:{fontWeight:500}},void 0,e)},id:"activity.verificationExpired.header"}),w=parseInt(t.start_time),I=parseInt(t.end_time),C=h.device.isMobile,T=n()("div",{style:{fontSize:14,...(0,ot.OD)({source:l,isMobile:C})}},void 0,n()(O.FormattedMessage,w&&I?{defaultMessage:"Last verified by {person} from {startDate} to {endDate}",values:{person:y,startDate:(0,G.gs)(parseInt(t.start_time)),endDate:(0,G.gs)(parseInt(t.end_time))},id:"activity.verificationExpired.contentWithTimestamp"}:{defaultMessage:"Last verified by {person}",values:{person:y},id:"activity.verificationExpired.contentWithoutTimestamp"}));return d?s.createElement(we,r()({timestamp:parseInt(t.end_time),header:M,isLast:a,isPrivate:A,rootStore:b,navigableBlockId:t.navigable_block_id,notification:u,icon:n()(ye,{}),showRecordPath:!0,showSnapshotButton:!1},(0,tt.h9)({notification:u,activity:t,environment:h,tab:c})),T,n()(it,{tabArgs:i,activity:t,isMobile:h.device.isMobile,environment:h,rootStore:o})):s.createElement(Ae,r()({timestamp:parseInt(t.end_time),header:M,isLast:a,isPrivate:A,rootStore:b,navigableBlockId:t.navigable_block_id,notification:u,icon:n()(ye,{}),showSnapshotButton:!1},(0,tt.h9)({notification:u,activity:t,environment:h,tab:c})),T,n()(it,{tabArgs:i,activity:t,isMobile:h.device.isMobile,environment:h,rootStore:o}))}var po=o(1136),go=o(45669);class vo extends d.Z{constructor(){super(...arguments),this.renderBlockEdit=(e,t,o)=>{const{tabArgs:i}=this.props,{source:r}=i;let a=this.getRecordModel({table:g.iU,id:e.block_id});a&&a.type===u.Ti.tableRow&&(a=this.getRecordModel({table:g.iU,id:a.parent_id}));const s=a?a.getRenderUrl({getRecordModel:this.getRecordModel,pageVisitSource:l.tY.Activity}):p._j.root,d=this.environment.device.isMobile;return"block-deleted"===e.type?e.block_data.block_value.type===u.Ti.page?n()(st.Z,{href:s,onClick:()=>(0,tt.dG)({...i,environment:this.environment,activity:o}),innerStyle:(0,ot.OD)({source:r,isMobile:d})},t,n()(yt.Z,{edit:e,rootStore:this.props.rootStore})):n()("div",{style:(0,ot.OD)({source:r,isMobile:d})},t,n()(yt.Z,{edit:e,rootStore:this.props.rootStore})):n()(st.Z,{href:s,onClick:()=>(0,tt.dG)({...i,environment:this.environment,activity:o}),innerStyle:(0,ot.OD)({source:r,isMobile:d})},t,n()(yt.Z,{edit:e,rootStore:this.props.rootStore}))},this.renderCollectionPropertyEdit=(e,t)=>{if("collection-property-changed"!==e.type)return;const{source:o}=this.props.tabArgs,i=this.environment.device.isMobile;return n()(st.Z,{href:t,innerStyle:(0,ot.OD)({source:o,isMobile:i})},void 0,n()(yt.Z,{edit:e,rootStore:this.props.rootStore}))},this.getRecordStore=e=>this.props.rootStore.getRecordStore(this.props.rootStore,e),this.getSpaceStore=e=>k.H2.createChildStore(this.props.rootStore,{table:A.bx,id:e}),this.getDiscussionContext=()=>{const e=(0,Le.cr)({activity:this.props.activity,rootStore:this.props.rootStore});if(e)return e.context}}willMountOrUpdate(){this.warmCommentData(),this.environment.KatexStore.loadIfNeeded(this.getDiscussionContext)}warmCommentData(){if("commented"===this.props.activity.type){const t=this.getRecordStore({table:y.qF,id:this.props.activity.discussion_id,spaceId:this.props.activity.space_id});if(t.isDefined()){const o=t.getCommentStores();for(const t of o){var e;null===(e=t.getCreatedByStore())||void 0===e||e.load()}}}}renderComponent(){const{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r}=this.props;switch(e.type){case"block-edited":return this.renderBlockEditActivity(e);case"block-property-edited":return n()(St,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"collection-row-created":case"collection-row-deleted":return this.renderCollectionRowActivity(e);case"top-level-block-created":case"top-level-block-deleted":return this.renderTopLevelBlockActivity(e);case"permissions-edited":return this.renderPermissionsActivity(e);case"permission-group-edited":return this.renderPermissionGroupActivity(e);case"user-mentioned":return n()(uo,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"commented":return this.props.groupingArgs?n()(Et,{activity:e,tabArgs:o,rootStore:t,isLast:i,useRedesignedIA:r,groupingArgs:this.props.groupingArgs}):n()(Kt,{activity:e,tabArgs:o,rootStore:t,isLast:i,useRedesignedIA:r});case"user-invited":return n()(co,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"collection-edited":return this.renderCollectionEdited(e);case"collection-view-edited":return this.renderCollectionViewEdited(e);case"collection-property-edited":return this.renderCollectionPropertyEdited(e);case"reminder":return n()(Ht,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"page-locked":case"page-unlocked":return this.renderPageLockActivity(e);case"email-edited":return n()(Dt,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"access-requested":return n()(ft,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"page-deleted":case"page-restored":case"page-permanently-deleted":return this.renderPageDeleteOrRestoreActivity(e);case"team-membership-edited":return n()(Jt,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"private-content-transferred":return n()(zt,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"permission-group-mentioned":return n()(Gt,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"verification-expired":return n()(mo,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});default:(0,M.t1)(e)}}renderBlockEditActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=(0,S.hI)(e.edits).filter((e=>{const{block_value:t}="block-changed"===e.type?e.block_data.after:e.block_data;return t.parent_table!==f.x_}));if(0===d.length)return;const c=this.getBlockStore(d[0].navigable_block_id);if(!c.isDefined())return;const l=(0,Le.P6)({edits:d,rootStore:o}),u=(0,Le.XW)(l),h=n()(ut,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel});return s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {pageTitle}} other {{authorOrAuthors} edited {pageTitle}}}",id:"activity.blockEdited.header",values:{numberOfAuthors:l.length,authorOrAuthors:u,pageTitle:h}})),isLast:this.props.isLast,isPrivate:(0,Le.jC)({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),rootStore:this.props.rootStore,navigableBlockId:c.id,notification:i,icon:n()(be,{authors:l}),showSnapshotButton:this.isTopbarUpdatesMenu()},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),n()(At.Z,{visible:5,items:d.map(((t,o)=>this.renderBlockEdit(t,o,e)))}),n()(it,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderCollectionRowActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=e.edits[0],c=this.getBlockStore(e.collection_row_id);if(!c.isDefined())return;if(!c.getProperties())return;const l=(0,Le.P6)({edits:e.edits,rootStore:o}),u=(0,Le.XW)(l),h=n()(ut,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),m="collection-row-created"===d.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {pageTitle}} other {{authorOrAuthors} created {pageTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:u,pageTitle:h},id:"activity.collectionRowCreated.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {pageTitle}} other {{authorOrAuthors} deleted {pageTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:u,pageTitle:h},id:"activity.collectionRowDeleted.header"});return s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,m),isLast:this.props.isLast,isPrivate:(0,Le.jC)({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),rootStore:this.props.rootStore,navigableBlockId:c.id,notification:i,icon:n()(be,{authors:l}),showSnapshotButton:this.isTopbarUpdatesMenu()},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),n()(it,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderTopLevelBlockActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=e.edits[0],c=this.getBlockStore(e.top_level_block_id);if(!c.isDefined())return;const l=c.hasSpacePermission(),u=(0,Le.P6)({edits:e.edits,rootStore:o}),h=(0,Le.XW)(u),m=n()(ut,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel});let p;return p=l?"top-level-block-created"===d.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created workspace page {pageTitle}} other {{authorOrAuthors} created workspace page {pageTitle}}}",values:{numberOfAuthors:u.length,authorOrAuthors:h,pageTitle:m},id:"activity.topLevelBlockWorkspaceCreated.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted workspace page {pageTitle}} other {{authorOrAuthors} deleted workspace page {pageTitle}}}",values:{numberOfAuthors:u.length,authorOrAuthors:h,pageTitle:m},id:"activity.topLevelBlockWorkspaceDeleted.header"}):"top-level-block-created"===d.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created private page {pageTitle}} other {{authorOrAuthors} created private page {pageTitle}}}",values:{numberOfAuthors:u.length,authorOrAuthors:h,pageTitle:m},id:"activity.topLevelBlockPrivateCreated.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted private page {pageTitle}} other {{authorOrAuthors} deleted private page {pageTitle}}}",values:{numberOfAuthors:u.length,authorOrAuthors:h,pageTitle:m},id:"activity.topLevelBlockPrivateDeleted.header"}),s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,p),isLast:this.props.isLast,isPrivate:(0,Le.jC)({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),rootStore:this.props.rootStore,notification:i,icon:n()(be,{authors:u}),showSnapshotButton:!1},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})))}renderPermissionsActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a,source:d}=t;if(!e.edits)return;const l=(0,S.hI)(e.edits);if(0===l.length)return;let u,h;const m=l[0];if(m.navigable_block_id){const i=this.getBlockStore(m.navigable_block_id);if(!i.isDefined())return;h=n()(ut,{titledRecordStore:i,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),u=(0,Le.jC)({recordId:i.id,recordType:"block",tab:a,rootStore:o,environment:this.environment})}else{const i=this.getSpaceStore(m.space_id);if(!i.isDefined())return;h=n()(ut,{titledRecordStore:i,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),u=(0,Le.jC)({recordId:m.space_id,recordType:"space",tab:a,rootStore:o,environment:this.environment})}const{autojoinEdits:p,inheritanceEdits:g,otherEdits:v}=c.md(e.edits),b=[];p.forEach(((t,d)=>{const c=(0,Le.P6)({edits:[t],rootStore:o}),l=(0,Le.XW)(c);b.push(s.createElement(Ae,r()({key:`autojoin-${d}`,timestamp:t.timestamp,header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} joined {pageOrSpaceName}} other {{authorOrAuthors} joined {pageOrSpaceName}}}",values:{numberOfAuthors:c.length,authorOrAuthors:l,pageOrSpaceName:h},id:"activity.permissionsActivity.header"})),isLast:this.props.isLast,isPrivate:u,rootStore:this.props.rootStore,navigableBlockId:t.navigable_block_id,notification:i,icon:n()(be,{authors:c}),showSnapshotButton:!1},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a}))))}));const f=this.environment.device.isMobile;g.forEach(((c,l)=>{const m=(0,Le.P6)({edits:[c],rootStore:o}),p=(0,Le.XW)(m);let g;"permission-restriction-created"===c.type?g=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restricted access for {pageOrSpaceName}} other {{authorOrAuthors} restricted access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,pageOrSpaceName:h,inSudoMode:c.inSudoMode},id:"activity.restrictPermissionsForActivity.header"}):"permission-restriction-deleted"===c.type&&(g=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored inherited access for {pageOrSpaceName}} other {{authorOrAuthors} restored inherited access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,pageOrSpaceName:h,inSudoMode:c.inSudoMode},id:"activity.restorePermissionsForActivity.header"})),b.push(s.createElement(Ae,r()({key:`inheritance-${l}`,timestamp:parseInt(e.end_time),header:n()("span",{},void 0,g),isLast:this.props.isLast,isPrivate:u,rootStore:this.props.rootStore,navigableBlockId:c.navigable_block_id,notification:i,icon:n()(be,{authors:m}),showSnapshotButton:!1},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),n()("div",{style:(0,ot.OD)({source:d,isMobile:f})},void 0,n()(yt.Z,{edit:c,rootStore:this.props.rootStore})),n()(it,{tabArgs:t,activity:e,isMobile:f,environment:this.environment,rootStore:o})))}));const y=(c,l,h)=>{if(c.length>0){const p=(0,Le.P6)({edits:c,rootStore:o});b.push(s.createElement(Ae,r()({key:l,timestamp:parseInt(e.end_time),header:h,isLast:this.props.isLast,isPrivate:u,rootStore:this.props.rootStore,navigableBlockId:m.navigable_block_id,notification:i,icon:n()(be,{authors:p}),showSnapshotButton:!1},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),c.map(((e,t,o)=>n()("div",{style:(0,ot.OD)({source:d,isMobile:f})},t,n()(yt.Z,{edit:e,rootStore:this.props.rootStore},t)))),n()(it,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o})))}},A=v.filter((e=>!e.inSudoMode));if(A.length>0){const e=(0,Le.P6)({edits:A,rootStore:o}),t=(0,Le.XW)(e);y(A,"other",n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}}",values:{numberOfAuthors:e.length,authorOrAuthors:t,pageOrSpaceName:h},id:"activity.updatedPermissionsForActivity.header"})))}const M=v.filter((e=>e.inSudoMode));if(M.length>0){const e=(0,Le.P6)({edits:M,rootStore:o}),t=(0,Le.XW)(e);y(M,"other-sudo",n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}} using administrator privileges",values:{numberOfAuthors:e.length,authorOrAuthors:t,pageOrSpaceName:h},id:"activity.updatedPermissionsForActivityInSudoMode.header"})))}return b}renderPermissionGroupActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a,source:d}=t;if(!e.edits)return;const c=(0,S.hI)(e.edits)[0];if(!c)return;const l=this.getSpaceStore(c.space_id);if(!l.isDefined())return;const u=(0,tt.ME)(l.getModel().getRenderUrl({})),h=n()(qt,{permissionGroup:(0,m.c_)({activity:e,getRecordValue:this.getRecordValue}),spaceId:e.space_id}),p=(0,Le.P6)({edits:e.edits,rootStore:o}),g=this.environment.device.isMobile;return s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,this.renderPermissionGroupEditedHeader({activity:e,authors:p,groupName:h})),isLast:this.props.isLast,isPrivate:(0,Le.jC)({recordId:e.space_id,recordType:"space",tab:a,rootStore:o,environment:this.environment}),rootStore:o,notification:i,icon:n()(be,{authors:p}),showSnapshotButton:!1},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),n()(st.Z,{href:u,onClick:()=>(0,tt.dG)({...t,environment:this.environment,activity:e}),innerStyle:(0,ot.OD)({source:d,isMobile:g})},void 0,n()(yt.Z,{edit:c,rootStore:o})),n()(it,{tabArgs:t,activity:e,isMobile:g,environment:this.environment,rootStore:o}))}renderCollectionEdited(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=this.getRecordStore({table:v.v,id:e.collection_id,spaceId:e.space_id});if(!d.isDefined())return;const u=e.edits[0];if(!u)return;const h=d.getModel().getRenderUrl({getRecordModel:this.getRecordModel,pageVisitSource:l.tY.Activity}),m=(0,Le.P6)({edits:e.edits,rootStore:o}),p=(0,Le.XW)(m),g=n()(ut,{titledRecordStore:d,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),b="collection-created"===u.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {collectionTitle}} other {{authorOrAuthors} created {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:g},id:"activity.collectionCreated.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {collectionTitle}} other {{authorOrAuthors} edited {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:g},id:"activity.collectionEdited.header"});return s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,b),isLast:this.props.isLast,isPrivate:(0,Le.jC)({recordId:e.collection_id,recordType:"collection",tab:a,rootStore:o,environment:this.environment}),rootStore:o,navigableBlockId:e.navigable_block_id,notification:i,icon:n()(be,{authors:m}),showSnapshotButton:this.isTopbarUpdatesMenu()},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),c.OC(u)&&this.renderCollectionDescriptionEdit(u,h),n()(it,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderCollectionDescriptionEdit(e,t){const{source:o}=this.props.tabArgs,i=this.environment.device.isMobile;return n()(st.Z,{href:t,innerStyle:(0,ot.OD)({source:o,isMobile:i})},void 0,n()(yt.Z,{edit:e,rootStore:this.props.rootStore}))}renderCollectionViewEdited(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=this.getRecordStore({table:v.v,id:e.collection_id,spaceId:e.space_id});if(!d.isDefined())return;const c=this.getRecordStore({table:b.n,id:e.collection_view_id,spaceId:e.space_id});if(!c.isDefined())return;const l=(0,S.hI)(e.edits)[0];if(!l)return;const u=this.renderCollectionViewTitle(c,e),h=n()(ut,{titledRecordStore:d,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),m=(0,Le.P6)({edits:e.edits,rootStore:o}),p=(0,Le.XW)(m);let g;return g="collection-view-created"===l.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:h,collectionViewTitle:u},id:"activity.collectionViewCreated.header"}):"collection-view-deleted"===l.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:h,collectionViewTitle:u},id:"activity.collectionViewDeleted.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:h,collectionViewTitle:u},id:"activity.collectionViewEdited.header"}),s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,g),isLast:this.props.isLast,isPrivate:(0,Le.jC)({recordId:e.collection_id,recordType:"collection",tab:a,rootStore:o,environment:this.environment}),rootStore:o,navigableBlockId:e.navigable_block_id,notification:i,icon:n()(be,{authors:m}),showSnapshotButton:this.isTopbarUpdatesMenu()},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),n()(it,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderCollectionPropertyEdited(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=(0,S.hI)(e.edits),c=d[0];if(!c)return;const u=this.getRecordStore({table:v.v,id:e.collection_id,spaceId:e.space_id});if(!u.isDefined())return;const h=u.getModel().getRenderUrl({getRecordModel:this.getRecordModel,pageVisitSource:l.tY.Activity}),m="collection-property-changed"===c.type?c.collection_property_data.after:c.collection_property_data,p=(0,Le.P6)({edits:e.edits,rootStore:o}),g=(0,Le.XW)(p),b=n()(ut,{titledRecordStore:u,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),f=this.renderCollectionPropertyTitle(m);let y;return y="collection-property-created"===c.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:p.length,authorOrAuthors:g,collectionTitle:b,collectionPropertyTitle:f},id:"activity.collectionPropertyCreated.header"}):"collection-property-deleted"===c.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:p.length,authorOrAuthors:g,collectionTitle:b,collectionPropertyTitle:f},id:"activity.collectionPropertyDeleted.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:p.length,authorOrAuthors:g,collectionTitle:b,collectionPropertyTitle:f},id:"activity.collectionPropertyEdited.header"}),s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,y),isLast:this.props.isLast,isPrivate:(0,Le.jC)({recordId:e.collection_id,recordType:"collection",tab:a,rootStore:o,environment:this.environment}),rootStore:o,navigableBlockId:e.navigable_block_id,notification:i,icon:n()(be,{authors:p}),showSnapshotButton:this.isTopbarUpdatesMenu()},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),n()(At.Z,{visible:5,items:d.map((e=>this.renderCollectionPropertyEdit(e,h)))}),n()(it,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderPageLockActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=e.edits[0],c=this.getBlockStore(d.navigable_block_id);if(!c.isDefined())return;const l=(0,Le.P6)({edits:e.edits,rootStore:o}),u=(0,Le.XW)(l),h=n()(ut,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),m="page-locked"===e.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} locked {blockTitle}} other {{authorOrAuthors} locked {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:u,blockTitle:h},id:"activity.pageLocked.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} unlocked {blockTitle}} other {{authorOrAuthors} unlocked {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:u,blockTitle:h},id:"activity.pageUnlocked.header"});return s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,m),isPrivate:(0,Le.jC)({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),isLast:this.props.isLast,rootStore:o,navigableBlockId:c.id,notification:i,icon:n()(be,{authors:l}),showSnapshotButton:!1},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),n()(it,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderPageDeleteOrRestoreActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=e.edits[0];if(!d)return;const c=this.getRecordStore({table:g.iU,id:d.navigable_block_id,spaceId:d.space_id});if(!c.isDefined())return;const l=(0,Le.P6)({edits:e.edits,rootStore:o}),u=(0,Le.XW)(l),h=n()(ut,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel});let m;return"page-deleted"===e.type?m=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {blockTitle}} other {{authorOrAuthors} deleted {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:u,blockTitle:h},id:"emailActivity.pageDeleted.header"}):"page-restored"===e.type?m=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored {blockTitle}} other {{authorOrAuthors} restored {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:u,blockTitle:h},id:"emailActivity.pageRestored.header"}):"page-permanently-deleted"===e.type?m=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} permanently deleted {blockTitle}} other {{authorOrAuthors} permanently deleted {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:u,blockTitle:h},id:"emailActivity.pagePermanentlyDeleted.header"}):(0,M.t1)(e),s.createElement(Ae,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,m),isPrivate:(0,Le.jC)({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),isLast:this.props.isLast,rootStore:o,navigableBlockId:c.id,notification:i,icon:n()(be,{authors:l}),showSnapshotButton:!1},(0,tt.h9)({notification:i,activity:e,environment:this.environment,tab:a})),n()(it,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderCollectionPropertyTitle(e){const{theme:t}=this;return n()("span",{style:{...ot.nP,whiteSpace:"nowrap"}},void 0,n()(h.ZP,{icon:e.icon,type:e.type,size:12,style:vo.svgIconStyle,theme:t}),e.name)}renderCollectionViewTitle(e,t){const{tabArgs:o}=this.props;if(!e.isDefined())return;const i=e.getModel().getRenderUrl({getRecordModel:this.getRecordModel,pageVisitSource:l.tY.Activity}),r=e.getFormat().collection_view_icon,a=e.getType();return n()(st.Z,{href:i,onClick:()=>(0,tt.V3)({environment:this.environment,activity:t,...o}),external:!1,innerStyle:{...ot.lS,...ot.nP},inline:!0},void 0,n()(po.F,{viewIcon:r,viewType:a,color:"light",style:{display:"inline-block",verticalAlign:"middle",marginRight:4,marginBottom:2},size:12}),n()(go.Z,{collectionViewName:e.getName(),collectionViewType:e.getType()}))}isTopbarUpdatesMenu(){return"pageUpdatesSidebar"===this.props.tabArgs.tab}renderPermissionGroupEditedHeader(e){const{activity:t,authors:o,groupName:i}=e,r=(0,Le.XW)(o),a=(0,S.hI)(t.edits||[])[0];return a?"permission-group-created"===a.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created group {groupName}} other {{authorOrAuthors} created group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:n()("span",{style:ot.nP},void 0,i)},id:"activity.updatedPermissionGroupCreated.header"}):"permission-group-deleted"===a.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted group {groupName}} other {{authorOrAuthors} deleted group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:n()("span",{style:ot.nP},void 0,i)},id:"activity.updatedPermissionGroupDeleted.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited group {groupName}} other {{authorOrAuthors} edited group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:n()("span",{style:ot.nP},void 0,i)},id:"activity.updatedPermissionGroupEditedDefault.header"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited group {groupName}} other {{authorOrAuthors} edited group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:n()("span",{style:ot.nP},void 0,i)},id:"activity.updatedPermissionGroupEdit.header"})}get getRecordValue(){return this.props.rootStore.getRecordValue}get getRecordModel(){return this.props.rootStore.getRecordModel}getBlockStore(e){return k.G.createChildStore(this.props.rootStore,{table:g.iU,id:e})}}vo.displayName="Activity",vo.svgIconStyle={width:12,height:12,display:"inline-block",verticalAlign:"middle",marginBottom:2,marginRight:4};const bo=vo},67706:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(23174),r=o.n(i),a=o(10434),n=o.n(a),s=o(67294),d=o(24405),c=o(82990),l=o(44532),u=o(58032);function h(e){let{text:t,tooltipText:o,icon:i}=e;window.__c={n:"InlineTextWithIconTooltip"};const a=(0,d.yK)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.lightBoxShadow},container:{display:"flex",alignItems:"center",fontWeight:c.Z.fontWeight.regular,color:e.mediumTextColor,fontSize:c.Z.fontSize.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return r()(u.Z,{style:a.tooltip,render:e=>s.createElement("div",n()({style:a.text},e),t),renderTooltip:()=>r()("div",{style:a.container},void 0,i(a.icon),r()("div",{},void 0,o)),alignment:l.ZP.Alignment.Start,placement:l.ZP.Placement.Bottom})}},46096:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(49085);class r extends i.default{getInitialState(){return{open:!1}}}const a=new r}}]);