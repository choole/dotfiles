"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6453],{1101:(e,t,i)=>{i.d(t,{Z:()=>y});var o=i(10434),n=i.n(o),r=i(23174),s=i.n(r),a=i(67294),l=i(83355),d=i(53397),c=i(82990),u=i(87279),p=i(61766),m=i(48019),g=i(64921),h=i(31945),b=i(78140),S=i(72495);class v extends l.Z{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:p.Z}}renderComponent(){const{device:e}=this.environment;let t;return t=e.isMobile?{menuType:u.og.ActionSheet}:{menuType:u.og.Popup},s()("div",{style:this.getContainerStyle()},void 0,s()("div",{style:this.getTextStyle()},void 0,this.props.emailAddress),s()(h.ZP,{popupType:e.isMobile?h.Z4.SlideUp:h.Z4.Popup,buttonPopupStore:this.stores.buttonPopupStore,renderOrigin:e=>{if(!this.props.disabled)return a.createElement(g.Z,n()({},e,{style:this.getButtonStyle()}),d.Z.dots(this.getButtonIconStyle()))},render:()=>a.createElement(b.Z,t,s()(m.Z,{sections:[{key:"option section",render:e=>a.createElement(S.Z,e),actions:this.props.accountActions}],context:{environment:this.environment,blocks:[],publicEditMode:void 0}}))}))}getButtonStyle(){const{device:e}=this.environment;return{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:e.isMobile?24:20,height:e.isMobile?24:20,borderRadius:3}}getButtonIconStyle(){const{device:e}=this.environment;return{width:e.isMobile?18:12,height:e.isMobile?18:12}}getContainerStyle(){return{marginTop:this.environment.device.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:this.theme.mediumTextColor}}getTextStyle(){return{fontSize:this.environment.device.isMobile?14:11,lineHeight:c.Z.lineHeight.UISmall.desktop,fontWeight:c.Z.fontWeight.medium}}}v.displayName="SidebarAccountHeader";const y=v},88198:(e,t,i)=>{i.d(t,{b:()=>m});var o=i(23174),n=i.n(o),r=i(67294),s=i(81954),a=i(24405),l=i(53397),d=i(26825),c=i(5366),u=i(4708),p=i(74136);function m(e){window.__c={n:"GuestPill"};const{style:t,labelType:i}=e,{label:o,icon:m}=(0,s.VK)((()=>(0,u.F$)()?"team_level_guest"===i?{label:d.mq.teamGuestLabel,icon:l.Z.openTeam}:{label:d.mq.pageGuestLabel,icon:l.Z.pageEmpty}:{label:d.mq.guestLabel,icon:l.Z.globe2}),[i]),g=(0,a.yK)((()=>({container:{display:"flex",alignItems:"center",color:"#CF8807",background:"rgba(246, 192, 80, 0.26)"}})),[]);return n()(p.Z,{innerStyle:{...g.container,...t}},void 0,m({width:9,fill:"#CF8807",display:"inline",verticalAlign:"middle",marginRight:2}),r.createElement(c.FormattedMessage,o))}},74136:(e,t,i)=>{i.d(t,{Z:()=>u});var o=i(10434),n=i.n(o),r=i(23174),s=i.n(r),a=i(67294),l=i(480),d=i(24405),c=i(64921);function u(e){window.__c={n:"Pill"};const t=(0,l.Fy)(),i=(0,d.yK)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:3},innerStyle:{padding:"2px 6px",borderRadius:3,color:e.mediumTextColor,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?s()(c.Z,{style:{...i.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick},void 0,s()("div",{style:{...i.innerStyle,...e.innerStyle}},void 0,e.children)):a.createElement(c.Z,n()({style:{...i.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick},e),s()("div",{style:{...i.innerStyle,...e.innerStyle}},void 0,e.children))}},27177:(e,t,i)=>{i.d(t,{Z:()=>Z});var o=i(10434),n=i.n(o),r=i(23174),s=i.n(r),a=(i(21703),i(67294)),l=i(83355),d=i(5366),c=i(50906),u=i(5978),p=i(52275),m=i(31945),g=i(46457),h=i(43250),b=i(88632),S=i(96071),v=i(30278),y=i(85974),f=i(64157),M=i(17364);class w extends l.Z{constructor(){super(...arguments),this.storeTypes={loginStore:y.Z,loginPermissionsStore:v.Z,loginModalStore:S.Z},this.renderAccountActionModal=(e,t)=>{let i,o;switch(e){case"add-account":i=s()(d.FormattedMessage,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),o=s()(d.FormattedMessage,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in."});break;case"create-work":i=s()(d.FormattedMessage,{id:"sidebarSwitcherMultiAccount.createWork.title",defaultMessage:"Create a work account"}),o=s()(d.FormattedMessage,{id:"sidebarSwitcherMultiAccount.createWork.description",defaultMessage:"We’ll check if your teammates are already on Notion. If not, we’ll create a new home for you and your team."});break;default:throw new Error(this.props.intl.formatMessage({defaultMessage:"Unexpected createType in SidebarSwitcherMultiAccount",id:"sidebarSwitcherMultiAccount.errorMessage"}))}return s()(g._,{loginModalStore:this.stores.loginModalStore,loginStore:this.stores.loginStore,title:i,description:o,disableLoginLink:this.props.disableLoginLink,className:h.zYS,redirectURL:this.props.redirectURL,onDismiss:t})},this.supportsNativeHomeOnPhone=()=>{const{mobileNative:e}=this.environment;return(null==e?void 0:e.supportsNativeHomeOnPhone())||!1},this.getAccountActionStyle=()=>{const{device:e}=this.environment;return{display:"flex",color:this.theme.mediumTextColor,whiteSpace:"nowrap",fontSize:e.isMobile?16:12}}}willMount(e){super.willMount(e);const{loginStore:t}=this.stores;"email"===t.state.loginType&&this.environment.device.isMobile&&t.setState({...t.state,loginType:"google"})}renderComponent(){const{online:e}=b.Z.state,{device:t}=this.environment,{createType:i}=this.props,o=this.supportsNativeHomeOnPhone();return t.isMobile?s()(m.ZP,{popupType:m.Z4.SlideUp,hidesMobileNativeBottomBar:o,preventSlideUpTransition:o,buttonPopupStore:"add-account"===i?f.C:f.E,alignmentToOrigin:m.vR.Start,placementToOrigin:m.pO.Top,originGap:0,isFullWidthOnMobile:!0,render:e=>this.renderAccountActionModal(i,(()=>{this.supportsNativeHomeOnPhone()?u.navigateToHomeTab(this.environment,e.close):e.close()})),preventScaleTransition:!0,renderOrigin:t=>a.createElement(p.Z,n()({focused:!1,disabled:!e,title:this.renderMenuButtonLoginTitle(i),icon:this.props.icon},t))}):s()("div",{onClick:()=>{e&&(c.D6i(this.environment,{createType:i}),M.Z.setState({...M.Z.getState(),createType:i}),this.stores.loginModalStore.setState({open:!0}))}},void 0,s()(p.Z,{focused:!1,disabled:!e,title:this.renderMenuButtonLoginTitle(i),icon:this.props.icon}),this.renderAccountActionModal(i))}renderMenuButtonLoginTitle(e){switch(e){case"create-work":return s()("div",{style:this.getAccountActionStyle()},void 0,s()(d.FormattedMessage,{defaultMessage:"Create work account",id:"sidebarSwitcherMultiAccount.menuItem.createWorkAccountButton.label"}));case"add-account":return s()("div",{style:this.getAccountActionStyle()},void 0,s()(d.FormattedMessage,{defaultMessage:"Add another account",id:"sidebarSwitcherMultiAccount.addAccountButton.label"}))}}}w.displayName="SidebarSwitcherLoginModal";const Z=(0,d.injectIntl)(w)},77062:(e,t,i)=>{i.d(t,{Z:()=>y});var o=i(10434),n=i.n(o),r=i(23174),s=i.n(r),a=i(67294),l=i(83355),d=i(53397),c=i(64921),u=i(5145),p=i(31278),m=i(58032),g=i(64369),h=i(39849),b=i(87279),S=i(25464);class v extends l.Z{renderComponent(){const{device:e}=this.environment,{id:t,onClick:i,focused:o,isAddButton:r,title:l,caption:u,shortcut:p,tooltipMessage:h,disableTooltip:b,disabled:v,showDragHandle:y}=this.props,f=this.environment.device.isMobile,M=this.props.isCheck;return s()(m.Z,{renderTooltip:()=>h,disableTooltip:b,placement:S.u.Bottom,render:t=>a.createElement(c.Z,n()({},t,{mobileFeedback:this.environment.device.isMobile,onClick:i,hovered:o,disabled:v,style:this.getStyle()}),y&&this.renderDragHandle(),r?this.renderAddIcon():this.renderIcon(),s()("div",{style:{marginLeft:12,marginRight:p||M?12:0,minWidth:0}},void 0,s()(g.Z,{className:"notranslate",isMobile:e.isMobile},void 0,l),u&&s()(g.Z,{isSmall:!0,isMobile:e.isMobile},void 0,u)),M&&d.Z.check({width:16,height:16,marginLeft:"auto"}),p&&!f&&!M&&s()("div",{style:this.getShortcutStyle()},void 0,p))},`sidebarswitchermenuitem-tooltip-${t}`)}renderDragHandle(){return s()(u.ZP,{iconSize:12,style:{marginLeft:-6,marginRight:4,visibility:this.props.isAddButton?"hidden":"visible"}})}renderIcon(){const e=this.environment.device.isMobile;return s()("div",{style:{display:"flex",alignItems:"center"}},void 0,s()("div",{style:{position:"relative"}},void 0,this.props.id&&s()(p.Z,{disabled:!0,icon:this.props.icon,isEmptyPage:!1,title:this.props.spaceName,size:e?v.mobileIconSize:v.desktopIconSize,isLarge:!0}),s()(h.Z,{color:h.Z.Color.Red,count:this.props.unreadMentions,style:{position:"absolute",top:-5,right:-5}})))}renderAddIcon(){const e=this.environment.device.isMobile?v.mobileIconSize:v.desktopIconSize;return s()("div",{style:{...this.getIconWrapStyle(),width:e,height:e}},void 0,this.getPlusIcon())}getStyle(){const e=this.environment.device.isMobile,{WindowSizeStore:t}=this.environment,{disabled:i}=this.props;return{display:"flex",alignItems:"center",lineHeight:"120%",width:"100%",paddingTop:e?8:4,paddingBottom:e?8:4,paddingLeft:e?t.getSafePaddingLeftCSS(16):14,paddingRight:e?t.getSafePaddingRightCSS(16):14,...e&&{boxShadow:`0 1px 0 ${this.theme.regularDividerColor}`},marginBottom:1,fontSize:e?16:14,...e&&{background:this.theme.popoverBackground},height:e?54:48,...this.props.isAddButton&&!e&&{boxShadow:"none",marginBottom:0},...i&&{opacity:.4}}}getPlusIcon(){return d.Z.plus({flexGrow:0,flexShrink:0,width:16,height:16,fill:this.theme.popoverBackground})}getIconWrapStyle(){return{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",background:this.theme.lightIconColor,borderRadius:3,flexShrink:0}}getShortcutStyle(){return{color:this.theme.lightTextColor,fontSize:12,whiteSpace:"nowrap",marginLeft:"auto",flexShrink:0}}}v.displayName="SidebarSwitcherMenuItem",v.contextTypes={...b.mw,...l.w},v.mobileIconSize=36,v.desktopIconSize=32,v.dragHandleEffectiveWidth=16;const y=v},76453:(e,t,i)=>{i.d(t,{ZP:()=>j,Ax:()=>Q,bM:()=>re});var o=i(10434),n=i.n(o),r=i(23174),s=i.n(r),a=(i(57658),i(96486)),l=i.n(a),d=i(67294),c=i(480),u=i(81954),p=i(24405),m=i(16691),g=i(606),h=i(98459),b=i(89101),S=i(77858),v=i(66079),y=i(5366),f=i(93286),M=i(50906),w=i(58985),Z=i(29974),k=i(12359),A=i(52275),I=i(79131),x=i(88198),L=i(16354),C=i(78140),T=i(32163),P=i(40721),B=i(72495),F=i(1101),E=i(28125),U=i(87279),R=i(45094),_=i(38755),V=i(5162),N=i(79315),W=i(88632),O=i(24042),K=i(81236),z=i(68216),H=i(76487),D=i(62213),G=i(17364),$=i(27177),Y=i(77062);function j(e){window.__c={n:"SidebarSwitcherMultiAccountPopup"};const{parent:t,redirectURL:i,disableLoginLink:o,onSpaceClick:n,loginStore:r,loginPermissionsStore:a}=e;let l;const u=(0,c.O7)(),p=(0,c.Fy)(),m=G.Z.getUserIds(u),g=s()(J,{redirectURL:i,disableLoginLink:o,loginStore:r,loginPermissionsStore:a});return l=p.isMobile?{menuType:U.og.Modal,title:s()(y.FormattedMessage,{defaultMessage:"Accounts & Workspaces",id:"sidebarSwitcherMultiAccount.mobileMenu.title"}),right:s()(P.DoneMenuText,{}),onClickRight:t.close}:{menuType:U.og.Popup,minWidth:270,maxWidth:360,footer:g},d.createElement(C.Z,l,m.map(((e,t)=>s()(q,{userId:e,isLastUser:t===m.length-1,onSpaceClick:n},e))),p.isMobile&&g)}function q(e){window.__c={n:"UserSpaceViewList"};const{userId:t,isLastUser:i,onSpaceClick:o}=e,r=(0,c.O7)(),a=(0,c.Fy)(),g=(0,p.yK)((e=>({menuListMobile:{paddingTop:10},menuListNotLast:{borderBottom:`1px solid ${e.lightDividerColor}`}})),[]),b=(0,u.VK)((()=>[...G.Z.getSpaceViewStores(r,t).map((e=>e.pointer)).map((e=>({id:e.id,spaceId:(0,h.CG)(e.spaceId)}))).map(m.vY),"create-workspace-row"]),[r,t]),{currentUserRootStore:S,currentSpaceStore:v}=(0,u.VK)((()=>N.default.state),[]),{isElectronUsingCommandNumber:f}=(0,u.VK)((()=>O.Z.state),[]),w=(0,u.VK)((()=>G.Z.getSpaceViewStores(r,t)),[r,t]),Z=(0,u.VK)((()=>G.Z.getAllSpaceViewStores(r)),[r]),k=(0,y.useIntl)(),A=(0,u.VK)((()=>{if(!S||!v)return[];const e=[];for(const[i,s]of w.entries()){const i=s.getSpaceStore();if(i){const c=t===S.id&&i.id===v.id,{results:u}=H.Z.state,p=u.find((e=>e.spaceId===i.id)),m=l().findIndex(Z,(e=>e.id===s.id))+1,g=(0,_.rn)(r,i),h=re(r,k,i),b=se(r,k,i);e.push({key:s.id,render:e=>{const{online:o}=W.Z.state,s=!ee({userId:t,environment:r})&&!a.isMobile;return d.createElement(Y.Z,n()({},e,{id:i.id,icon:(0,_.Wd)(r,i),spaceName:g,title:h,caption:b,isCheck:c,unreadMentions:t===r.currentUser.id&&p&&p.spaceId!==v.id&&p.unread.mentions>0?p.unread.mentions:void 0,showDragHandle:s,shortcut:ae({isElectronMac:a.isElectronMac,isElectronUsingCommandNumber:f,shortcutIndex:a.isElectron?m:void 0}),disabled:!o&&r.currentUser.id!==t,disableTooltip:!0}))},action:async e=>{let{event:t}=e;oe(),c||await o({event:t,spaceViewStore:s}),M.sos(r)}})}}return e}),[Z,v,S,a,r,k,f,o,w,t]),x=0===A.length?[]:[{key:"spaces",render:e=>d.createElement(B.Z,n()({},e,{disableMobilePadding:!0,topBorder:a.isMobile,children:a.isMobile?e.children:s()(d.Fragment,{},void 0,s()(I.ZP,{direction:"vertical",keys:b,renderKey:t=>e.children[b.indexOf(t)],onDrop:ne({userId:t,environment:r}),style:{marginBottom:1}}))})),items:A}];return x.length>0?s()(d.Fragment,{},t,s()(X,{userId:t}),s()("div",{style:a.isMobile?g.menuListMobile:i?{}:g.menuListNotLast},void 0,s()(T.Z,{type:T.i.Vertical,sections:x,initialFocus:void 0}))):null}function Q(e){const{isMobile:t,theme:i}=e;return t?{}:{backgroundColor:i.sidebarSwitcherFooterBackground}}function J(e){window.__c={n:"Footer"};const{redirectURL:t,disableLoginLink:i,loginStore:o,loginPermissionsStore:n}=e,r=(0,c.Fy)().isMobile,a=(0,p.yK)((e=>({footer:Q({isMobile:r,theme:e})})),[r]),l=(0,c.O7)(),m=(0,u.VK)((()=>G.Z.hasAtLeastOneTeamPlan(l)),[l]),g=d.createElement(d.Fragment,null,!m&&s()($.Z,{createType:"create-work",redirectURL:t,disableLoginLink:i,loginStore:o,loginPermissionsStore:n}),!(0,V.Y)("supportsNativeHome")&&s()($.Z,{createType:"add-account",redirectURL:t,disableLoginLink:i,loginStore:o,loginPermissionsStore:n}));return s()("div",{style:a.footer},void 0,s()(B.Z,{topBorder:!0},void 0,E.k(l)&&g,s()(te,{})),!r&&s()(B.Z,{topBorder:!0},void 0,s()(ie,{})))}function X(e){window.__c={n:"AccountHeader"};const{userId:t}=e,{online:i}=(0,u.VK)((()=>W.Z.state),[]),o=(0,c.O7)(),n=(0,u.VK)((()=>G.Z.getUserEmailAddress(o,t)),[o,t]);return n?s()(F.Z,{emailAddress:n,userId:t,disabled:!i,accountActions:[(0,f.qu)(t),(0,f.pD)(t)]}):null}function ee(e){const{userId:t,environment:i}=e;return 1===(t?G.Z.getSpaceViewStores(i,t):G.Z.getAllSpaceViewStores(i)).length}function te(){window.__c={n:"LogoutAll"};const e=(0,u.VK)((()=>W.Z.state.online),[]),t=(0,c.O7)(),i=t.device.isMobile,o=(0,u.VK)((()=>G.Z.getUserIds(t)),[t]).length>1,n=(0,p.yK)((e=>({accountAction:{display:"flex",color:e.mediumTextColor,whiteSpace:"nowrap",fontSize:i?16:12,paddingLeft:0}})),[i]),r=(0,d.useCallback)((()=>{const{online:e}=W.Z.state;e&&(D.Z.setState({...D.Z.state,open:!1}),M.HYP(t),w.logout(t))}),[t]);return s()(A.Z,{onClick:r,focused:!1,disabled:!e,title:s()("div",{style:n.accountAction},void 0,s()(y.FormattedMessage,{defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {Log out all accounts} other {Log out}}",id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.label",values:{isLoggedIntoMultipleAccounts:o}}))})}function ie(){window.__c={n:"DownloadApps"};const e=(0,c.O7)(),t=(0,c.Fy)(),i=t.isElectron,o=(0,p.yK)((e=>({title:{color:e.mediumTextColor,fontSize:12}})),[]),n=(0,d.useCallback)((()=>{oe(),t.isWindows?M.dyr(e,{from:"sidebar",app_platform:"windows"}):M.dyr(e,{from:"sidebar",app_platform:"mac"})}),[t.isWindows,e]),r=(0,d.useCallback)((()=>{oe(),M.YY6(e,{from:"sidebar"})}),[e]);return i?s()(L.Z,{external:!0,href:b.AR.mobile,onClick:r},void 0,s()(A.Z,{focused:!1,title:s()("div",{style:o.title},void 0,s()(y.FormattedMessage,{defaultMessage:"Get iOS & Android app",id:"sidebarMultiSwitcher.desktopAppGetMobileApp.prompt"}))})):s()(L.Z,{external:!0,href:b.AR.desktop,onClick:n},void 0,s()(A.Z,{focused:!1,title:s()("div",{style:o.title},void 0,t.isWindows?s()(y.FormattedMessage,{defaultMessage:"Get Windows app",id:"sidebarMultiSwitcher.windowsAppButton.text"}):s()(y.FormattedMessage,{defaultMessage:"Get Mac app",id:"sidebarMultiSwitcher.macAppButton.text"}))}))}function oe(){D.Z.setState({...D.Z.state,open:!1})}function ne(e){const{userId:t,environment:i}=e;return function(e){const o=e.filter((e=>"create-workspace-row"!==e)).map(m.Vg).map((e=>g.dr.fromSpaceShardRecordId(e,S.zU))),n=new z.r9(i,{table:v.dx,id:t},{userId:t});k.createAndCommit({userAction:"SidebarSwitcherMultiAccount.handleDraggableListDrop",environment:i,perform:e=>{Z._Q({userRootStore:n,transaction:e,spaceViewIds:o.map((e=>e.id)),spaceViewPointers:o})},userId:t}),M.Q4L(i,{workspace_count:e.length})}}function re(e,t,i){const o=(0,_.rn)(e,i),n=K.Z.getPublicSpaceData(e,i.id);return n&&"none"===n.role?s()("div",{style:{display:"flex"}},void 0,s()("span",{style:{flexShrink:1,textOverflow:"ellipsis",overflow:"hidden"}},void 0,o),s()("div",{style:{marginLeft:"8px",alignSelf:"center"}},void 0,s()(x.b,{}))):o}function se(e,t,i){const o=K.Z.getPublicSpaceData(e,i.id);if(!o||"none"===o.role)return;const n=(0,R.em)(o.subscriptionTier),r=t.formatNumber(o.memberCount),s=t.formatMessage(n);return t.formatMessage(R.js.workspaceSubtitleWithMembers,{numberOfWorkspaceMembers:r,planType:s})}function ae(e){if(e.shortcutIndex&&!(e.shortcutIndex>9))return e.isElectronMac?e.isElectronUsingCommandNumber?`⌃⇧${e.shortcutIndex}`:`⌘${e.shortcutIndex}`:e.isElectronUsingCommandNumber?`alt+shift+${e.shortcutIndex}`:`ctrl+${e.shortcutIndex}`}}}]);