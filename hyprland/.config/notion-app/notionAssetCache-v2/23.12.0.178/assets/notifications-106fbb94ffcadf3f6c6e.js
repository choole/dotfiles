"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1909],{56922:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ce});var a=o(10434),n=o.n(a),s=o(23174),i=o.n(s),r=o(96486),l=o.n(r),d=o(67294),c=o(83355),p=o(49085),u=o(53397),m=o(29477),f=o(97880),g=o(5366),h=o(19719),b=o(17659),M=o(43250),y=o(87279),w=o(17652),v=o(51811),S=o(5162),T=o(79315),k=o(4761),C=o(24809),Z=o(23063),F=o(36488),N=o(68785),U=o(78140),I=o(89728),A=o(43145),B=o(30506),P=o(33411),R=o(37770),x=o(61208),D=o(480),G=o(81954),K=o(24405),L=o(73063),_=o(58032);function E(e){let{location:t}=e;window.__c={n:"InboxFilterForUnreadButton"};const o=(0,g.useIntl)(),a=(0,D.O7)(),{currentTab:s,showOnlyUnreadNotifications:r,isCurrentTabEmpty:l}=(0,G.VK)((()=>{const{currentTab:e,isCurrentTabEmpty:t}=k.ZP.state;return{currentTab:e,showOnlyUnreadNotifications:"mentions"===e&&k.ZP.state.showOnlyUnreadNotifications,isCurrentTabEmpty:t}}),[]),c=(0,d.useCallback)((async()=>{if(r)k.ZP.update((e=>({...e,showOnlyUnreadNotifications:!1,unreadNotificationIds:[]}))),h.U0(a,{toggled_to:"off"});else{const e=await b.Qy({environment:a});k.ZP.update((t=>({...t,showOnlyUnreadNotifications:!0,unreadNotificationIds:e}))),h.U0(a,{toggled_to:"on"})}}),[a,r]),p=(0,K.yK)((e=>({mobileTopBarIcon:{height:18,width:18,fill:r?void 0:e.regularTextColor},webUpdatesModalIcon:{height:17,width:17}})),[r]);if("mentions"!==s)return null;const m=!r&&l,M=i()(g.FormattedMessage,r?{defaultMessage:"Show all notifications",id:"updatesModal.unreadNotificationsFilterButton.allTooltip"}:{defaultMessage:"Show unread notifications only",id:"updatesModal.unreadNotificationsFilterButton.unreadTooltip"}),y=r?o.formatMessage({defaultMessage:"Show all notifications",id:"updatesModal.unreadNotificationsFilterButton.allTooltipAriaLabel"}):o.formatMessage({defaultMessage:"Show unread notifications only",id:"updatesModal.unreadNotificationsFilterButton.unreadTooltipAriaLabel"});let w,v;switch(t){case"mobileTopBar":w=void 0,v=p.mobileTopBarIcon;break;case"webUpdatesModal":w=!!r||void 0,p.webUpdatesModalIcon;break;default:(0,f.t1)(t)}return i()(_.Z,{disableTooltip:m,renderTooltip:()=>M,render:e=>d.createElement(L.Z,n()({icon:u.Z.filterCircled,isBlue:r,hovered:w,iconStyle:v,disabled:m,onClick:c,ariaLabel:y},e))})}const O=d.memo(E);var H=o(82990),j=o(33665),Y=o(76487),V=o(74523),W=o(39849),X=o(66957),z=o(27315),q=o(50906),Q=o(14786),$=o(92083),J=o(62820);function ee(e){let{location:t}=e;window.__c={n:"InboxNotificationSettingsButton"};const o=(0,g.useIntl)(),a=(0,D.O7)(),s=(0,d.useCallback)((()=>{const{device:e}=a;q.FRk(a),e.isMobile?Q.Z.setState({open:!0,source:Q.Y.Updates}):(J.Z.setState({...J.Z.state,open:!1}),(0,w.rB)()?$.Z.setState({...$.Z.state,currentTab:"notifications",defaultSubtab:void 0}):$.Z.setState({...$.Z.state,currentTab:"notifications_and_settings",defaultSubtab:void 0}),$.Z.setState({...$.Z.state,open:!0}))}),[a]),r=(0,K.yK)((e=>({mobileTopBarIcon:{height:18,width:18,fill:e.regularTextColor},webUpdatesModalIcon:{width:16,height:16}})),[]);let l;switch(t){case"mobileTopBar":l=r.mobileTopBarIcon;break;case"webUpdatesModal":l=r.webUpdatesModalIcon;break;default:(0,f.t1)(t)}return i()(_.Z,{renderTooltip:()=>i()(g.FormattedMessage,{defaultMessage:"Open notifications settings",id:"updatesModal.openNotifications.tooltip"}),render:e=>d.createElement(L.Z,n()({icon:u.Z.settings,iconStyle:l,onClick:s,ariaLabel:o.formatMessage({id:"updatesModal.openNotifications.tooltipAriaLabel",defaultMessage:"Open notifications settings button"})},e))})}const te=d.memo(ee);function oe(e){let{location:t,onClick:o}=e;window.__c={n:"InboxRefreshAllTabButton"};const a=(0,g.useIntl)(),s=(0,G.VK)((()=>k.ZP.state.currentTab),[]),r=(0,K.yK)((e=>({mobileTopBarIcon:{height:18,width:18,fill:e.regularTextColor},webUpdatesModalIcon:{height:17,width:17}})),[]);if("allPages"!==s)return null;let l;switch(t){case"mobileTopBar":l=r.mobileTopBarIcon;break;case"webUpdatesModal":l=r.webUpdatesModalIcon;break;default:(0,f.t1)(t)}return i()(_.Z,{renderTooltip:()=>i()(g.FormattedMessage,{defaultMessage:"Refresh",id:"updatesModal.allUpdatesRefreshButton.refreshButtonDescription"}),render:e=>d.createElement(L.Z,n()({icon:u.Z.refresh,iconStyle:l,onClick:o,ariaLabel:a.formatMessage({defaultMessage:"Refresh",id:"updatesModal.allUpdatesRefreshButton.refreshButtonDescriptionAriaLabel"})},e))})}const ae=d.memo(oe);var ne=o(92955);function se(e){let{orderedTabConfigs:t,onClickRefreshAllTab:o}=e;window.__c={n:"InboxModalHeader"};const a=(0,D.Fy)(),s=(0,D.O7)(),{currentTab:r,currentTabIndex:l}=(0,G.VK)((()=>{const{currentTab:e}=k.ZP.state,o=t.findIndex((t=>t.tab===e));return{currentTab:e,currentTabIndex:o}}),[t]),c=(0,d.useMemo)((()=>t.map(((e,t)=>{if(e.showSeparatorBefore)return t-1})).filter(f.$K)),[t]),p=(0,G.VK)((()=>Y.Z.getUnreadCountForCurrentSpace().mentions>0),[]),u=(0,d.useCallback)((e=>{const o=t[e],a=null==o?void 0:o.tab;a&&r!==a&&b.G7({environment:s,newTab:a,shouldTrack:!0})}),[r,s,t]),m=(0,K.yK)((()=>({mentionsContainer:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:p?H.Z.fontWeight.medium:void 0},tabBarRightStyle:{justifyContent:"space-between"},helpButton:{marginLeft:0,...a.isMobile&&{marginTop:-1}},unreadMentionsBadge:{marginLeft:6},actionButtons:{display:"flex",justifyContent:"center",gap:6}})),[a.isMobile,p]),h=W.Z.Color.Red,y={mentions:i()("div",{style:m.mentionsContainer,className:M.I2F},void 0,i()("div",{},void 0,i()(g.FormattedMessage,{defaultMessage:"Inbox",id:"updatesModal.mentionsTab.title"})),i()(ne.Z,{type:"currentSpace",color:h,style:m.unreadMentionsBadge})),allPages:i()("div",{className:M.gjL},void 0,i()(g.FormattedMessage,{defaultMessage:"All",id:"updatesModal.allUpdatesTab.title"})),archive:i()("div",{className:M.HKr},void 0,i()(g.FormattedMessage,{defaultMessage:"Archived",id:"updatesModal.archiveTab.title"}))},w=t.map((e=>y[e.tab])),v="webUpdatesModal",S=!a.isMobile&&i()("div",{style:m.actionButtons},void 0,i()(ae,{location:v,onClick:o}),i()(O,{location:v}),i()(te,{location:v})),T=d.createElement(d.Fragment,null,i()(_.Z,{render:e=>d.createElement(V.Z,n()({href:(0,j.UY)("guides.notifications"),analyticsFrom:"inbox_tabs_link",style:m.helpButton},e)),renderTooltip:()=>i()(g.FormattedMessage,{id:"updatesButton.learnMoreAboutInboxLink",defaultMessage:"Learn more about notifications"})}),S);return d.createElement(d.Fragment,null,i()(X.Z,{tabs:w,selectedIndex:l,onChange:u,separatorIndexes:c,right:T,rightStyle:m.tabBarRightStyle}),"mentions"===r&&i()(z.Z,{}))}const ie=d.memo(se);var re=o(36676);const le=[{tab:"mentions"},{tab:"archive"},{tab:"allPages",showSeparatorBefore:!0}];class de extends c.Z{constructor(){super(...arguments),this.storeTypes={refreshCountStore:p.default.createClass(0)},this.loadingSpinner=()=>{if((0,S.Y)("supportsNativeHome"))return i()(P.Z,{show:void 0!==k.ZP.state.loadingId,showDelay:400,showHold:0,render:e=>i()(e?N.Z:"div",{style:{width:14}})})},this.handleCloseUpdatesPopup=()=>{h.nI(this.environment),b.G7({environment:this.environment,newTab:"mentions",shouldTrack:!1})},this.handleSwipeLeft=()=>{const e=le.findIndex((e=>e.tab===k.ZP.state.currentTab)),t=le[e+1].tab;void 0!==t&&b.G7({environment:this.environment,newTab:t,shouldTrack:!0})},this.handleSwipeRight=()=>{const e=le.findIndex((e=>e.tab===k.ZP.state.currentTab)),t=le[e-1].tab;void 0!==t&&b.G7({environment:this.environment,newTab:t,shouldTrack:!0})},this.handleRefreshAll=()=>{const{refreshCountStore:e}=this.stores;e.setState(e.state+1)},this.handleRefreshAllThrottled=l().debounce(this.handleRefreshAll,1e3,{leading:!0})}willUnmount(){this.handleCloseUpdatesPopup()}renderComponent(){const{device:e}=this.environment;let t;const o=i()(ie,{onClickRefreshAllTab:this.handleRefreshAllThrottled,orderedTabConfigs:le});if(e.isMobile){const a="mobileTopBar";t={menuType:y.og.Modal,title:(0,w.Lf)()?i()(g.FormattedMessage,{defaultMessage:"Notifications",id:"notificationsModal.mobileMenu.title"}):i()(g.FormattedMessage,{defaultMessage:"Updates",id:"updatesModal.mobileMenu.title"}),width:this.props.format===v.EX.RenderAsPage?"100vw":void 0,renderAsPage:this.props.format===v.EX.RenderAsPage,right:[i()(ae,{onClick:this.handleRefreshAllThrottled,location:a},"InboxRefreshAllTabButton"),i()(O,{location:a},"InboxFilterForUnreadButton"),i()("span",{style:{width:8}},"paddingSpan"),i()(te,{location:a},"InboxNotificationSettingsButton")],left:[this.loadingSpinner(),e.isPhone&&(0,S.Y)("supportsNativeHome")&&this.props.format===v.EX.RenderAsPage?void 0:u.Z.chevronLeftRounded({fill:this.theme.regularTextColor,width:26,height:26})],onClickLeft:this.props.onClose,header:o,whiteBackground:!0}}else t={menuType:y.og.Popup,header:o,height:"auto"};return i()(B.Z,{onSwipeLeft:this.handleSwipeLeft,onSwipeRight:this.handleSwipeRight,render:e=>d.createElement(U.Z,n()({},t,e,{className:M.C18}),i()(A.Z,{onChange:(e,t)=>{let{offsetFromTop:o}=t;k.n_.setState(o<=0)}}),i()(F.Z,{capture:!0,allowUndo:!0,allowEsc:!0,allowMobileAutoScroll:!0,render:()=>this.props.format===v.EX.RenderAsPage?this.renderContentAsPageWithLazyLoader():this.renderContent()}))})}renderContent(){const e=k.ZP.state.currentTab;if("allPages"===e){const{currentSpaceStore:e,mainEditorCurrentBlockStore:t}=T.default.state;return e&&t?i()(C.Z,{spaceId:e.id,empty:()=>i()(x.Z,{message:i()(g.FormattedMessage,{defaultMessage:"Updates on pages in your workspace will appear here.",id:"updatesModal.allPagesTab.emptyPrompt"}),title:i()(g.FormattedMessage,{defaultMessage:"No new updates",id:"updatesModal.allPagesTab.emptyPromptTitle"})}),source:"notifications_tab"},`all-pages-${this.stores.refreshCountStore.state}`):null}if("mentions"===e){const e=k.ZP.state.showOnlyUnreadNotifications;return i()(re.Z,{type:"mentions",empty:e?this.renderEmptyUnreadMentionsTab():i()(x.Z,{message:i()(g.FormattedMessage,{defaultMessage:"You'll be notified here for @mentions, page activity, requests, and page invites.",id:"updatesModal.spaceUpdatesTab.allArchivedRequests"}),title:i()(g.FormattedMessage,{defaultMessage:"You're all caught up",id:"updatesModal.spaceUpdatesTab.allArchivedTitle"})}),source:"notifications_tab",tab:"inbox"},"mentions")}if("archive"===e)return i()(re.Z,{type:"archive",empty:i()(x.Z,{message:i()(g.FormattedMessage,{defaultMessage:"Any Inbox updates you archived will show up here.",id:"updatesModal.archiveTab.emptyPrompt"}),title:i()(g.FormattedMessage,{defaultMessage:"No archived updates",id:"updatesModal.archiveTab.emptyPromptTitle"})}),source:"notifications_tab",tab:"archive"},"archive");(0,f.t1)(e)}renderContentAsPageWithLazyLoader(){return i()(R.Z,{fetch:async()=>{await m.Vs(0),await T.default.waitUntil((()=>void 0!==T.default.state.currentSpaceStore))},loading:()=>i()(d.Fragment,{}),willRender:()=>{var e;null===(e=this.environment.mobileNative)||void 0===e||e.markTransitionReady({type:"updates"})},render:()=>i()(Z.Z,{isVisible:!0,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},blockRenderQueueOnEnter:!0,render:()=>this.renderContent()})})}renderEmptyUnreadMentionsTab(){return i()(x.Z,{icon:u.Z.thinCheck,title:i()(g.FormattedMessage,{defaultMessage:"You've read everything",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabTitle"}),message:i()("div",{},void 0,i()(g.FormattedMessage,{defaultMessage:"You have more notifications in your inbox.",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabMessage"}),i()("div",{style:{height:12}}),i()(I.Z,{isBlue:!0,onClick:()=>{"mentions"===k.ZP.state.currentTab&&k.ZP.setState({...k.ZP.state,showOnlyUnreadNotifications:!1,unreadNotificationIds:[]})}},void 0,i()(g.FormattedMessage,{defaultMessage:"See all",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabButton"})))})}}de.displayName="UpdatesPopup",de.Format=v.EX;const ce=de},74136:(e,t,o)=>{o.d(t,{Z:()=>p});var a=o(10434),n=o.n(a),s=o(23174),i=o.n(s),r=o(67294),l=o(480),d=o(24405),c=o(64921);function p(e){window.__c={n:"Pill"};const t=(0,l.Fy)(),o=(0,d.yK)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:3},innerStyle:{padding:"2px 6px",borderRadius:3,color:e.mediumTextColor,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?i()(c.Z,{style:{...o.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick},void 0,i()("div",{style:{...o.innerStyle,...e.innerStyle}},void 0,e.children)):r.createElement(c.Z,n()({style:{...o.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick},e),i()("div",{style:{...o.innerStyle,...e.innerStyle}},void 0,e.children))}},91718:(e,t,o)=>{o.d(t,{Z:()=>b});var a=o(10434),n=o.n(a),s=o(23174),i=o.n(s),r=o(67294),l=o(83355),d=o(47425),c=o(97880),p=o(5366),u=o(1865),m=o(21115),f=o(74136),g=o(58032);class h extends l.Z{constructor(){super(...arguments),this.handleClick=e=>{u.y(this.environment,{from:this.props.analyticsName,for:this.props.subscriptionTier}),this.props.onClick&&this.props.onClick(e)}}renderComponent(){const{device:e}=this.environment;if(e.isIOS&&e.isNative)return;let t;return"personal"===this.props.subscriptionTier?t=i()(p.FormattedMessage,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,d.eR)(this.props.subscriptionTier)?t=m.eV:(0,d.NG)(this.props.subscriptionTier)?t=i()(p.FormattedMessage,{defaultMessage:"Business",id:"upgradeButton.business.text"}):(0,d.wP)(this.props.subscriptionTier)?t=i()(p.FormattedMessage,{defaultMessage:"Enterprise",id:"upgradeButton.enterprise.text"}):(0,c.t1)(this.props.subscriptionTier),e.isMobile?i()(f.Z,{mobileStyle:this.props.mobileStyle},void 0,t):i()(g.Z,{delayThreshold:120,placement:g.Z.Placement.Bottom,renderTooltip:()=>i()("div",{style:{maxWidth:500}},void 0,i()(p.FormattedMessage,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"}),i()("br",{}),i()(p.FormattedMessage,{defaultMessage:"Click to learn more.",id:"upgradeButton.learnMore.tooltip"})),originGap:6,render:e=>r.createElement(f.Z,n()({desktopStyle:this.props.desktopStyle,onClick:this.handleClick},e),t)})}}h.displayName="UpsellButton";const b=h},9919:(e,t,o)=>{o.d(t,{t0:()=>Z,Zk:()=>k,CA:()=>T});var a=o(10434),n=o.n(a),s=o(23174),i=o.n(s),r=o(67294),l=o(23482),d=o(53397),c=o(97880),p=o(5366),u=o(62967),m=o(57883),f=o(50906),g=o(9953),h=o(12359);function b(e){const{environment:t,key:o,selectedKey:a,following:n,followSettings:s,navigableBlockId:i,userId:r,spaceId:l,from:d}=e;h.createAndCommit({userAction:"UpdateSidebarFollowControl.setFollowing",environment:e.environment,canUndo:!1,perform:t=>{g.Ue({environment:e.environment,table:m.t0,args:{following:n,followSettings:s,navigableBlockId:i,userId:r,spaceId:l},inMemoryRecordCache:e.environment.defaultRecordCache.inMemoryRecordCache,transaction:t})}}),n?f.RJe(t,{from:"page_updates"}):f.ubm(t,{from:"page_updates"}),a!==o&&f.kLN(t,{from:d,navigableBlockId:i,oldSetting:a,newSetting:o})}var M=o(64964),y=o(93405),w=o(64369),v=o(79315),S=o(57538);function T(e){const{followSettingsKey:t,environment:o,blockStore:a,from:n,useCopyChanges:s}=e,r=C({key:"none",selectedKey:t,title:i()(p.FormattedMessage,s?{id:"GetNotifiedDropdown.repliesAndMentions.label",defaultMessage:"Replies and @mentions"}:{id:"GetNotifiedDropdown.mentionsAndReplies.label",defaultMessage:"Only replies and @mentions"}),environment:o,blockStore:a,from:n}),d=C({key:"comments",selectedKey:t,title:i()(p.FormattedMessage,s?{id:"GetNotifiedDropdown.allComments.label",defaultMessage:"All comments"}:{id:"GetNotifiedDropdown.allUpdatesComments.label",defaultMessage:"All updates"}),caption:s?void 0:i()(p.FormattedMessage,{id:"GetNotifiedDropdown.allComments.caption",defaultMessage:"All comments and @mentions"}),environment:o,blockStore:a,from:n}),c=C({key:"all",selectedKey:t,title:i()(p.FormattedMessage,{id:"GetNotifiedDropdown.allUpdates.label",defaultMessage:"All updates"}),caption:i()(p.FormattedMessage,s?{id:"GetNotifiedDropdown.simpleAllUpdates.caption",defaultMessage:"All comments and property changes"}:{id:"GetNotifiedDropdown.allUpdates.caption",defaultMessage:"All comments, @mentions, and property changes"}),environment:o,blockStore:a,from:n}),u=a.getAssociatedCollectionStore();if(!u)return[d,r];const m=u.getDatabaseType();if(m===l.GL.tasks){return[c,C({key:"important",selectedKey:t,title:i()(p.FormattedMessage,s?{id:"GetNotifiedDropdown.importantUpdatesTasks.label",defaultMessage:"Important updates"}:{id:"GetNotifiedDropdown.onlyImportantUpdatesTasks.label",defaultMessage:"Only important updates"}),caption:i()(p.FormattedMessage,s?{id:"GetNotifiedDropdown.importantUpdatesTasks.caption",defaultMessage:"All comments and changes to Status, Assignee, or Due Date"}:{id:"GetNotifiedDropdown.onlyImportantUpdatesTasks.caption",defaultMessage:"All comments, @mentions, and changes to Status, Assignee, or Due Date"}),environment:o,blockStore:a,from:n}),r]}if(m===l.GL.projects){return[c,C({key:"important",selectedKey:t,title:i()(p.FormattedMessage,s?{id:"GetNotifiedDropdown.importantUpdatesProjects.label",defaultMessage:"Important updates"}:{id:"GetNotifiedDropdown.onlyImportantUpdatesProjects.label",defaultMessage:"Only important updates"}),caption:i()(p.FormattedMessage,s?{id:"GetNotifiedDropdown.importantUpdatesProjects.caption",defaultMessage:"All comments and changes to Status or Date"}:{id:"GetNotifiedDropdown.onlyImportantUpdatesProjects.caption",defaultMessage:"All comments, @mentions, and changes to Status or Date"}),environment:o,blockStore:a,from:n}),r]}return[c,C({key:"comments",selectedKey:t,title:i()(p.FormattedMessage,s?{id:"GetNotifiedDropdown.onlyCommentsAllComments.label",defaultMessage:"All comments"}:{id:"GetNotifiedDropdown.onlyComments.label",defaultMessage:"Only comments"}),caption:s?void 0:i()(p.FormattedMessage,{id:"GetNotifiedDropdown.onlyComments.caption",defaultMessage:"All comments and @mentions"}),environment:o,blockStore:a,from:n}),r]}function k(e){const{followSettingsKey:t,environment:o,blockStore:a,from:n}=e;return[C({key:"important",selectedKey:t,title:i()(p.FormattedMessage,{id:"inAppNotificationsFollowingOptionsHelpers.allComments.label",defaultMessage:"All comments"}),caption:i()(p.FormattedMessage,{id:"inAppNotificationsFollowingOptionsHelpers.allComments.caption",defaultMessage:"Notified of all comments and @mentions"}),environment:o,blockStore:a,from:n}),C({key:"none",selectedKey:t,title:i()(p.FormattedMessage,{id:"inAppNotificationsFollowingOptionsHelpers.mentionsAndReplies.label",defaultMessage:"Replies and @mentions"}),caption:i()(p.FormattedMessage,{id:"inAppNotificationsFollowingOptionsHelpers.mentionsAndReplies.caption",defaultMessage:"Notified of comment replies and @mentions"}),environment:o,blockStore:a,from:n})]}function C(e){const{key:t,title:o,caption:a,selectedKey:s,environment:l,blockStore:c,from:p}=e,m=Z({key:t,userSelectedKey:s}),f={icon:{width:14,height:14},rightWrapper:a?{alignSelf:"flex-start",paddingTop:2}:{}};return{action:(0,u.PH)({key:t,displayName:void 0,analyticsName:t,validators:[],closeParentMenu:!0,action:()=>{const{currentUserRootStore:e}=v.default.state;if(e){const{following:o,followSettings:a}=(0,S.Z)(t),n=e.id,i=c.id,r=c.getSpaceId();b({environment:l,following:o,followSettings:a,navigableBlockId:i,spaceId:r,userId:n,from:p,key:t,selectedKey:s}),"inbox"!==p&&"more_menu"!==p||M.d4({item:{label:F(t)},undoFunc:()=>{const{following:e,followSettings:o}=(0,S.Z)(s);b({environment:l,following:e,followSettings:o,navigableBlockId:i,spaceId:r,userId:n,from:p,key:t,selectedKey:s})}})}},render:e=>r.createElement(y.Z,n()({},e,{title:i()(w.Z,{},void 0,o),caption:a,shouldWrapCaption:!0,right:m?d.Z.thinCheck(f.icon):i()("div",{style:f.icon}),rightStyle:f.right}))}),title:o}}function Z(e){const{key:t,userSelectedKey:o}=e;return"important"===o||"comments"===o?"important"===t||"comments"===t:t===o}function F(e){switch(e){case"none":return i()(p.FormattedMessage,{id:"GetNotifiedDropdown.subscribedRepliesAndMentionsSuccess.snackbarMessage",defaultMessage:"Subscribed to replies and @mentions"});case"comments":return i()(p.FormattedMessage,{id:"GetNotifiedDropdown.subscribedAllCommentsSuccess.snackbarMessage",defaultMessage:"Subscribed to all comments"});case"important":return i()(p.FormattedMessage,{id:"GetNotifiedDropdown.subscribedImportantUpdatesSuccess.snackbarMessage",defaultMessage:"Subscribed to important updates"});case"all":return i()(p.FormattedMessage,{id:"GetNotifiedDropdown.subscribedAllUpdatesSuccess.snackbarMessage",defaultMessage:"Subscribed to all updates"});default:(0,c.t1)(e)}}}}]);